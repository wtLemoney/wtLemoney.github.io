<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>wtLemoney</title>
  
  <subtitle>To be a happy&amp;lovely programmer...</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://wtlemoney.github.io/"/>
  <updated>2018-06-13T15:37:38.146Z</updated>
  <id>https://wtlemoney.github.io/</id>
  
  <author>
    <name>wtLemoney</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>vue2.0中transition过渡效果</title>
    <link href="https://wtlemoney.github.io/2018/06/13/vue%E8%BF%87%E6%B8%A1/"/>
    <id>https://wtlemoney.github.io/2018/06/13/vue过渡/</id>
    <published>2018-06-13T15:24:49.000Z</published>
    <updated>2018-06-13T15:37:38.146Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1关于过渡的说明">1.关于过渡的说明</a></li><li><a href="#2购物车小球动画实现">2.购物车小球动画实现</a></li></ul><!-- tocstop --><a id="more"></a><h3><span id="1关于过渡的说明">1.关于过渡的说明</span></h3><p>组件过渡过程中，会有六个CSS类名进行切换，这六个类名transition的name属性有关，比如name=”fade”，会有如下六个CSS类名：</p><ul><li><p><code>fade-enter</code>：定义进入过渡的开始状态，元素被插入时生效，只应用一帧后立即删除；</p></li><li><p><code>fade-enter-active</code>：定义过渡的状态，元素被插入时就生效，在过渡过程完成之后移除；</p></li><li><p><code>fade-enter-to</code>: 定义进入过渡的结束状态。在元素被插入一帧后生效；（ 2.1.8版及以上）</p></li><li><p><code>fade-leave</code>：定义离开过渡的开始状态，元素被删除时触发，只应用一帧后立即删除；</p></li><li><p><code>fade-leave-active</code>：定义离开过渡的状态，元素被删除时生效，离开过渡完成之后被删除；</p></li><li><p><code>fade-leave-to</code>:定义离开过渡的结束状态。在离开过渡被触发一帧后生效；（ 2.1.8版及以上）</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">all</span> 0<span class="selector-class">.5s</span></span><br><span class="line">&amp;.fade-enter-avtive, &amp;.move-leave-active  //定义动画的过程中的透明度</span><br><span class="line">  <span class="selector-tag">opacity</span>: 1</span><br><span class="line">&amp;.fade-enter, &amp;.move-leave-to  //定义动画的开始与动画结束的透明度</span><br><span class="line">  <span class="selector-tag">opacity</span>: 0</span><br></pre></td></tr></table></figure><h3><span id="2购物车小球动画实现">2.购物车小球动画实现</span></h3><p>如下图，为项目实战中的小球动画：小球从右边+号位置<code>一边平移,一边旋转180°</code>到左边-号位置</p><div align="center"><br><img src="/2018/06/13/vue过渡/ball.gif" alt="img"><br></div><ul><li><p>html结构<br>其中，小球是一个字体图标，通过在i标签中添加相应的class实现的。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="attribute">transition</span>-group name=<span class="string">'move'</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> key=<span class="string">"out"</span> class=<span class="string">"cart-decrease"</span> @click<span class="selector-class">.stop</span><span class="selector-class">.prevent</span>=<span class="string">"decreaseCart"</span> v-show=<span class="string">"food.count&gt;0"</span>&gt;</span><br><span class="line">        &lt;<span class="selector-tag">span</span> key=<span class="string">"in"</span> class=<span class="string">"inner icon-remove_circle_outline"</span>&gt;&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/<span class="attribute">transition</span>-group&gt;</span><br></pre></td></tr></table></figure></li><li><p>动画思路<br>在整体cart－decrease上实现：<br><code>transform3d（24px,0,0）—&gt; transform3d（0,0,0）</code><br><code>opacity：0 —&gt; opacity: 1</code><br>在.inner标签上实现：<br><code>rotate(180deg) —&gt; rotate(0)</code></p></li><li><p>style样式（stylus）</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.cart-decrease</span><br><span class="line">       <span class="attribute">display</span> inline-block</span><br><span class="line">       <span class="attribute">padding</span> <span class="number">6px</span></span><br><span class="line">       <span class="attribute">opacity</span> <span class="number">1</span> //整体进入后透明度为<span class="number">1</span></span><br><span class="line">       <span class="attribute">transform</span> translate3d(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">       .inner</span><br><span class="line">           <span class="attribute">display</span> inline-block</span><br><span class="line">           <span class="attribute">line-height</span> <span class="number">24px</span></span><br><span class="line">           <span class="attribute">font-size</span> <span class="number">24px</span></span><br><span class="line">           <span class="attribute">color</span> rgb(<span class="number">0</span>,<span class="number">160</span>,<span class="number">220</span>)</span><br><span class="line">           <span class="attribute">transition</span> all <span class="number">0.4s</span> linear //这个不能继承，还需再写一次</span><br><span class="line">           <span class="attribute">transform</span> rotate(<span class="number">0</span>) //进入角度</span><br><span class="line">       &amp;<span class="selector-class">.move-enter-active</span>,&amp;.move-leave-active</span><br><span class="line">           <span class="attribute">transition</span>: all <span class="number">0.4s</span> linear </span><br><span class="line">       &amp;<span class="selector-class">.move-enter</span>,&amp;.move-leave-to</span><br><span class="line">           <span class="attribute">opacity</span> <span class="number">0</span> //进入前和离开后整体的透明度</span><br><span class="line">           <span class="attribute">transform</span> translate3d(<span class="number">24px</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">           .inner</span><br><span class="line">               <span class="attribute">transform</span> rotate(<span class="number">180deg</span>)</span><br></pre></td></tr></table></figure><p>其中，<code>&amp;.move-enter-active,&amp;.move-leave-active</code>是小球进入，和离开过程的样式。<br>由于transition: all .8s ease  只能应用到div.decrease上，不能继承到i.inner,所以需要另外在i.inner上写transition: all .8s ease 。<br>另外，<code>.move-enter-active,.move-leave-active</code>可以删除，将<code>transition: all .8s ease</code>添加到<code>.cart-decrease</code> </p></li></ul><p>下面是vue1.0中transition的实现代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">transition</span>=<span class="string">'move'</span> <span class="attr">class</span>=<span class="string">"cart-decrease"</span> @<span class="attr">click.stop.prevent</span>=<span class="string">"decreaseCart"</span> <span class="attr">v-show</span>=<span class="string">"food.count&gt;0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"inner icon-remove_circle_outline"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.cart-decrease</span><br><span class="line">       <span class="attribute">display</span> inline-block</span><br><span class="line">       <span class="attribute">padding</span> <span class="number">6px</span></span><br><span class="line">       <span class="attribute">transition</span> all <span class="number">0.4s</span> linear      </span><br><span class="line">       &amp;.move-<span class="attribute">transition</span></span><br><span class="line">           <span class="attribute">opacity</span> <span class="number">1</span> //整体进入后透明度为<span class="number">1</span></span><br><span class="line">           <span class="attribute">transform</span> translate3d(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">           .inner</span><br><span class="line">               <span class="attribute">display</span> inline-block</span><br><span class="line">               <span class="attribute">line-height</span> <span class="number">24px</span></span><br><span class="line">               <span class="attribute">font-size</span> <span class="number">24px</span></span><br><span class="line">               <span class="attribute">color</span> rgb(<span class="number">0</span>,<span class="number">160</span>,<span class="number">220</span>)</span><br><span class="line">               <span class="attribute">transition</span> all <span class="number">0.4s</span> linear //这个不能继承，还需再写一次</span><br><span class="line">               <span class="attribute">transform</span> rotate(<span class="number">0</span>) //进入角度</span><br><span class="line">       &amp;<span class="selector-class">.move-enter</span>,&amp;.move-leave</span><br><span class="line">           <span class="attribute">opacity</span> <span class="number">0</span> //进入前和离开后整体的透明度</span><br><span class="line">           <span class="attribute">transform</span> translate3d(<span class="number">24px</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">           .inner</span><br><span class="line">               <span class="attribute">transform</span> rotate(<span class="number">180deg</span>)</span><br></pre></td></tr></table></figure><p>更多学习：<br><a href="https://cn.vuejs.org/v2/guide/transitions.html" target="_blank" rel="noopener">进入/离开 &amp; 列表过渡</a><br><a href="https://www.cnblogs.com/jr1993/p/vue.html" target="_blank" rel="noopener">vue2.0 transition – demo实践填坑</a></p>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1关于过渡的说明&quot;&gt;1.关于过渡的说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2购物车小球动画实现&quot;&gt;2.购物车小球动画实现&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="Vue" scheme="https://wtlemoney.github.io/categories/Vue/"/>
    
      <category term="stylus" scheme="https://wtlemoney.github.io/categories/Vue/stylus/"/>
    
      <category term="transition" scheme="https://wtlemoney.github.io/categories/Vue/stylus/transition/"/>
    
    
      <category term="Vue" scheme="https://wtlemoney.github.io/tags/Vue/"/>
    
      <category term="stylus" scheme="https://wtlemoney.github.io/tags/stylus/"/>
    
      <category term="transition" scheme="https://wtlemoney.github.io/tags/transition/"/>
    
  </entry>
  
  <entry>
    <title>vue1.0和vue2.0中的路由</title>
    <link href="https://wtlemoney.github.io/2018/06/10/vue%E8%B7%AF%E7%94%B1/"/>
    <id>https://wtlemoney.github.io/2018/06/10/vue路由/</id>
    <published>2018-06-10T14:50:31.000Z</published>
    <updated>2018-06-13T15:31:33.418Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1vue10中声明和使用路由">1.vue1.0中声明和使用路由</a></li><li><a href="#2vue10中v-link指令特性">2.vue1.0中v-link指令特性</a></li><li><a href="#3vue20中的路由">3.vue2.0中的路由</a></li><li><a href="#4路由嵌套的不同">4.路由嵌套的不同</a></li></ul><!-- tocstop --><a id="more"></a><h3><span id="1vue10中声明和使用路由">1.vue1.0中声明和使用路由</span></h3><p>在脚手架中，</p><ul><li>先下载vue-router，在你的项目中用命令行中键入npm install <a href="mailto:vue-router@0.7.13" target="_blank" rel="noopener">vue-router@0.7.13</a>，@后面的数字代表版本号。</li><li>在项目中导入vue-router，导入完了之后用Vue.use()方法来使用路由</li><li>new一个路由对象，在map中配置路由，最后开启路由。</li></ul><p>例子说明，</p><p>在App.vue中，有两个路由映射，这两个映射分别跳到Home.vue和News.vue中：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">&lt;template&gt;</span></span><br><span class="line">   <span class="params">&lt;div id="app"&gt;</span></span><br><span class="line">      <span class="params">&lt;h3&gt;</span>vue-loader+ vue-router<span class="params">&lt;/h3&gt;</span></span><br><span class="line">      <span class="params">&lt;div&gt;</span></span><br><span class="line">         <span class="params">&lt;a v-link="&#123;path:'/home'&#125;"&gt;</span>主页<span class="params">&lt;/a&gt;</span></span><br><span class="line">         <span class="params">&lt;a v-link="&#123;path:'/news'&#125;"&gt;</span>新闻<span class="params">&lt;/a&gt;</span></span><br><span class="line">      <span class="params">&lt;/div&gt;</span></span><br><span class="line">      <span class="params">&lt;router-view&gt;</span><span class="params">&lt;/router-view&gt;</span><span class="comment">//路由的视图</span></span><br><span class="line">   <span class="params">&lt;/div&gt;</span></span><br><span class="line"><span class="params">&lt;/template&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="params">&lt;style&gt;</span></span><br><span class="line">   body&#123;</span><br><span class="line"><span class="symbol">      background:</span> <span class="meta">#ccc</span></span><br><span class="line">   &#125;</span><br><span class="line">   .v-link-active&#123; <span class="comment">//链接活跃时的class</span></span><br><span class="line">      font-size: <span class="number">20</span>px;</span><br><span class="line"><span class="symbol">      color:</span> <span class="meta">#f60;</span></span><br><span class="line">   &#125;</span><br><span class="line"><span class="params">&lt;/style&gt;</span></span><br></pre></td></tr></table></figure><p>Home.vue和News.vue中内容如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">h3</span>&gt;</span>我是主页<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">h3</span>&gt;</span>我是新闻<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在<code>main.js</code>中配置路由：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span>  <span class="comment">//引入一个路由组件</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter);  <span class="comment">//使用被引用的路由</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'./components/Home.vue'</span> <span class="comment">//导入被映射的组件</span></span><br><span class="line"><span class="keyword">import</span> News <span class="keyword">from</span> <span class="string">'./components/News.vue'</span> <span class="comment">//导入被映射的组件</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//配置路由，路由是常量，不能变更，所以用const</span></span><br><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> VueRouter();</span><br></pre></td></tr></table></figure></p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//声明一些路由的规则</span><br><span class="line">router.<span class="keyword">map</span>(&#123;</span><br><span class="line">   <span class="string">'home'</span>:&#123;</span><br><span class="line">      component:Home</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="string">'news'</span>:&#123;</span><br><span class="line">      component:News</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认打开的组件</span></span><br><span class="line">router.redirect(&#123;</span><br><span class="line">   '/':'/home'</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.start(App,'#app');  <span class="comment">//打开路由</span></span><br></pre></td></tr></table></figure><p>或者新建一个router.config.js文件，在该文件中这样配置路由：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//专门配置路由规则</span></span><br><span class="line"><span class="comment">//引入模块</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'./components/Home.vue'</span></span><br><span class="line"><span class="keyword">import</span> News <span class="keyword">from</span> <span class="string">'./components/News.vue'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">   <span class="string">'/home'</span>:&#123;</span><br><span class="line">      component:Home</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="string">'/news'</span>:&#123;</span><br><span class="line">      component:News</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>然后在原来的main.js中这样调用：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> routerConfig <span class="keyword">from</span> <span class="string">'./router.config.js'</span>  <span class="comment">//导入router.config.js</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter);</span><br><span class="line"></span><br><span class="line"><span class="comment">//配置路由</span></span><br><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> VueRouter();</span><br><span class="line"></span><br><span class="line">router.map(routerConfig);  <span class="comment">//在这里导入配置文件</span></span><br><span class="line"></span><br><span class="line">router.redirect(&#123;</span><br><span class="line">   <span class="string">'/'</span>:<span class="string">'/home'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.start(App,<span class="string">'#app'</span>);</span><br></pre></td></tr></table></figure></p><p>最后运行。</p><h3><span id="2vue10中v-link指令特性">2.vue1.0中v-link指令特性</span></h3><p>1）链接活跃时的class<code>.v-link-active</code>：</p><p>一个带有指令v-link=’/a’的元素，只要当前路径以/a开头，此元素就会被判断为活跃。<br>另外，通过exact内联选项,可以设置路径完全一致时才匹配：<code>&lt;a v-link=&quot;{ path: &#39;/a&#39;, exact: true }&quot;&gt;&lt;/a&gt;</code></p><p>2）改变活跃时class：</p><p>方法一：通过创建路由实例时传入linkActiveClass来指定；- - - - 全局</p><p>方法二：通过activeClass内联选项来单独指定,即 <code>&lt;a v-link=&quot;{path:&#39;/a&#39;,activeClass:&#39;own-defined-class&#39;}&quot;</code></p><p>3）v-link内联选项:</p><p>v-link 会自动设置 <code>&lt;a&gt;</code>的 href 属性。</p><blockquote><p>replace:<br>    带有指令v-link的元素默认是触发router.go()事件，保留历史记录；<br>    //设置replace，点击时触发router.replace()，跳转不会留下历史记录：- - -不会留下当前页面的历史记录，会留下目标页面的历史记录；<br>    <code>&lt;a v-link=&quot;{path:&#39;/a&#39;,replace:true}&quot;</code>      </p></blockquote><blockquote><p>append:<br>    //path必须是相对路径；- - -绝对路径不行；<br>    带有append:true选项的相对路径跳转时会将自己的路径添加到当前页面URL路径之后；<br>    <code>&lt;a v-link=&#39;{path:&quot;/a&quot;}&#39;&gt;&lt;/a&gt;</code><br>   <code>&lt;a v-link=&#39;{path:&quot;b&quot;,append:true}&#39;&gt;&lt;/a&gt;</code><br>    //由a跳转至b，生成的URL为/a/b<br>    //如果path:’/b’的话，生成的URL为/b</p></blockquote><h3><span id="3vue20中的路由">3.vue2.0中的路由</span></h3><p>不同点：<br>一般在脚手架中，下载路由不用加版本号，默认下载最新的版本。</p><p>不是在<code>&lt;a&gt;</code>标签中加入v-link这个属性，不需要<code>&lt;a&gt;</code>标签作为映射，直接通过<code>&lt;router-link to=&quot;路径&quot;&gt;</code>来作为映射,在App.vue文件中：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>vue2.0+webpack<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/home"</span>&gt;</span>主页<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/news"</span>&gt;</span>新闻<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>main.js文件中，<br>配置路由:没有router.map这个写法，是用const routes=[json…]；<br>默认路由：没有router.redirect这个写法，是在const routes中加入{path:’*’,redirect:’/home’}；<br>路由开启：不是<code>router.start(App,&#39;#app&#39;);</code>，而是：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router: router,</span><br><span class="line">  render: <span class="function"><span class="params">h</span>=&gt;</span>h(App)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>main.js完整代码如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span> <span class="comment">//引入路由组件</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'./components/Home.vue'</span> <span class="comment">//导入被映射的组件</span></span><br><span class="line"><span class="keyword">import</span> News <span class="keyword">from</span> <span class="string">'./components/News.vue'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter); <span class="comment">//使用被引用的路由</span></span><br><span class="line">Vue.config.debug=<span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes=[ <span class="comment">//定义路由</span></span><br><span class="line">  &#123;<span class="attr">path</span>: <span class="string">'/home'</span>, <span class="attr">component</span>: Home&#125;,</span><br><span class="line">  &#123;<span class="attr">path</span>: <span class="string">'/news'</span>, <span class="attr">component</span>: News&#125;,</span><br><span class="line">  &#123;<span class="attr">path</span>: <span class="string">'*'</span>, <span class="attr">redirect</span>: <span class="string">'/home'</span>&#125; <span class="comment">//配置根路由</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> VueRouter(&#123;<span class="comment">//实例化路由</span></span><br><span class="line">    routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;<span class="comment">//启动路由</span></span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router: router,</span><br><span class="line">  render: <span class="function"><span class="params">h</span>=&gt;</span>h(App)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h3><span id="4路由嵌套的不同">4.路由嵌套的不同</span></h3><p>1.0中是通过subRoutes来声明一个子路由：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'/home'</span>:&#123;</span><br><span class="line">   componen<span class="variable">t:</span> Home,</span><br><span class="line">   subRoute<span class="variable">s:</span>&#123;</span><br><span class="line">      <span class="string">'login'</span>:&#123;</span><br><span class="line">         componen<span class="variable">t:</span> Login</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">'reg'</span>:&#123;</span><br><span class="line">         componen<span class="variable">t:</span> Reg</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.0中是在component后面加入children，children相当于上面的routes:</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const routes=[</span><br><span class="line">  &#123;<span class="string">path:</span> <span class="string">'/home'</span>, <span class="string">component:</span> Home&#125;,</span><br><span class="line">  &#123;</span><br><span class="line"><span class="symbol">      path:</span> <span class="string">'/news'</span>,</span><br><span class="line"><span class="symbol">      component:</span> News,</span><br><span class="line"><span class="symbol">      children:</span> [</span><br><span class="line">          &#123;<span class="string">path:</span><span class="string">'login'</span>, <span class="string">component:</span> Login&#125;</span><br><span class="line">      ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;<span class="string">path:</span> <span class="string">'*'</span>, <span class="string">redirect:</span> <span class="string">'/home'</span>&#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1vue10中声明和使用路由&quot;&gt;1.vue1.0中声明和使用路由&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2vue10中v-link指令特性&quot;&gt;2.vue1.0中v-link指令特性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3vue20中的路由&quot;&gt;3.vue2.0中的路由&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4路由嵌套的不同&quot;&gt;4.路由嵌套的不同&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="Vue" scheme="https://wtlemoney.github.io/categories/Vue/"/>
    
      <category term="vue-router" scheme="https://wtlemoney.github.io/categories/Vue/vue-router/"/>
    
      <category term="路由" scheme="https://wtlemoney.github.io/categories/Vue/vue-router/%E8%B7%AF%E7%94%B1/"/>
    
    
      <category term="Vue" scheme="https://wtlemoney.github.io/tags/Vue/"/>
    
      <category term="vue-router" scheme="https://wtlemoney.github.io/tags/vue-router/"/>
    
      <category term="路由" scheme="https://wtlemoney.github.io/tags/%E8%B7%AF%E7%94%B1/"/>
    
  </entry>
  
  <entry>
    <title>弹性布局下的flex属性值</title>
    <link href="https://wtlemoney.github.io/2018/06/04/flex%E5%B1%9E%E6%80%A7%E5%80%BC/"/>
    <id>https://wtlemoney.github.io/2018/06/04/flex属性值/</id>
    <published>2018-06-04T14:35:42.000Z</published>
    <updated>2018-06-04T15:03:08.961Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1flex属性介绍">1.flex属性介绍</a></li><li><a href="#2flex值的情况">2.flex值的情况</a></li><li><a href="#3实例说明">3.实例说明</a></li></ul><!-- tocstop --><a id="more"></a><h3><span id="1flex属性介绍">1.flex属性介绍</span></h3><p>首先明确一点是， flex 是 flex-grow、flex-shrink、flex-basis的缩写。</p><ul><li>flex-grow属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-grow</span>: &lt;number&gt;; <span class="comment">/* default 0 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。</p><ul><li>flex-shrink属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-shrink</span>: &lt;number&gt;; <span class="comment">/* default 1 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。<br>负值对该属性无效。</p><ul><li>flex-basis属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为auto，即项目的本来大小。<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-basis</span>: &lt;length&gt; | auto; <span class="comment">/* default auto */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>它可以设为跟width或height属性一样的值（比如350px），则项目将占据固定空间。</p><h3><span id="2flex值的情况">2.flex值的情况</span></h3><ul><li>当 flex 取值为 none，则计算值为 0 0 auto</li><li>当 flex 取值为 auto，则计算值为 1 1 auto</li><li>当 flex 取值为一个非负数字，则计算值为 1 1 0%</li><li>当 flex 取值为一个长度或百分比，则计算值为 1 1 长度或百分比</li><li>当 flex 取值为两个非负数字，则分别视为 flex-grow 和 flex-shrink 的值，flex-basis 取 0%</li><li>当 flex 取值为一个非负数字和一个长度或百分比，则分别视为 flex-grow 和 flex-basis 的值，flex-shrink 取 1</li></ul><h3><span id="3实例说明">3.实例说明</span></h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item-1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item-3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.parent</span> &#123;</span></span><br><span class="line"><span class="undefined">        display: flex;</span></span><br><span class="line"><span class="undefined">        width: 600px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.parent</span> &gt; <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="undefined">        height: 100px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.item-1</span> &#123;</span></span><br><span class="line"><span class="undefined">        width: 140px;</span></span><br><span class="line"><span class="undefined">        flex: 2 1 0%;</span></span><br><span class="line"><span class="undefined">        background: blue;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.item-2</span> &#123;</span></span><br><span class="line"><span class="undefined">        width: 100px;</span></span><br><span class="line"><span class="undefined">        flex: 2 1 auto;</span></span><br><span class="line"><span class="undefined">        background: darkblue;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.item-3</span> &#123;</span></span><br><span class="line"><span class="undefined">        flex: 1 1 200px;</span></span><br><span class="line"><span class="undefined">        background: lightblue;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>主轴上父容器总尺寸为 600px</li><li><p>子元素的总基准值是：0% + auto + 200px = 300px，其中</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>% 即 <span class="number">0</span> 宽度</span><br><span class="line">auto 对应取主尺寸即 <span class="number">100</span>px</span><br></pre></td></tr></table></figure></li><li><p>故剩余空间为 600px - 300px = 300px</p></li><li>伸缩放大系数之和为： 2 + 2 + 1 = 5</li><li><p>剩余空间分配如下：</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">item<span class="number">-1</span> 和 item<span class="number">-2</span> 各分配 <span class="number">2</span>/<span class="number">5</span>，各得 <span class="number">120</span>px</span><br><span class="line">item<span class="number">-3</span> 分配 <span class="number">1</span>/<span class="number">5</span>，得 <span class="number">60</span>px</span><br></pre></td></tr></table></figure></li><li><p>各项目最终宽度为：</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">item<span class="number">-1</span> = <span class="number">0</span>% + <span class="number">120</span>px = <span class="number">120</span>px</span><br><span class="line">item<span class="number">-2</span> = auto + <span class="number">120</span>px = <span class="number">220</span>px</span><br><span class="line">item<span class="number">-3</span> = <span class="number">200</span>px + <span class="number">60</span>px = <span class="number">260</span>px</span><br></pre></td></tr></table></figure></li></ul><p><br></p><p>参考博文：<br><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html?^%$" target="_blank" rel="noopener">Flex 布局教程</a><br><a href="https://www.w3.org/html/ig/zh/css-flex-1/" target="_blank" rel="noopener">CSS 伸缩盒布局模组</a></p>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1flex属性介绍&quot;&gt;1.flex属性介绍&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2flex值的情况&quot;&gt;2.flex值的情况&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3实例说明&quot;&gt;3.实例说明&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="CSS" scheme="https://wtlemoney.github.io/categories/CSS/"/>
    
      <category term="弹性盒子" scheme="https://wtlemoney.github.io/categories/CSS/%E5%BC%B9%E6%80%A7%E7%9B%92%E5%AD%90/"/>
    
      <category term="flex布局" scheme="https://wtlemoney.github.io/categories/CSS/%E5%BC%B9%E6%80%A7%E7%9B%92%E5%AD%90/flex%E5%B8%83%E5%B1%80/"/>
    
    
      <category term="CSS" scheme="https://wtlemoney.github.io/tags/CSS/"/>
    
      <category term="弹性盒子" scheme="https://wtlemoney.github.io/tags/%E5%BC%B9%E6%80%A7%E7%9B%92%E5%AD%90/"/>
    
      <category term="flex布局" scheme="https://wtlemoney.github.io/tags/flex%E5%B8%83%E5%B1%80/"/>
    
  </entry>
  
  <entry>
    <title>mockjs前后端分离</title>
    <link href="https://wtlemoney.github.io/2018/06/02/mockjs/"/>
    <id>https://wtlemoney.github.io/2018/06/02/mockjs/</id>
    <published>2018-06-02T10:00:02.000Z</published>
    <updated>2018-06-02T15:55:06.731Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1mockjs介绍">1.mock.js介绍</a></li><li><a href="#2简单使用mockjs">2.简单使用mockjs</a></li><li><a href="#3vue-cli中使用mockjs">3.vue-cli中使用mockjs</a></li></ul><!-- tocstop --><a id="more"></a><h3><span id="1mockjs介绍">1.mock.js介绍</span></h3><p>mock.js：是一个模拟数据生成器。可以拦截ajax请求，模拟ajax返回模拟数据，无需后端返回就可以测试前端程序。<br>功能：</p><ul><li><p>根据数据模板生成模板数据</p></li><li><p>模拟ajax请求，生成请求数据</p></li><li><p>基于html模板生成模拟数据</p></li></ul><p>了解详情：<a href="http://mockjs.com/" target="_blank" rel="noopener">mockjs官网</a></p><p>引用官网的图片解释mock.js：<br><img src="/2018/06/02/mockjs/use.jpg" alt="img"><br>推荐能快速生成模拟数据的在线mock服务：<a href="https://www.easy-mock.com" target="_blank" rel="noopener">Easy Mock</a>。学习文档：<a href="https://www.easy-mock.com/docs" target="_blank" rel="noopener">点这里</a></p><div align="center"><br>    <img src="/2018/06/02/mockjs/easy_mock1.jpg" alt="easy mock网站输入界面"><br></div><p>推荐谷歌浏览器中安装json格式化插件：<code>jsonview</code>，能让谷歌浏览器中访问URL地址返回的json数据能按照json格式展现出来。如下图所示：<br><img src="/2018/06/02/mockjs/json.jpg" alt="img"></p><h3><span id="2简单使用mockjs">2.简单使用mockjs</span></h3><ul><li>引入mock.js和JQuery</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://mockjs.com/dist/mock.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>创建模拟Api，拦截Ajax请求，返回测试数据</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模拟后台</span></span><br><span class="line">  <span class="type">Mock</span>.mock(<span class="symbol">'http</span>:<span class="comment">//api.com', &#123;</span></span><br><span class="line">      <span class="string">"user|5-10"</span>: [&#123;</span><br><span class="line">          <span class="symbol">'nam</span>e': '<span class="meta">@cname</span>',   <span class="comment">//中文名称</span></span><br><span class="line">          <span class="symbol">'age</span>|<span class="number">1</span><span class="number">-100</span>': <span class="number">100</span>,   <span class="comment">//100以内随机整数</span></span><br><span class="line">          <span class="symbol">'birthda</span>y': '<span class="meta">@date</span>(<span class="string">"yyyy-MM-dd"</span>)',  <span class="comment">//日期</span></span><br><span class="line">          <span class="string">"email"</span>: <span class="string">"@email"</span>,<span class="comment">//邮箱</span></span><br><span class="line">          <span class="symbol">'cit</span>y': '<span class="meta">@city</span>(<span class="literal">true</span>)'   <span class="comment">//中国城市</span></span><br><span class="line">      &#125;]</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><ul><li>发送ajax请求</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JQuery方式</span></span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: <span class="string">'http://api.com'</span>,</span><br><span class="line">        dataType: <span class="string">'json'</span></span><br><span class="line">    &#125;).done(<span class="function"><span class="keyword">function</span>(<span class="params">data, status, xhr</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(</span><br><span class="line">            <span class="built_in">JSON</span>.stringify(data, <span class="literal">null</span>, <span class="number">4</span>)</span><br><span class="line">        )</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//原生ajax方式</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">myajax</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">           <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">               ajax = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">           &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.ActiveXObject) &#123;</span><br><span class="line">               <span class="keyword">try</span> &#123;</span><br><span class="line">                   ajax = <span class="keyword">new</span> ActiveXObject(<span class="string">"Msxml2.XMLHTTP"</span>);</span><br><span class="line">               &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                   <span class="keyword">try</span> &#123;</span><br><span class="line">                       ajax = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">                   &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (!ajax) &#123;</span><br><span class="line">               <span class="built_in">window</span>.alert(<span class="string">"不能创建XMLHttpRequest对象实例."</span>);</span><br><span class="line">               <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           ajax.open(<span class="string">"GET"</span>, url, <span class="literal">true</span>);</span><br><span class="line">           ajax.send(<span class="literal">null</span>);</span><br><span class="line">           ajax.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">               <span class="keyword">if</span> (ajax.readyState == <span class="number">4</span> &amp;&amp; ajax.status == <span class="number">200</span>) &#123;</span><br><span class="line">                   <span class="built_in">console</span>.log(ajax.responseText);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   myajax(<span class="string">'http://api.com'</span>);</span><br></pre></td></tr></table></figure><ul><li>查看响应</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    <span class="attr">"user"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"方超"</span>,</span><br><span class="line">            <span class="attr">"age"</span>: <span class="number">13</span>,</span><br><span class="line">            <span class="attr">"birthday"</span>: <span class="string">"1983-04-04"</span>,</span><br><span class="line">            <span class="attr">"email"</span>: <span class="string">"k.mjlro@aymnm.mn"</span>,</span><br><span class="line">            <span class="attr">"city"</span>: <span class="string">"上海 上海市"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"黄强"</span>,</span><br><span class="line">            <span class="attr">"age"</span>: <span class="number">95</span>,</span><br><span class="line">            <span class="attr">"birthday"</span>: <span class="string">"1978-06-02"</span>,</span><br><span class="line">            <span class="attr">"email"</span>: <span class="string">"m.yimuaw@jqpg.ma"</span>,</span><br><span class="line">            <span class="attr">"city"</span>: <span class="string">"浙江省 杭州市"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"阎敏"</span>,</span><br><span class="line">            <span class="attr">"age"</span>: <span class="number">64</span>,</span><br><span class="line">            <span class="attr">"birthday"</span>: <span class="string">"1972-12-27"</span>,</span><br><span class="line">            <span class="attr">"email"</span>: <span class="string">"j.ietrmoqms@pvswztxg.sd"</span>,</span><br><span class="line">            <span class="attr">"city"</span>: <span class="string">"江苏省 淮安市"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"梁涛"</span>,</span><br><span class="line">            <span class="attr">"age"</span>: <span class="number">8</span>,</span><br><span class="line">            <span class="attr">"birthday"</span>: <span class="string">"1995-06-29"</span>,</span><br><span class="line">            <span class="attr">"email"</span>: <span class="string">"y.cvncgqve@vgqkmipc.tn"</span>,</span><br><span class="line">            <span class="attr">"city"</span>: <span class="string">"山西省 大同市"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"文霞"</span>,</span><br><span class="line">            <span class="attr">"age"</span>: <span class="number">68</span>,</span><br><span class="line">            <span class="attr">"birthday"</span>: <span class="string">"2008-05-26"</span>,</span><br><span class="line">            <span class="attr">"email"</span>: <span class="string">"h.vffs@ssup.tv"</span>,</span><br><span class="line">            <span class="attr">"city"</span>: <span class="string">"黑龙江省 双鸭山市"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"雷娟"</span>,</span><br><span class="line">            <span class="attr">"age"</span>: <span class="number">56</span>,</span><br><span class="line">            <span class="attr">"birthday"</span>: <span class="string">"1992-02-14"</span>,</span><br><span class="line">            <span class="attr">"email"</span>: <span class="string">"h.xddcutf@ehlphhr.it"</span>,</span><br><span class="line">            <span class="attr">"city"</span>: <span class="string">"甘肃省 天水市"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="3vue-cli中使用mockjs">3.vue-cli中使用mockjs</span></h3><p>首先要保证安装了vue-cli脚手架工具，并初始化项目。</p><p>vue-cli创建完项目,build文件夹下没有dev-server.js文件了，不要慌。这是因为新版本的vue已将dev-server.js与webpack.dev.conf.js合并。所以在模拟后台数据的时候直接在webpack-dev-conf.js文件中修改：</p><div align="center"><br>    <img src="/2018/06/02/mockjs/catalogue.jpg" alt="easy mock网站输入界面"><br></div><p>以我最近跟着大佬学习敲的项目代码为例：</p><ul><li><p>第一步，在<code>const portfinder = require(&#39;portfinder&#39;)</code>后添加：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过express导入路由</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"><span class="keyword">var</span> appData = <span class="built_in">require</span>(<span class="string">'../data.json'</span>)</span><br><span class="line"><span class="comment">// json卖家数据</span></span><br><span class="line"><span class="keyword">var</span> seller = appData.seller</span><br><span class="line"><span class="comment">// json商品数据</span></span><br><span class="line"><span class="keyword">var</span> goods = appData.goods</span><br><span class="line"><span class="comment">// json评论数据</span></span><br><span class="line"><span class="keyword">var</span> ratings = appData.ratings</span><br><span class="line"><span class="comment">// 编写路由</span></span><br><span class="line"><span class="keyword">var</span> apiRoutes = express.Router()</span><br><span class="line"><span class="comment">// 所有通过接口相关的api都会通过api这个路由导向到具体的路由</span></span><br><span class="line">app.use(<span class="string">'/api'</span>, apiRoutes)</span><br></pre></td></tr></table></figure></li><li><p>第二步，在<code>devServer</code>属性中新添加一个before钩子函数,用来监听来自web的http请求。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">before (app) &#123;</span><br><span class="line">    app.get(<span class="string">'/api/seller'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 服务端收到请求后返回给客户端一个json数据</span></span><br><span class="line">      res.json(&#123;</span><br><span class="line">        <span class="comment">// 当我们数据正常时，我们通过传递errno字符为0表示数据正常</span></span><br><span class="line">        errno: <span class="number">0</span>,</span><br><span class="line">        <span class="comment">// 返回json中的卖家数据</span></span><br><span class="line">        data: seller</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    app.get(<span class="string">'/api/goods'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">      res.json(&#123;</span><br><span class="line">        errno: <span class="number">0</span>,</span><br><span class="line">        data: goods</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    app.get(<span class="string">'/api/ratings'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">rea, res</span>) </span>&#123;</span><br><span class="line">      res.json(&#123;</span><br><span class="line">        errno: <span class="number">0</span>,</span><br><span class="line">        data: ratings</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li><p>第三步，在浏览器地址栏中输入localhost:8080/api/goods,可以看到下面的json假数据：<br><img src="/2018/06/02/mockjs/result.png" alt=""></p></li><li><p>第四步，在项目根目录新建data.json文件，复制浏览器json数据到该文件。直接通过ajax调用即可。</p></li></ul><p>注意了：<font color="red">所有的修改配置都需要重新启动运行命令的：npm run dev才能生效（很重要，否则无法请求到数据）！！！</font></p><p>相关博文：<br><a href="https://juejin.im/entry/57bd37c2c4c9710061606b38" target="_blank" rel="noopener">为什么你需要一个 mock server</a><br><a href="http://leeluolee.github.io/2014/10/24/use-puer-helpus-developer-frontend/" target="_blank" rel="noopener">超简单工具puer——“低碳”的前后端分离开发</a><br><a href="https://www.jianshu.com/p/8453b045544f" target="_blank" rel="noopener">使用Mock.js生成前端测试数据</a></p>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1mockjs介绍&quot;&gt;1.mock.js介绍&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2简单使用mockjs&quot;&gt;2.简单使用mockjs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3vue-cli中使用mockjs&quot;&gt;3.vue-cli中使用mockjs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="mock.js" scheme="https://wtlemoney.github.io/categories/mock-js/"/>
    
      <category term="easy mock" scheme="https://wtlemoney.github.io/categories/mock-js/easy-mock/"/>
    
      <category term="ajax" scheme="https://wtlemoney.github.io/categories/mock-js/easy-mock/ajax/"/>
    
      <category term="JSON" scheme="https://wtlemoney.github.io/categories/mock-js/easy-mock/ajax/JSON/"/>
    
      <category term="前后端交互，数据模拟" scheme="https://wtlemoney.github.io/categories/mock-js/easy-mock/ajax/JSON/%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%EF%BC%8C%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F/"/>
    
    
      <category term="ajax" scheme="https://wtlemoney.github.io/tags/ajax/"/>
    
      <category term="JSON" scheme="https://wtlemoney.github.io/tags/JSON/"/>
    
      <category term="mock.js" scheme="https://wtlemoney.github.io/tags/mock-js/"/>
    
      <category term="easy mock" scheme="https://wtlemoney.github.io/tags/easy-mock/"/>
    
      <category term="前后端交互，数据模拟" scheme="https://wtlemoney.github.io/tags/%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%EF%BC%8C%E6%95%B0%E6%8D%AE%E6%A8%A1%E6%8B%9F/"/>
    
  </entry>
  
  <entry>
    <title>如何在VScode中添加代码片段</title>
    <link href="https://wtlemoney.github.io/2018/05/26/vs-snippet/"/>
    <id>https://wtlemoney.github.io/2018/05/26/vs-snippet/</id>
    <published>2018-05-26T14:42:29.000Z</published>
    <updated>2018-06-04T14:47:47.212Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1snippet-配置">1.snippet 配置</a></li><li><a href="#2代码片段">2.代码片段</a></li></ul><!-- tocstop --><a id="more"></a><p>最近在敲vue项目的代码，想对新建的.vue文件初始化代码片段，不然每次都需要重复敲那一段效率太感人了。所以拿vue举例，新建vue文件，输入前缀，出现代码片段。一些snippet语法结构见<a href="https://blog.csdn.net/maokelong95/article/details/54379046" target="_blank" rel="noopener">这里</a></p><h3><span id="1snippet-配置">1.snippet 配置</span></h3><ul><li>进入 snippet 设置文件，这里提供了三种方法： <ul><li>通过快捷键「Ctrl + Shift + P」打开命令窗口（All Command Window），输入「snippet」，点选「首选项：配置用户代码段片段」；</li><li>点击界面最左侧竖栏（也即活动栏）最下方的齿轮按钮，在弹出来的菜单中点选「用户代码片段」；</li><li>按下「Alt」键切换菜单栏，通过文件 &gt; 首选项 &gt; 用户代码片段；</li></ul></li><li>vue.json文件中，填写 snippets</li></ul><h3><span id="2代码片段">2.代码片段</span></h3><p>vue.json初始文件代码定义了一个名为「Print to console」的 snippet，其功能为：在输入 log 并确认后，可将原文本替换为<code>console.log(&#39;&#39;);</code>。<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> // Place your snippets <span class="keyword">for</span> C here. Each snippet <span class="built_in">is</span> defined under a snippet name <span class="keyword">and</span> has a <span class="built_in">prefix</span>, body <span class="keyword">and</span> </span><br><span class="line"> // description. The <span class="built_in">prefix</span> <span class="built_in">is</span> what <span class="built_in">is</span> used to trigger the snippet <span class="keyword">and</span> the body will be expanded <span class="keyword">and</span> inserted. Possible variables are:</span><br><span class="line"> // $<span class="number">1</span>, $<span class="number">2</span> <span class="keyword">for</span> <span class="built_in">tab</span> stops, $<span class="number">0</span> <span class="keyword">for</span> the final cursor <span class="built_in">position</span>, <span class="keyword">and</span> $&#123;<span class="number">1</span>:<span class="built_in">label</span>&#125;, $&#123;<span class="number">2</span>:another&#125; <span class="keyword">for</span> placeholders. Placeholders with the </span><br><span class="line"> // same ids are connected.</span><br><span class="line"> // Example:</span><br><span class="line"> <span class="string">"Print to console"</span>: &#123;</span><br><span class="line">    <span class="string">"prefix"</span>: <span class="string">"log"</span>,</span><br><span class="line">    <span class="string">"body"</span>: [</span><br><span class="line">        <span class="string">"console.log('$1');"</span>,</span><br><span class="line">        <span class="string">"$2"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"description"</span>: <span class="string">"Log output to console"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>prefix ： 在 Intellisense 中选择代码片段时将使用的前缀。</p><p>$1          :这个为光标的所在位置.<br>$2          :使用这个参数后会光标的下一位置将会另起一行,按tab键可进行快速切换,还可以有$3,$4,$5…..</p><p>body：代码片段的内容。使用“$1”和“${1:defaultText}”定义光标位置，使用“$0”定义最终光标位置。使用“${varName}”和“${varName:defaultText}”插入变量值，例如“这是文件：$TM_FILENAME”。字符串间换行的话使用\r\n换行符隔开。注意如果值里包含特殊字符需要进行转义。</p><p>description：代码片段描述。</p><p>3.自定义.vue文件代码片段<br>在vue.json文件中添加下面代码，新建.vue文件-&gt;输入vue -&gt;按tab即可创建vue模板。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"Print to .vue"</span>: &#123;</span><br><span class="line">        <span class="attr">"prefix"</span>: <span class="string">"vue"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: [</span><br><span class="line">            <span class="string">"&lt;template&gt;"</span>,</span><br><span class="line">            <span class="string">" &lt;div&gt;\n"</span>,</span><br><span class="line">            <span class="string">" &lt;/div&gt;"</span>,</span><br><span class="line">            <span class="string">"&lt;/template&gt;\n"</span>,</span><br><span class="line">            <span class="string">"&lt;script&gt;"</span>,</span><br><span class="line">            <span class="string">" export default &#123;"</span>,</span><br><span class="line">            <span class="string">"   data () &#123;"</span>,</span><br><span class="line">            <span class="string">"     return &#123;\n"</span>,</span><br><span class="line">            <span class="string">"     &#125;"</span>,</span><br><span class="line">            <span class="string">"   &#125;,"</span>,</span><br><span class="line">            <span class="string">"   components: &#123;\n"</span>,</span><br><span class="line">            <span class="string">"   &#125;"</span>,</span><br><span class="line">            <span class="string">" &#125;"</span>,</span><br><span class="line">            <span class="string">"&lt;/script&gt;\n"</span>,</span><br><span class="line">            <span class="string">"&lt;style&gt;\n"</span>,</span><br><span class="line">            <span class="string">" "</span>,</span><br><span class="line">            <span class="string">"&lt;/style&gt;"</span>,</span><br><span class="line">            <span class="string">"$2"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">"description"</span>: <span class="string">"Log output to console"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建的vue模板为：</p><div align="center"><br>    <img src="/2018/05/26/vs-snippet/vue.jpg" alt="easy mock网站输入界面"><br></div><p>参考博文：<a href="https://blog.csdn.net/maokelong95/article/details/54379046" target="_blank" rel="noopener">跟我一起在Visual Studio Code 添加自定义snippet</a></p>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1snippet-配置&quot;&gt;1.snippet 配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2代码片段&quot;&gt;2.代码片段&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="VScode" scheme="https://wtlemoney.github.io/categories/VScode/"/>
    
      <category term="Vue" scheme="https://wtlemoney.github.io/categories/VScode/Vue/"/>
    
      <category term="代码段" scheme="https://wtlemoney.github.io/categories/VScode/Vue/%E4%BB%A3%E7%A0%81%E6%AE%B5/"/>
    
    
      <category term="VScode" scheme="https://wtlemoney.github.io/tags/VScode/"/>
    
      <category term="Vue" scheme="https://wtlemoney.github.io/tags/Vue/"/>
    
      <category term="代码段" scheme="https://wtlemoney.github.io/tags/%E4%BB%A3%E7%A0%81%E6%AE%B5/"/>
    
  </entry>
  
  <entry>
    <title>ps切图</title>
    <link href="https://wtlemoney.github.io/2018/05/22/ps%E5%88%87%E5%9B%BE/"/>
    <id>https://wtlemoney.github.io/2018/05/22/ps切图/</id>
    <published>2018-05-22T03:46:17.000Z</published>
    <updated>2018-05-22T03:51:38.055Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1界面设置">1.界面设置</a></li><li><a href="#2ps参考线及其辅助">2.PS参考线及其辅助</a></li><li><a href="#3快捷操作">3.快捷操作</a></li><li><a href="#4选择工具操作">4.选择工具操作</a></li><li><a href="#5简单工具操作">5.简单工具操作</a></li><li><a href="#6实战笔记">6.实战笔记</a></li><li><a href="#7切图">7.切图</a></li></ul><!-- tocstop --><a id="more"></a><p>切图这种事情，不一定要UI来做啦，因为UI有时候切的前端童鞋可能不满意呢，来来回回有这沟通的时间还不如自己做了呢…</p><h3><span id="1界面设置">1.界面设置</span></h3><p>为啥先要把界面设置一下？原因就是网页设计需要重新定义ps界面，这样有利于工作的展开。</p><p>新建：文件-&gt;新建-&gt;Web（像素1920*2000，高度不定，分辨率72，背景透明）<br>设置：视图-&gt;勾选标尺，视图-&gt;显示-&gt;勾选智能参考线，编辑-&gt;首选项-&gt;单位与标尺-&gt;单位改为像素<br>切图四大面板窗口（右侧）：信息、字符，图层、历史记录（点击窗口菜单进行勾选）<br>信息面板右上角点击-面板选项，颜色信息都使用rgb颜色，标尺单位使用像素，文档大小和文档尺寸勾上<br>保存工作区：窗口-&gt;工作区-&gt;新建工作区</p><h3><span id="2ps参考线及其辅助">2.PS参考线及其辅助</span></h3><p>Ctrl + R :标尺快捷键<br>Alt + V + E :新建参考线<br>Alt + V + E + H :新建水平参考线<br>Alt + V + E + V :新建垂直参考线<br>Ctrl + ; :关闭/开启参考线显示；<br>移动参考线的同时可使用 Alt 键改变方向<br>删除参考线将其拖回到标尺位置即可</p><h3><span id="3快捷操作">3.快捷操作</span></h3><p>自动选中当前点击的图层：按住Ctrl键，鼠标点击psd上的图层选中（左键单击），即可实现自动选择功能<br>形成选区：Ctrl + 鼠标左键点击右下角图层，可以在信息中获取到宽高等信息，字符中可以获取到字体大小等信息<br>H+鼠标左键快速锁定放大某一块区域：放大镜状态下，H+鼠标左键 显示框出现，选择区域，松开会显示框住的图的大图<br>Alt+Delete：前景色填充<br>Ctrl+Delete：背景色填充 </p><h3><span id="4选择工具操作">4.选择工具操作</span></h3><p>选区工具：快捷键 M<br>Shift + M 在扩展中轮流切换图形<br>Shift键 ：添加选区<br>Alt键 ：减少选区<br>按shift键：画正圆（方）<br>按Shift+Alt：以当前像素点为圆心画正圆（方）</p><p>套索工具：快捷键 L<br>不规则形状选区<br>Shift键 + 鼠标左键 增加选择区域<br>Alt键 + 鼠标左键 删除规则的选区区域<br>多边形套索工具(双击鼠标左键选区自动闭合)<br>磁性套索工具(会根据颜色进行判断，是和获取不规则图形)</p><p>快速选择工具：快捷键 W<br>尽量选择闭合的图像<br>调整工具的大小 快捷键：中括号 花括号<br>删除选区：快捷键 Ctrl + D</p><p>裁剪工具：快捷键 C<br>裁剪需要的一部分，图片边际会出现可调整的按钮<br>先建立选区再点裁剪工具，可以直接裁剪当前选区内的内容，裁剪比较精确<br>属性栏中的对钩：只留下裁剪区域，其他地方被裁掉<br>小技巧：按住Ctrl单击需要的图片，按住Ctrl单击右下角的图层，会自动出现选区，这时选择左侧工具栏的裁剪，会默认选区，按回车键完成裁剪 单击对钩或者回车就裁剪好了<br>用套索工具选择好不规则图形后点击裁剪，会以最小范围裁剪出图形，按住Alt键单击右下角图层前的眼睛，会把背景变为透明，获取到图层</p><h3><span id="5简单工具操作">5.简单工具操作</span></h3><p>污点修复画笔工具：快捷键 J,从点击周围来取素材再做一个融合<br>修复画笔工具:Alt+鼠标左键取素材，放开Alt,点击左键移动鼠标，复用某个地方的素材<br>修补工具：将修补区域圈起来，按住鼠标左键拖动，放开后，放开区域会和圈的区域融合可以盖掉涂抹工具</p><p>画笔工具（B）：可以通过左上的属性面板调节硬度来实现画出来的轮廓的模糊程度<br>铅笔工具：画出的效果带毛边，硬度调到最小，画出的依然比较生硬<br>仿制图章工具（S）：Alt+鼠标左键取素材，放开Alt,点击左键移动鼠标。取到的素材，什么样子画出来就是什么样子；与修复画笔不同的是，修复画笔松开左键会羽化图片边缘<br>图案图章工具：ps库中存在的图案</p><p>历史记录画笔工具(Y)：打开历史记录面板，将历史记录画笔放在前面的方框内，点回原图，这时，画笔就带有历史记录，可以在原图上进行局部处理。</p><p>橡皮擦工具（E）：设置背景颜色后，使用橡皮擦，擦过的地方会被背景颜色填充。<br>背景橡皮擦工具：会将图片直接擦掉，露出背景图层。<br>魔术橡皮擦工具:颜色相同区域，会被全部直接擦掉，露出背景图层。</p><p>渐变工具（G）：设置前景色和背景色后，在图层上拉动，会出现渐变效果，属性面板上有各种渐变方式。</p><p>锐化工具：内容会变得干燥<br>涂抹工具：类似画板上画完画，用手抹一下,比如加长睫毛<br>画笔工具：可调整画笔硬度和大小<br>铅笔工具：线条细且硬，也可调整画笔硬度和大小<br>减淡工具（O）：使脸部皮肤变白</p><p>钢笔工具：第一次确定一个点，第二次点击的时候按住shift可以调节直线的弧度，松开后按住alt键可以调节弧度。<br>路径（钢笔工具）+文字（文字工具）=按路径排列的文字</p><h3><span id="6实战笔记">6.实战笔记</span></h3><p>画圆选区：<br>椭圆选区-&gt;Shift+左键（先放开鼠标再放开shift键），alt+delete填充颜色<br>切换为选区工具-&gt;右键-&gt;变换选区-&gt;Alt+Shift+鼠标左键：同圆心缩小-&gt;确定-&gt;Delete（删掉小圆内部颜色 ）<br>Ctrl+T：自由变换<br>移动工具-&gt;Alt+拖动：复制并且自动新建图层<br>CTRL+在图层缩览图中单击：选中图层选区，然后可以用吸管工具对这一选区填充颜色<br>按住Ctrl键，然后点击图片区域，会自动选中该图层，对该图层进行操作<br>裁剪：按住Alt键，会以图像为中心建立裁剪区域<br>五环相连：CTRL+在图层缩览图中单击蓝色环，再选中黄色环图层，矩形选框-&gt;按住Alt减去黄色环要保留的部分，最后delete,可以去掉黄色部分被选中的小块</p><h3><span id="7切图">7.切图</span></h3><p>裁剪-&gt;切片工具：灰色代表被动切片，蓝色代表主动切片<br>裁剪图片-&gt;建立参考线-&gt;基于参考线的切片<br>导出切片：文件-&gt;存储为web所用格式-&gt;PNG-24-&gt;存储</p><p>自动切图：<br>文件-&gt;脚本-&gt;将图层导出为文件-&gt;PNG-24-&gt;透明区域、交错、裁剪图层-&gt;运行：自动切图，且文件命名即为存储前缀+图层名，图片阴影也会切出，有多少图层切出多少张图<br>优点：自动把每个图层剪切为适当大小，图像名后缀为图层名。<br>缺点：运行慢，对配置要求较高，对图层较少的图片较方便。</p><p>图片自动导出生成：</p><ul><li>编辑-&gt;首选项-&gt;增效工具-&gt;勾选启用生成器</li><li>文件-&gt;生成-&gt;勾选图像资源</li><li>随后重命名图层/组为xxx.png名称，将会自动生成相应图片到assets文件夹中</li></ul><p>其他类型导出：</p><ul><li>将图层/组重命名为.jpg、.png，删除切图：还原图层名称</li><li>retina导出：重命名为200% xxx @2x.jpg</li></ul><p>导出SVG格式：</p><ul><li>选择对应的图层或图层文件夹 </li><li>选择 文件-&gt;抽出资源，然后选择SVG格式</li></ul><p>复制CSS：</p><ul><li>选择对应的图层</li><li>选择 图层-&gt;复制CSS</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1界面设置&quot;&gt;1.界面设置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2ps参考线及其辅助&quot;&gt;2.PS参考线及其辅助&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3快捷操作&quot;&gt;3.快捷操作&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4选择工具操作&quot;&gt;4.选择工具操作&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5简单工具操作&quot;&gt;5.简单工具操作&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#6实战笔记&quot;&gt;6.实战笔记&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#7切图&quot;&gt;7.切图&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="PS" scheme="https://wtlemoney.github.io/categories/PS/"/>
    
      <category term="切图" scheme="https://wtlemoney.github.io/categories/PS/%E5%88%87%E5%9B%BE/"/>
    
      <category term="UI" scheme="https://wtlemoney.github.io/categories/PS/%E5%88%87%E5%9B%BE/UI/"/>
    
      <category term="工具" scheme="https://wtlemoney.github.io/categories/PS/%E5%88%87%E5%9B%BE/UI/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="工具" scheme="https://wtlemoney.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="PS" scheme="https://wtlemoney.github.io/tags/PS/"/>
    
      <category term="切图" scheme="https://wtlemoney.github.io/tags/%E5%88%87%E5%9B%BE/"/>
    
      <category term="UI" scheme="https://wtlemoney.github.io/tags/UI/"/>
    
  </entry>
  
  <entry>
    <title>跨域问题</title>
    <link href="https://wtlemoney.github.io/2018/05/16/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/"/>
    <id>https://wtlemoney.github.io/2018/05/16/跨域问题/</id>
    <published>2018-05-16T13:05:13.000Z</published>
    <updated>2018-05-16T13:11:28.355Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1同源策略">1.同源策略</a></li><li><a href="#2跨域资源共享cors">2.跨域资源共享CORS</a></li><li><a href="#3jsonp">3.jsonp</a></li><li><a href="#4documentdomain">4.document.domain</a></li><li><a href="#5windowname">5.window.name</a></li></ul><!-- tocstop --><a id="more"></a><h4><span id="1同源策略">1.同源策略</span></h4><p>同源：协议、域名、端口都相同<br>目的：保证用户信息的安全，防止恶意的网站窃取数据。<br>受到同源限制：</p><ul><li>无法读取不同源的 Cookie、LocalStorage 和 IndexDB 。</li><li>无法获得不同源的DOM 。</li><li>不能向不同源的服务器发送ajax请求</li></ul><p>不受同源限制：</p><ul><li>在浏览器中，<code>&lt;script&gt;、&lt;img&gt;、&lt;iframe&gt;、&lt;link&gt;</code>等标签都可以跨域加载资源，而不受同源策略的限制。</li></ul><h4><span id="2跨域资源共享cors">2.跨域资源共享CORS</span></h4><p>CORS定义了在必须访问跨域资源时，浏览器与服务器应该如何沟通。基本思想就是，使用自定义的HTTP头部让浏览器与服务器进行沟通，从而决定请求或响应是应该成功还是失败。</p><p>CORS机制把跨域请求分为两类：简单请求和非简单请求。<br>浏览器对这两种请求的处理，是不一样的。凡是不同时满足下面两个条件，就属于非简单请求。</p><blockquote><p>1) 请求方法是以下三种方法之一：HEAD、GET、POST<br>2）HTTP的头信息不超出以下几种字段：<br>Accept<br>Accept-Language<br>Content-Language<br>Last-Event-ID<br>Content-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain</p></blockquote><p><strong>简单请求</strong>：浏览器会带上Origin的请求头发送到服务器，服务器根据Origin判断是否许可。如果许可就会带上CORS相关想要头，如果不在许可范围内就不会带上CORS相关的响应头。浏览器再根据响应头中是否有相关的CORS响应头，来判断拦截响应body和抛出错误。<br><strong>非简单请求</strong>：非简单请求会在发真正的请求之前发送一个OPTIONS的带着Origin、Access-Control-Request-Method、Access-Control-Request-Headers等CORS相关的请求头的预检请求到服务器，服务器确认可以这样请求，就会返回带着Access-Control-Allow-Origin、Access-Control-Allow-Methods、Access-Control-Allow-Headers等CORS相关的响应头的响应，浏览器检查到相关的CORS响应头，说明通过预检可以继续发送真正的请求；服务器确认不可以，则不会返回这些相关响应头，浏览器没检查到CORS的响应头就会抛出错误。</p><p>整个CORS通信过程，都是浏览器自动完成，不需要用户参与。对于开发者来说，CORS通信与同源的AJAX通信没有差别，代码完全一样。浏览器一旦发现AJAX请求跨源，就会自动添加一些附加的头信息，有时还会多出一次附加的请求，但用户不会有感觉。<br>因此，实现CORS通信的关键是服务器。只要服务器实现了CORS接口，就可以跨源通信。<br>服务器要给接口的响应头设置：<code>Access-Control-Allow-Origin：＊</code></p><h4><span id="3jsonp">3.jsonp</span></h4><p>jsonp解决跨域问题的本质： <code>&lt;script&gt;</code> 标签可以请求不同域名下的资源，即 <code>&lt;script&gt;</code>请求不受浏览器同源策略影响。<br>缺点：只能处理get请求<br>首先给body动态添加一个 <code>&lt;script&gt;</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">script.setAttribute(<span class="string">"type"</span>,<span class="string">"text/javascript"</span>);</span><br><span class="line">script.src = <span class="string">'http://example.com/ip?callback=foo'</span>;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Your public IP address is: '</span> + data.ip);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>上面的script会向 <code>http://example.com/</code> 服务器发送请求，这个请求的url后面带了个callback参数，是用来告诉服务器回调方法的方法名的。因为服务器收到请求后，会把相应数据写进foo的参数位置，也就是说服务器会返回的脚本如下:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">foo(&#123;</span><br><span class="line">    <span class="string">"ip"</span>: <span class="string">"8.8.8.8"</span></span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure></p><p>这样浏览器通过<code>&lt;script&gt;</code>下载的资源就是上面的脚本了，<code>&lt;script&gt;</code>下载完成就会立即执行，也就是说<code>http://example.com/ip?callback=foo</code>这个请求返回后就会立即执行上面的脚本代码，而这个脚本代码就是调用回调方法和拿到json数据了。</p><h4><span id="4documentdomain">4.document.domain</span></h4><p><strong>场景1</strong>：你的<code>http://www.damonare.cn/a.html</code>页面里使用<code>&lt;iframe&gt;</code>调用另一个<code>http://damonare.cn/b.html</code>页面。这时候你想在a页面里获取b页面里的dom，然后进行操作。然后你会发现你不能获得b的dom。</p><p><strong>解决方案</strong>：这时候你只需要在a页面里和b页面里把<code>document.domain</code>设置成相同的值就可以在两个页面里操作Dom了。</p><p><strong>场景2</strong>：你在<code>http://www.damonare.cn/a.html</code>页面里写入了<code>document.cookie = &quot;test1=hello&quot;;</code>你在<code>http://damonare.cn/b.html</code>页面是拿不到这个cookie的。</p><p><strong>解决方案</strong>：Cookie 是服务器写入浏览器的一小段信息，只有同源的网页才能共享。但是，两个网页一级域名相同，只是二级域名不同，浏览器允许通过设置document.domain共享 Cookie。另外，服务器也可以在设置Cookie的时候，指定Cookie的所属域名为一级域名。这样的话，二级域名和三级域名不用做任何设置，都可以读取这个Cookie。</p><p><strong>注意</strong>：<br><code>document.domain</code>限制：虽然可读写，但只能设置成自身或者是高一级的父域且主域必须相同。所以只能解决一级域名相同二级域名不同的跨域问题。<br><code>document.domain</code>只适用于 Cookie 和 iframe 窗口，LocalStorage 和 IndexDB 无法通过这种方法跨域。</p><h4><span id="5windowname">5.window.name</span></h4><p><strong>场景1</strong>：现在浏览器的一个标签页里打开<code>http://www.damonare.cn/a.html</code>页面，你通过<code>location.href=http://baidu.com/b.html</code>，在同一个浏览器标签页里打开了不同域名下的页面。这时候这两个页面你可以使用window.name来传递参数。因为window.name指的是浏览器窗口的名字，只要浏览器窗口相同，那么无论在哪个网页里访问值都是一样的。</p><p><strong>场景2</strong>：你的<code>http://www.damonare.cn/a.html</code>页面里使用<code>&lt;iframe&gt;</code>调用另一个<code>http://baidu.com/b.html</code>页面。这时候你想在a页面里获取b页面里的dom，然后进行操作。然后你会发现你不能获得b的dom。同样会因为不同源而报错，和上面提到的不同之处就是两个页面的一级域名也不相同。这时候document.domain就解决不了了。</p><p><strong>解决方案</strong>：浏览器窗口有window.name属性。这个属性的最大特点是，无论是否同源，只要在同一个窗口里，前一个网页设置了这个属性，后一个网页可以读取它。。比如你在b页面里设定<code>window.name=&quot;hello&quot;</code>，你再返回到a页面，在a页面里访问window.name，可以得到hello。</p><p>这种方法的优点是，window.name容量很大，可以放置非常长的字符串；缺点是必须监听子窗口window.name属性的变化，影响网页性能。</p><p>参考博文：<br><a href="https://www.jianshu.com/p/438183ddcea8" target="_blank" rel="noopener">浏览器同源策略与ajax跨域方法汇总</a><br><a href="http://blog.damonare.cn/2016/12/01/%E5%89%8D%E7%AB%AF%E8%B7%A8%E5%9F%9F%E6%95%B4%E7%90%86/" target="_blank" rel="noopener">前端跨域整理</a><br><a href="https://segmentfault.com/a/1190000012158485" target="_blank" rel="noopener">跨域问题汇总</a></p>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1同源策略&quot;&gt;1.同源策略&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2跨域资源共享cors&quot;&gt;2.跨域资源共享CORS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3jsonp&quot;&gt;3.jsonp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4documentdomain&quot;&gt;4.document.domain&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5windowname&quot;&gt;5.window.name&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="同源策略" scheme="https://wtlemoney.github.io/categories/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/"/>
    
      <category term="跨域" scheme="https://wtlemoney.github.io/categories/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/%E8%B7%A8%E5%9F%9F/"/>
    
      <category term="CORS" scheme="https://wtlemoney.github.io/categories/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/%E8%B7%A8%E5%9F%9F/CORS/"/>
    
      <category term="jsonp" scheme="https://wtlemoney.github.io/categories/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/%E8%B7%A8%E5%9F%9F/CORS/jsonp/"/>
    
      <category term="ajax" scheme="https://wtlemoney.github.io/categories/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/%E8%B7%A8%E5%9F%9F/CORS/jsonp/ajax/"/>
    
    
      <category term="ajax" scheme="https://wtlemoney.github.io/tags/ajax/"/>
    
      <category term="同源策略" scheme="https://wtlemoney.github.io/tags/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/"/>
    
      <category term="跨域" scheme="https://wtlemoney.github.io/tags/%E8%B7%A8%E5%9F%9F/"/>
    
      <category term="CORS" scheme="https://wtlemoney.github.io/tags/CORS/"/>
    
      <category term="jsonp" scheme="https://wtlemoney.github.io/tags/jsonp/"/>
    
  </entry>
  
  <entry>
    <title>SCSS进阶学习（二）</title>
    <link href="https://wtlemoney.github.io/2018/05/12/SCSS-2/"/>
    <id>https://wtlemoney.github.io/2018/05/12/SCSS-2/</id>
    <published>2018-05-12T05:12:36.000Z</published>
    <updated>2018-05-12T05:17:41.173Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1sass的控制命令">1.Sass的控制命令</a><ul><li><a href="#11if和else">1.1@if和@else</a></li><li><a href="#12for">1.2@for</a></li><li><a href="#13while">1.3@while</a></li><li><a href="#14each">1.4@each</a></li></ul></li><li><a href="#2sass的函数功能">2.Sass的函数功能</a><ul><li><a href="#21字符串函数">2.1字符串函数</a></li><li><a href="#22数字函数">2.2数字函数</a></li><li><a href="#23列表函数">2.3列表函数</a></li><li><a href="#24颜色函数">2.4颜色函数</a></li><li><a href="#25其他函数">2.5其他函数</a></li></ul></li><li><a href="#3sass的规则">3.Sass的@规则</a></li></ul><!-- tocstop --><a id="more"></a><h3><span id="1sass的控制命令">1.Sass的控制命令</span></h3><h4><span id="11if和else">1.1@if和@else</span></h4><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line"><span class="variable">@mixin</span> blockOrHidden($<span class="attribute">boolean</span>:true) &#123;</span><br><span class="line">  <span class="variable">@if</span> $boolean &#123;</span><br><span class="line">      <span class="variable">@debug</span> <span class="string">"$boolean is #&#123;$boolean&#125;"</span>;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="variable">@else</span> &#123;</span><br><span class="line">      <span class="variable">@debug</span> <span class="string">"$boolean is #&#123;$boolean&#125;"</span>;</span><br><span class="line">      <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.block &#123;</span><br><span class="line">  <span class="variable">@include</span> blockOrHidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hidden&#123;</span><br><span class="line">  <span class="variable">@include</span> blockOrHidden(false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译出来的CSS:</span></span><br><span class="line">.block &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hidden &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4><span id="12for">1.2@for</span></h4><p><strong>两种方式:</strong></p><ul><li><code>@for $i from &lt;start&gt; through &lt;end&gt;</code></li><li><code>@for $i from &lt;start&gt; to &lt;end&gt;</code></li></ul><p><strong>区别：</strong>through 表示包括 end 这个数，而 to 则不包括 end 这个数。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line">@<span class="keyword">for</span> <span class="variable">$i</span> from 1 to 3 &#123;</span><br><span class="line">  <span class="selector-class">.item-</span>#&#123;<span class="variable">$i</span>&#125; &#123; <span class="attribute">width</span>: <span class="number">2em</span> * <span class="variable">$i</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译出来的 CSS:</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item-2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">4em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//若为through，还应包括.item-3&#123;...&#125;</span></span><br></pre></td></tr></table></figure></p><p>@for命令在网格系统非常好用，来一段比较难的代码。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line"><span class="variable">$grid-prefix</span>: span !default;</span><br><span class="line"><span class="variable">$grid-width</span>: <span class="number">60px</span> !default;</span><br><span class="line"><span class="variable">$grid-gutter</span>: <span class="number">20px</span> !default;</span><br><span class="line"></span><br><span class="line">%grid &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="variable">$grid-gutter</span> / <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="variable">$grid-gutter</span> / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">for</span> <span class="variable">$i</span> from 1 through 12 &#123;</span><br><span class="line">  .#&#123;<span class="variable">$grid-prefix</span>&#125;#&#123;<span class="variable">$i</span>&#125;&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">$grid-width</span> * <span class="variable">$i</span> + <span class="variable">$grid-gutter</span> * (<span class="variable">$i</span> - <span class="number">1</span>);</span><br><span class="line">    @<span class="keyword">extend</span> %grid;</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//CSS</span></span><br><span class="line"><span class="selector-class">.span1</span>, <span class="selector-class">.span2</span>, <span class="selector-class">.span3</span>, <span class="selector-class">.span4</span>, <span class="selector-class">.span5</span>, <span class="selector-class">.span6</span>, <span class="selector-class">.span7</span>, <span class="selector-class">.span8</span>, <span class="selector-class">.span9</span>, <span class="selector-class">.span10</span>, <span class="selector-class">.span11</span>, <span class="selector-class">.span12</span> &#123;<span class="comment">//其宽度依次60px,140px,.....</span></span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br></pre></td></tr></table></figure></p><h4><span id="13while">1.3@while</span></h4><p>嗨呀，直接看代码吧，就这么用。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line"><span class="variable">$types</span>: <span class="number">3</span>;</span><br><span class="line"><span class="variable">$type-width</span>: <span class="number">20px</span>;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">while</span> <span class="variable">$types</span> &gt; 0 &#123;</span><br><span class="line">    <span class="selector-class">.while-</span>#&#123;<span class="variable">$types</span>&#125; &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="variable">$type-width</span> + <span class="variable">$types</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$types</span>: <span class="variable">$types</span> - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译出来的 CSS</span></span><br><span class="line"><span class="selector-class">.while-3</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">23px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.while-2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">22px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.while-1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">21px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4><span id="14each">1.4@each</span></h4><p>@each 循环就是去遍历一个列表，然后从列表中取出对应的值。形式：<code>@each $var in &lt;list&gt;</code><br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line"><span class="variable">$list</span>: adam john wynn mason kuroir;<span class="comment">//$list 就是一个列表</span></span><br><span class="line"></span><br><span class="line">@<span class="keyword">mixin</span> author-images &#123;</span><br><span class="line">    @<span class="keyword">each</span> <span class="variable">$author</span> in <span class="variable">$list</span> &#123;</span><br><span class="line">        <span class="selector-class">.photo-</span>#&#123;<span class="variable">$author</span>&#125; &#123;</span><br><span class="line">            <span class="attribute">background</span>: url(<span class="string">"/images/avatars/#&#123;$author&#125;.png"</span>) no-repeat;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.author-bio</span> &#123;</span><br><span class="line">    @<span class="keyword">include</span> author-images;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译出 CSS:</span></span><br><span class="line"><span class="selector-class">.author-bio</span> <span class="selector-class">.photo-adam</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">"/images/avatars/adam.png"</span>) no-repeat; &#125;</span><br><span class="line"><span class="selector-class">.author-bio</span> <span class="selector-class">.photo-john</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">"/images/avatars/john.png"</span>) no-repeat; &#125;</span><br><span class="line"><span class="selector-class">.author-bio</span> <span class="selector-class">.photo-wynn</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">"/images/avatars/wynn.png"</span>) no-repeat; &#125;</span><br><span class="line"><span class="selector-class">.author-bio</span> <span class="selector-class">.photo-mason</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">"/images/avatars/mason.png"</span>) no-repeat; &#125;</span><br><span class="line"><span class="selector-class">.author-bio</span> <span class="selector-class">.photo-kuroir</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">"/images/avatars/kuroir.png"</span>) no-repeat; &#125;</span><br></pre></td></tr></table></figure></p><h3><span id="2sass的函数功能">2.Sass的函数功能</span></h3><h4><span id="21字符串函数">2.1字符串函数</span></h4><ul><li>unquote($string)：删除字符串中的引号。unquote函数只能删除字符串最前和最后的引号（双引号或单引号），而无法删除字符串中间的引号。如果字符没有带引号，返回的将是字符串本身。</li><li>quote($string)：给字符串添加引号。如果字符串自身带有引号会统一换成双引号 “”。使用 quote函数只能给字符串增加双引号，而且字符串中间有单引号或者空格时，需要用单引号或双引号括起，否则编译的时候将会报错。同时 quote() 碰到特殊符号，比如： !、?、&gt; 等，除中折号 和 下划线_ 都需要使用双引号括起，否则编译器在进行编译的时候同样会报错。</li><li>to-upper-case() : 字符串转大写</li><li>to-lower-case() : 字符串转小写</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line"><span class="selector-class">.test1</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:  unquote(<span class="string">'Hello Sass!'</span>) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test2</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: quote(<span class="string">"Hello Sass!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test</span> &#123;</span><br><span class="line">  text: to-upper-case(aaaaa);</span><br><span class="line">  text: to-lower-case(aA-aAAA-aaa);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//CSS</span></span><br><span class="line"><span class="selector-class">.test1</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: Hello Sass!; &#125;</span><br><span class="line"><span class="selector-class">.test2</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"Hello Sass!"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test</span> &#123;</span><br><span class="line">  text: AAAAA;</span><br><span class="line">  text: aa-aaaa-aaa;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4><span id="22数字函数">2.2数字函数</span></h4><ul><li>percentage($value)：将一个<strong>不带单位</strong>的数转换成百分比值；</li><li>round($value)：将数值四舍五入，转换成一个最接近的整数；</li><li>ceil($value)：将大于自己的小数转换成下一位整数；</li><li>floor($value)：将一个数去除他的小数部分；</li><li>abs($value)：返回一个数的绝对值；</li><li>min($numbers…)：找出几个数值之间的最小值；</li><li>max($numbers…)：找出几个数值之间的最大值；</li><li>random(): 获取随机数</li></ul><p>注意：<br>在round,ceil,floor 函数中可以携带单位的任何数值。<br>在 min,max函数中同时出现两种不同类型的单位，将会报错误信息.<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line"><span class="selector-class">.footer</span>&#123;</span><br><span class="line"><span class="attribute">width</span> : percentage(.<span class="number">2</span>);  <span class="comment">//width : 20%</span></span><br><span class="line"><span class="attribute">width</span>:round(<span class="number">12.3px</span>);  <span class="comment">//width : 12px</span></span><br><span class="line"><span class="attribute">width</span>:round(<span class="number">3px</span> / <span class="number">2em</span>);  <span class="comment">//width : 2px/em</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4><span id="23列表函数">2.3列表函数</span></h4><ul><li>length($list)：返回一个列表的长度值；</li><li>nth($list, $n)：返回一个列表中指定的某个标签值，从1开始</li><li>join($list1, $list2, [$separator])：将两个列给连接在一起，变成一个列表；</li><li>append($list1, $val, [$separator])：将某个值放在列表的最后；</li><li>zip($lists…)：将几个列表结合成一个多维的列表；</li><li>index($list, $value)：返回一个值在列表中的位置值。</li></ul><p><strong>注意：</strong><br>length() 函数中的列表参数之间使用空格隔开，不能使用逗号，否则函数将会出错。<br>join() 只能将两个列表连接成一个列表，如果直接连接两个以上的列表将会报错。可将多个 join函数合并在一起使用。可选参数：comma和space，分别表示以逗号和空格分隔。<br>append()可选参数comma和space。<br>zip()函数中每个单一列表的值对应的取其相同位置值,在使用zip()函数时，每个单一的列表个数值必须是相同的。<br>index() 函数中，如果指定的值不在列表中（没有找到相应的值），那么返回的值将是 false，相反就会返回对应的值在列表中所处的位置。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">length(<span class="number">10</span>px <span class="number">20</span>px (border <span class="number">1</span>px solid) <span class="number">2</span>em);  <span class="comment">//4</span></span><br><span class="line">nth((Helvetica,Arial,sans-serif),<span class="number">2</span>);  <span class="comment">//"Arial"</span></span><br><span class="line">join(<span class="number">10</span>px <span class="number">20</span>px, <span class="number">30</span>px <span class="number">40</span>px);  <span class="comment">//(10px 20px 30px 40px)</span></span><br><span class="line">append(<span class="number">10</span>px <span class="number">20</span>px ,<span class="number">30</span>px);  <span class="comment">//(10px 20px 30px)</span></span><br><span class="line">zip(<span class="number">1</span>px <span class="number">2</span>px <span class="number">3</span>px,solid dashed dotted,green blue red);  <span class="comment">//((1px "solid" #008000), (2px "dashed" #0000ff), (3px "dotted" #ff0000))</span></span><br><span class="line">index(<span class="number">1</span>px solid red, solid);  <span class="comment">//2</span></span><br></pre></td></tr></table></figure></p><h4><span id="24颜色函数">2.4颜色函数</span></h4><p><strong>RGB函数：</strong></p><ul><li>rgb($red,$green,$blue)：根据红、绿、蓝三个值创建一个颜色；</li><li>rgba($red,$green,$blue,$alpha)：根据红、绿、蓝和透明度值创建一个颜色；</li><li>red($color)：从一个颜色中获取其中红色值；</li><li>green($color)：从一个颜色中获取其中绿色值；</li><li>blue($color)：从一个颜色中获取其中蓝色值；</li><li>mix($color-1,$color-2,[$weight])：把两种颜色（按比例）混合在一起，默认比例是50%。</li></ul><p>在命令终端开启<code>sass -i</code>命令，相当于开启 Sass 的函数计算。</p><p><strong>HSL函数：</strong></p><ul><li>hsl($hue,$saturation,$lightness)：通过色相（hue）、饱和度(saturation)和亮度（lightness）的值创建一个颜色；</li><li>hsla($hue,$saturation,$lightness,$alpha)：通过色相（hue）、饱和度(saturation)、亮度（lightness）和透明（alpha）的值创建一个颜色；</li><li>hue($color)：从一个颜色中获取色相（hue）值；</li><li>saturation($color)：从一个颜色中获取饱和度（saturation）值；</li><li>lightness($color)：从一个颜色中获取亮度（lightness）值；</li><li>adjust-hue($color,$degrees)：通过改变一个颜色的色相值，创建一个新的颜色；</li><li>lighten($color,$amount)：通过改变颜色的亮度值，让颜色变亮，创建一个新的颜色；</li><li>darken($color,$amount)：通过改变颜色的亮度值，让颜色变暗，创建一个新的颜色；</li><li>saturate($color,$amount)：通过改变颜色的饱和度值，让颜色更饱和，从而创建一个新的颜色</li><li>desaturate($color,$amount)：通过改变颜色的饱和度值，让颜色更少的饱和，从而创建出一个新的颜色；</li><li>grayscale($color)：将一个颜色变成灰色，相当于desaturate($color,100%);</li><li>complement($color)：返回一个补充色，相当于adjust-hue($color,180deg);</li><li>invert($color)：反回一个反相色，红、绿、蓝色值倒过来，而透明度不变。</li></ul><p><strong>Opacity函数：</strong> </p><ul><li>alpha($color) /opacity($color)：获取颜色透明度值；</li><li>rgba($color, $alpha)：改变颜色的透明度值；</li><li>opacify($color, $amount) / fade-in($color, $amount)：使颜色更不透明；</li><li>transparentize($color, $amount) / fade-out($color, $amount)：使颜色更加透明。</li></ul><h4><span id="25其他函数">2.5其他函数</span></h4><p><strong>Introspection 函数</strong><br>包括了几个判断型函数：</p><ul><li>type-of($value)：返回一个值的类型(number,string,bool,color)</li><li>unit($number)：返回一个值的单位</li><li>unitless($number)：判断一个值是否带有单位,不带单位返回true</li><li>comparable($number-1, $number-2)：判断两个值是否可以做加、减和合并,可以返回true</li></ul><p><strong>Miscellaneous 函数</strong>（三元条件函数）<br><code>if($condition,$if-true,$if-false)</code>:当 $condition 条件成立时，返回的值为 $if-true，否则返回的是 $if-false 值<br>例如：<code>if(true,1px,2px);  //1px</code></p><p><strong>Map</strong><br>声明方式：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$map</span>: (<span class="regexp">//</span>可以嵌套</span><br><span class="line">    <span class="variable">$key1</span>: value1,</span><br><span class="line">    <span class="variable">$key2</span>: value2,</span><br><span class="line">    <span class="variable">$key3</span>: value3</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p>实用性非常强，有些换皮肤的项目，可以使用此功能来管理颜色的变量，便于维护与管理。如：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$theme-color:</span> <span class="string">(</span></span><br><span class="line"><span class="attr">    default:</span> <span class="string">(</span></span><br><span class="line"><span class="attr">        bgcolor:</span> <span class="comment">#fff,</span></span><br><span class="line"><span class="attr">        text-color:</span> <span class="comment">#444,</span></span><br><span class="line"><span class="attr">        link-color:</span> <span class="comment">#39f</span></span><br><span class="line">    <span class="string">),</span></span><br><span class="line"><span class="attr">    primary:</span><span class="string">(</span></span><br><span class="line"><span class="attr">        bgcolor:</span> <span class="comment">#000,</span></span><br><span class="line"><span class="attr">        text-color:</span><span class="comment">#fff,</span></span><br><span class="line"><span class="attr">        link-color:</span> <span class="comment">#93f</span></span><br><span class="line">    <span class="string">),</span></span><br><span class="line"><span class="attr">    negative:</span> <span class="string">(</span></span><br><span class="line"><span class="attr">        bgcolor:</span> <span class="comment">#f36,</span></span><br><span class="line"><span class="attr">        text-color:</span> <span class="comment">#fefefe,</span></span><br><span class="line"><span class="attr">        link-color:</span> <span class="comment">#d4e</span></span><br><span class="line">    <span class="string">)</span></span><br><span class="line"><span class="string">);</span></span><br></pre></td></tr></table></figure></p><p><strong>Maps函数：</strong></p><ul><li>map-get($map,$key)：根据给定的 key 值，返回 map 中相关的值。如果 $key 不存在 $map中，将返回 null 值，不会报错。</li><li>map-merge($map1,$map2)：将两个 map 合并成一个新的 map。如果 $map1 和 $map2 中有相同的 $key 名，那么将 $map2 中的 $key 会取代 $map1 中的</li><li>map-remove($map,$key)：从 map 中删除一个 key，返回一个新 map。</li><li>map-keys($map)：返回 map 中所有的 key。</li><li>map-values($map)：返回 map 中所有的 value。</li><li>map-has-key($map,$key)：根据给定的 key 值判断 map 是否有对应的 value 值，如果有返回 true，否则返回 false。</li><li>keywords($args)：返回一个函数的参数，这个参数可以动态的设置 key 和 value。</li></ul><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//SCSS</span><br><span class="line">$social-colors: (</span><br><span class="line">    dribble: #ea4c89,</span><br><span class="line">    facebook: #<span class="number">3b5998</span>,</span><br><span class="line">    github: #<span class="number">171515</span>,</span><br><span class="line">    google: #db4437,</span><br><span class="line">    twitter: #55acee</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">.btn-dribble&#123;</span><br><span class="line">    <span class="built_in">color</span>: <span class="built_in">map</span>-<span class="built_in">get</span>($social-colors,facebook);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//CSS</span><br><span class="line">.btn-dribble &#123;</span><br><span class="line">    <span class="built_in">color</span>: #<span class="number">3b5998</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="3sass的规则">3.Sass的@规则</span></h3><p><strong>@import</strong>:所有引入的 SCSS 和 Sass 文件都会被合并并输出一个单一的 CSS 文件。sass的@import规则在生成css文件时就把相关文件导入进来。与css的@import规则不一样：只有执行到@import时，浏览器才会去下载其他css文件，这导致页面加载起来特别慢。<br>在少数几种情况下，它会被编译成 CSS 的 @import 规则：</p><blockquote><p>如果文件的扩展名是 .css。<br>如果文件名以 http:// 开头。<br>如果文件名是 url()。<br>如果 @import 包含了任何媒体查询（media queries）。</p></blockquote><ul><li>如果没有扩展名， Sass 将试着找出具有 .scss 或 .sass 扩展名的同名文件并将其引入。</li><li>@import 引入多个文件：<code>@import &quot;rounded-corners&quot;, &quot;text-shadow&quot;;</code></li><li>如果你有一个 SCSS 或 Sass 文件需要引入， 但是你又不希望它被编译为一个 CSS 文件， 这时，你就可以在文件名前面加一个下划线，就能避免被编译。在同一个目录不能同时存在带下划线和不带下划线的同名文件。</li></ul><p><strong>@media</strong>:如果在样式中使用 @media 指令，它将冒泡到外面。</p><p><strong>@at-root</strong>:当你选择器嵌套多层之后，想让某个选择器跳出，此时就可以使用 @at-root。</p><p><strong>@debug</strong>:当你的在 Sass 的源码中使用了 @debug 指令之后，Sass 代码在编译出错时，在命令终端会输出你设置的提示 Bug。（@warn，@error用法类似）</p>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1sass的控制命令&quot;&gt;1.Sass的控制命令&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#11if和else&quot;&gt;1.1@if和@else&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#12for&quot;&gt;1.2@for&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#13while&quot;&gt;1.3@while&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#14each&quot;&gt;1.4@each&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2sass的函数功能&quot;&gt;2.Sass的函数功能&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#21字符串函数&quot;&gt;2.1字符串函数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#22数字函数&quot;&gt;2.2数字函数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#23列表函数&quot;&gt;2.3列表函数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#24颜色函数&quot;&gt;2.4颜色函数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#25其他函数&quot;&gt;2.5其他函数&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3sass的规则&quot;&gt;3.Sass的@规则&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="CSS" scheme="https://wtlemoney.github.io/categories/CSS/"/>
    
      <category term="SCSS" scheme="https://wtlemoney.github.io/categories/CSS/SCSS/"/>
    
      <category term="预处理器" scheme="https://wtlemoney.github.io/categories/CSS/SCSS/%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8/"/>
    
      <category term="编译" scheme="https://wtlemoney.github.io/categories/CSS/SCSS/%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8/%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="CSS" scheme="https://wtlemoney.github.io/tags/CSS/"/>
    
      <category term="SCSS" scheme="https://wtlemoney.github.io/tags/SCSS/"/>
    
      <category term="预处理器" scheme="https://wtlemoney.github.io/tags/%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8/"/>
    
      <category term="编译" scheme="https://wtlemoney.github.io/tags/%E7%BC%96%E8%AF%91/"/>
    
      <category term="工具，函数" scheme="https://wtlemoney.github.io/tags/%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%87%BD%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>SCSS基础学习（一）</title>
    <link href="https://wtlemoney.github.io/2018/05/09/SCSS-1/"/>
    <id>https://wtlemoney.github.io/2018/05/09/SCSS-1/</id>
    <published>2018-05-09T15:48:45.000Z</published>
    <updated>2018-05-12T05:13:52.828Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1sass编译">1.Sass编译</a><ul><li><a href="#11命令编译">1.1命令编译</a></li><li><a href="#12gui编译和自动化编译">1.2GUI编译和自动化编译</a></li></ul></li><li><a href="#2sass调试">2.Sass调试</a></li><li><a href="#3sass基础">3.Sass基础</a><ul><li><a href="#31声明变量">3.1声明变量</a></li><li><a href="#32嵌套">3.2嵌套</a></li><li><a href="#33混合宏">3.3混合宏</a></li><li><a href="#34继承">3.4继承</a></li><li><a href="#35占位符">3.5占位符</a></li><li><a href="#36插值">3.6插值</a></li><li><a href="#37注释">3.7注释</a></li><li><a href="#38值列表">3.8值列表</a></li></ul></li><li><a href="#4sass运算">4.Sass运算</a><ul><li><a href="#41加减乘除">4.1加减乘除</a></li><li><a href="#42颜色运算">4.2颜色运算</a></li><li><a href="#43字符运算">4.3字符运算</a></li></ul></li></ul><!-- tocstop --><a id="more"></a><h3><span id="1sass编译">1.Sass编译</span></h3><p><strong>三种编译方法</strong>：命令编译，GUI编译，自动化编译。<br>我会选择命令编译。</p><p><strong>Sass常见的编译错误</strong>：</p><ul><li>字符编译，需要将文件编码设置为”utf-8”</li><li>中文字符，不要在文件命名时使用中文</li></ul><p><strong>不同样式风格的输出方法</strong>：</p><ul><li>嵌套输出方式 nested</li><li>展开输出方式 expanded  </li><li>紧凑输出方式 compact </li><li>压缩输出方式 compressed</li></ul><p>比如压缩输出在终端输入：<br><code>sass --watch test.scss:test.css --style compressed</code><br>注意：压缩输出方式会去掉标准的 Sass 和 CSS 注释及空格</p><h4><span id="11命令编译">1.1命令编译</span></h4><p>单文件编译：<br>假设我本地有一个项目，我要把项目中“bootstrap.scss”编译出“bootstrap.css”文件，并且将编译出来的文件放在“css”文件夹中，我就可以在我的命令终端中执行：<br><code>sass --watch sass/bootstrap.scss:css/bootstrap.css</code></p><p>在编译 Sass 时，开启“watch”功能，这样只要你的代码进行任何修改，都能自动监测到代码的变化，并且给你直接编译出来</p><p>多文件编译：</p><p>sass sass/:css/<br>上面的命令表示将项目中“sass”文件夹中所有“.scss”(“.sass”)文件编译成“.css”文件，并且将这些 CSS 文件都放在项目中“css”文件夹中。</p><h4><span id="12gui编译和自动化编译">1.2GUI编译和自动化编译</span></h4><p>比较流行的GUI界面编译工具：</p><ul><li><a href="http://koala-app.com/" target="_blank" rel="noopener">Koala</a></li><li><a href="http://compass.kkbox.com/" target="_blank" rel="noopener">Compass.app</a></li><li><a href="http://mhs.github.io/scout-app/" target="_blank" rel="noopener">Scout</a></li><li><a href="https://incident57.com/codekit/index.html" target="_blank" rel="noopener">CodeKit</a></li><li><a href="https://prepros.io/" target="_blank" rel="noopener">Prepros</a></li></ul><p>自动化编译工具：Grunt和Gulp</p><p>如有需要，请自行了解。</p><h3><span id="2sass调试">2.Sass调试</span></h3><ul><li><p>浏览器支持 sourcemap 功能即可</p></li><li><p>早期版本编译时添加参数：–sourcemap<br><code>sass --watch --scss --sourcemap style.scss:style.css</code></p></li><li><p>Sass 3.3版本以后不需添加参数<br><code>sass --watch style.scss:style.css</code></p></li></ul><ul><li>终端输入命令，将看到一个信息<blockquote><p>Change detected to: style.scss<br>write style.css<br>write style.css.map</p></blockquote></li></ul><h3><span id="3sass基础">3.Sass基础</span></h3><h4><span id="31声明变量">3.1声明变量</span></h4><p>“$”；变量名称；赋予变量的值。例子：$width:300px;<br>sass 的默认变量仅需要在值后面加上 !default 即可。覆盖默认变量：在默认变量之前重新声明<br>声明变量的场合：</p><blockquote><p>这个值要用到至少两次<br>这个值至少会被更新一次<br>这个值所有的表现都和变量有关 （非巧合）</p></blockquote><h4><span id="32嵌套">3.2嵌套</span></h4><p>1)<em>选择器嵌套</em></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">header</span> &amp; &#123;  <span class="comment">//header &amp;表示header作为nav的父集</span></span><br><span class="line">      <span class="attribute">color</span>:green;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译出来的css</span></span><br><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">   <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">header</span> <span class="selector-tag">nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">   <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2)<em>属性嵌套</em><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid red;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//sass</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: &#123;</span><br><span class="line">   <span class="attribute">top</span>: <span class="number">1px</span> solid red;</span><br><span class="line">   <span class="attribute">bottom</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>3)<em>伪类嵌套</em><br>伪类嵌套和属性嵌套非常类似，只不过他需要借助<code>&amp;</code>符号一起配合使用。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span>&#123;</span><br><span class="line">&amp;:before,</span><br><span class="line">&amp;:after &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line">    <span class="attribute">display</span>: table;</span><br><span class="line">  &#125;</span><br><span class="line">&amp;:after &#123;</span><br><span class="line">    <span class="attribute">clear</span>:both;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译出来的css</span></span><br><span class="line">clearfix:before, <span class="selector-class">.clearfix</span>:after &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span>:after &#123;</span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4><span id="33混合宏">3.3混合宏</span></h4><p>当网站中有颜色、字体等小样式类似时，可以使用变量处理。但样式复杂，需要重复使用大段的样式时，混合宏就很有意义了。混合宏的不足之处是会生成冗余的代码块，Sass 在调用相同的混合宏时，并不能智能的将相同的样式代码块合并在一起。。</p><ul><li><strong>声明混合宏</strong></li></ul><p>在 Sass 中，使用“@mixin”来声明一个混合宏。<br>1)<em>不带参数混合宏</em><br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">mixin</span> border-radius&#123;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>2)<em>带参数混合宏</em><br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//带值的参数</span></span><br><span class="line">@<span class="keyword">mixin</span> border-radius(<span class="variable">$radius</span>:<span class="number">5px</span>)&#123;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="variable">$radius</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="variable">$radius</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  @<span class="keyword">include</span> border-radius;  <span class="comment">//或者传值：include border-radius(50%);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//不带值的参数</span></span><br><span class="line">@<span class="keyword">mixin</span> border-radius(<span class="variable">$radius</span>)&#123;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="variable">$radius</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="variable">$radius</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//不带值参数的调用</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  @<span class="keyword">include</span> border-radius(<span class="number">3px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>3)<em>复杂的混合宏</em><br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@mixin</span> box-shadow($shadow...) &#123;</span><br><span class="line">  <span class="variable">@if</span> length($shadow) &gt;= <span class="number">1</span> &#123;</span><br><span class="line">    <span class="variable">@include</span> prefixer(box-shadow, $shadow);  <span class="comment">//调用@mixin声明的混合宏prefixer</span></span><br><span class="line">  &#125; <span class="variable">@else</span>&#123;</span><br><span class="line">    $<span class="attribute">shadow</span>:<span class="number">0</span> <span class="number">0</span> <span class="number">4px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>);</span><br><span class="line">    <span class="variable">@include</span> prefixer(box-shadow, $shadow);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ul><li><strong>调用混合宏</strong></li></ul><p>在 Sass 中通过 @mixin 关键词声明了一个混合宏，那么在实际调用中，其匹配了一个关键词“@include”来调用声明好的混合宏。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明</span></span><br><span class="line">@<span class="keyword">mixin</span> border-radius&#123;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">    @<span class="keyword">include</span> border-radius;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//编译出来的CSS</span></span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4><span id="34继承">3.4继承</span></h4><p>通过关键词 “@extend”来继承已存在的类样式块，从而实现代码的继承。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn-primary</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f36</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  @<span class="keyword">extend</span> .btn;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//编译成CSS</span></span><br><span class="line"><span class="selector-class">.btn</span>, <span class="selector-class">.btn-primary</span>&#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn-primary</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f36</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4><span id="35占位符">3.5占位符</span></h4><p>%placeholder 声明的代码，如果不被 @extend 调用的话，不会产生任何代码。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line">%mt5 &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  @<span class="keyword">extend</span> %mt5;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//CSS</span></span><br><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4><span id="36插值">3.6插值</span></h4><p>比如说你想写更干净的、高效的和面向对象的 CSS。Sass 中的插值(Interpolation)就是重要的一部分。注意：使用 #{ }插值语句时，有引号字符串将被编译为无引号字符串</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SCSS</span></span><br><span class="line"><span class="variable">$properties</span>: (margin, padding);</span><br><span class="line">@<span class="keyword">mixin</span> set-value(<span class="variable">$side</span>, <span class="variable">$value</span>) &#123;</span><br><span class="line">    @<span class="keyword">each</span> <span class="variable">$prop</span> in <span class="variable">$properties</span> &#123;</span><br><span class="line">        #&#123;<span class="variable">$prop</span>&#125;-#&#123;<span class="variable">$side</span>&#125;: <span class="variable">$value</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.login-box</span> &#123;</span><br><span class="line">    @<span class="keyword">include</span> set-value(top, 14px);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//CSS</span></span><br><span class="line"><span class="selector-class">.login-box</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2018/05/09/SCSS-1/scss.jpg" alt=""></p><h4><span id="37注释">3.7注释</span></h4><p>1）类似 CSS 的注释方式，使用 ”/<em> ”开头，结属使用 ”</em>/ ”<br>2）类似 JavaScript 的注释方式，使用“//”<br>区别：前者会在编译出来的 CSS 显示，后者在编译出来的 CSS 中不会显示</p><h4><span id="38值列表">3.8值列表</span></h4><p>1）值列表中可以再包含值列表，比如 1px 2px, 5px 6px 是包含 1px 2px 与 5px 6px 两个值列表的值列表。如果内外两层值列表使用相同的分隔方式，要用圆括号包裹内层，所以也可以写成 (1px 2px) (5px 6px)。<br>2）如果值列表中包含空的值列表或空值，编译时将清除空值，比如 1px 2px () 3px 或 1px 2px null 3px。<br>3）列表函数</p><blockquote><p>nth函数（nth function） 可以直接访问值列表中的某一项；<br>join函数（join function） 可以将多个值列表连结在一起；<br>append函数（append function） 可以在值列表中添加值；<br>@each规则（@each rule） 则能够给值列表中的每个项目添加样式。</p></blockquote><h3><span id="4sass运算">4.Sass运算</span></h3><h4><span id="41加减乘除">4.1加减乘除</span></h4><p>运算时碰到不同类型的单位时，编译会报错。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20px</span> + <span class="number">8in</span>; <span class="comment">//788px,1英寸==96px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span> * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//除法</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: (<span class="number">100px</span> / <span class="number">2</span>);  <span class="comment">//要有括号，否则会编译成100px/2</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span> / <span class="number">2</span> + <span class="number">2in</span>;  <span class="comment">//242px,“/”符号在已有的数学表达式中时，也会被认作除法符号</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">$width</span> / <span class="number">10</span>; <span class="comment">//可以没有括号</span></span><br><span class="line">  <span class="attribute">width</span>: (<span class="number">1000px</span> / <span class="number">100px</span>); <span class="comment">//10,不带单位</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>”/  ”符号被当作除法运算符时有以下几种情况：</p><p>•    如果数值或它的任意部分是存储在一个变量中或是函数的返回值。<br>•    如果数值被圆括号包围。<br>•    如果数值是另一个数学表达式的一部分。</p><h4><span id="42颜色运算">4.2颜色运算</span></h4><p>所有算数运算都支持颜色值，并且是分段运算的。也就是说，红、绿和蓝各颜色分段单独进行运算。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#010203</span> + <span class="number">#040506</span>;<span class="comment">//#050709</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4><span id="43字符运算">4.3字符运算</span></h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$content</span>: <span class="string">"Hello"</span> + <span class="string">""</span> + <span class="string">"Sass!"</span>;</span><br><span class="line"><span class="selector-class">.box</span>:before &#123;</span><br><span class="line"><span class="attribute">content</span>: <span class="string">" #&#123;$content&#125; "</span>;  <span class="comment">//content: " Hello Sass! ";</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &#123; </span><br><span class="line">  <span class="attribute">cursor</span>: e + -resize;  <span class="comment">//cursor: e-resize;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意：如果有引号的字符串被添加了一个没有引号的字符串， 结果会是一个有引号的字符串。同样的，如果一个没有引号的字符串被添加了一个有引号的字符串，结果将是一个没有引号的字符串。</p>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1sass编译&quot;&gt;1.Sass编译&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#11命令编译&quot;&gt;1.1命令编译&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#12gui编译和自动化编译&quot;&gt;1.2GUI编译和自动化编译&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2sass调试&quot;&gt;2.Sass调试&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3sass基础&quot;&gt;3.Sass基础&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#31声明变量&quot;&gt;3.1声明变量&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#32嵌套&quot;&gt;3.2嵌套&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#33混合宏&quot;&gt;3.3混合宏&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#34继承&quot;&gt;3.4继承&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#35占位符&quot;&gt;3.5占位符&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#36插值&quot;&gt;3.6插值&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#37注释&quot;&gt;3.7注释&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#38值列表&quot;&gt;3.8值列表&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4sass运算&quot;&gt;4.Sass运算&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#41加减乘除&quot;&gt;4.1加减乘除&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#42颜色运算&quot;&gt;4.2颜色运算&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#43字符运算&quot;&gt;4.3字符运算&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="CSS" scheme="https://wtlemoney.github.io/categories/CSS/"/>
    
      <category term="SCSS" scheme="https://wtlemoney.github.io/categories/CSS/SCSS/"/>
    
      <category term="预处理器" scheme="https://wtlemoney.github.io/categories/CSS/SCSS/%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8/"/>
    
      <category term="编译" scheme="https://wtlemoney.github.io/categories/CSS/SCSS/%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8/%E7%BC%96%E8%AF%91/"/>
    
    
      <category term="CSS" scheme="https://wtlemoney.github.io/tags/CSS/"/>
    
      <category term="SCSS" scheme="https://wtlemoney.github.io/tags/SCSS/"/>
    
      <category term="预处理器" scheme="https://wtlemoney.github.io/tags/%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8/"/>
    
      <category term="编译" scheme="https://wtlemoney.github.io/tags/%E7%BC%96%E8%AF%91/"/>
    
      <category term="工具" scheme="https://wtlemoney.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>HTML5指南（一）</title>
    <link href="https://wtlemoney.github.io/2018/05/06/HTML5-1/"/>
    <id>https://wtlemoney.github.io/2018/05/06/HTML5-1/</id>
    <published>2018-05-06T12:35:56.000Z</published>
    <updated>2018-05-06T12:52:19.923Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1html5的目标和解决的问题">1.HTML5的目标和解决的问题</a></li><li><a href="#2html5主要的新特性">2.HTML5主要的新特性</a></li><li><a href="#3html5和html4的区别">3.HTML5和HTML4的区别</a><ul><li><a href="#31新增的元素和废弃的元素">3.1新增的元素和废弃的元素</a></li><li><a href="#32新增的属性和废弃的属性">3.2新增的属性和废弃的属性</a></li><li><a href="#33全局属性">3.3全局属性</a></li><li><a href="#34新增的事件">3.4新增的事件</a></li></ul></li></ul><!-- tocstop --><h3><span id="1html5的目标和解决的问题">1.HTML5的目标和解决的问题</span></h3><p><strong>目标：</strong>能够创建更简单的Web程序，书写出更简洁的HTML代码。</p><p><strong>解决的问题：</strong></p><ul><li>Web浏览器之间的兼容性很低。</li><li>文档结构不够明确。</li><li>Web应用程序的功能受到了限制。<a id="more"></a></li></ul><h3><span id="2html5主要的新特性">2.HTML5主要的新特性</span></h3><p><strong>语义特性：</strong>HTML5赋予网页更好的意义和结构。简单来说就是程序猿更方便跟浏览器沟通。</p><p><strong>本地存储特性：</strong>基于HTML5开发的网页APP拥有更短的启动时间，更快的联网速度，因为可以将一些常用、不常更新的内容存储在本地。</p><p><strong>设备兼容特性：</strong>HTML5提供了前所未有的数据与应用接入开放接口。使外部应用可以直接与浏览器内部的数据直接相连，例如视频影音可直接与microphones及摄像头相联。</p><p><strong>连接特性：</strong>HTML5拥有更有效的服务器推送技术，Server-SentEvent和WebSockets就是其中的两个特性，这两个特性能够帮助实现服务器将数据“推送”到客户端的功能。更有效的连接工作效率，可以实现基于页面的实时聊天，更快速的网页游戏体验，更优化的在线交流。</p><p><strong>网页多媒体特性：</strong>支持网页端的Audio、Video等多媒体功能。</p><p><strong>三维、图形及特效特性：</strong>基于SVG、Canvas、WebGL及CSS3的3D功能，视觉效果将大大增强，在线3D网游就是最典型的例子。</p><p><strong>性能与集成特性：</strong>HTML5会通过XMLHttpRequest2等技术，帮助Web应用和网站在多样化的环境中更快速的工作。最直观的就是加载会更快。</p><p><strong>CSS3特性：</strong>相对于旧的CSS版本，HTML5所支持的CSS3中提供了更多的风格和更强的效果，也提供了更高的灵活性和控制性。</p><h3><span id="3html5和html4的区别">3.HTML5和HTML4的区别</span></h3><h4><span id="31新增的元素和废弃的元素">3.1新增的元素和废弃的元素</span></h4><ul><li><p><strong>新增的结构元素：</strong>section、article、aside、header、footer、nav、figure、main<br>figure元素表示一段独立的流内容，一般表示文档主体流内容中的一个独立单元。</p></li><li><p><strong>新增的其他元素：</strong>video、audio、embed、mark、progress、meter、time、canvas、command、datalist、datagrid、kengen、output、source、menu、dialog<br>kengen元素表示生产秘钥。<br>meter元素表示度量衡，仅用于已知最大值和最小值的度量。</p></li><li><p><strong>新增的input元素的类型：</strong>email、url、number、range、Date Pickers(date,month,week,time,datetime,datetime-local)</p></li><li><p><strong>被废除的元素：</strong></p><ul><li>能使用CSS替代的元素：basefont、big、center、font、s、strike、tt、u</li><li>不再使用frame框架：frameset、frame、noframes。由于frame框架对网页可用性存在负面影响，在HTML5中只支持iframe框架</li><li>只有部分浏览器支持的元素：applet、bgsound、blink、marquee</li><li>其他被废弃的元素：rb、acronym、dir、isindex、listing、xmp、nextid、plaintext</li></ul></li></ul><h4><span id="32新增的属性和废弃的属性">3.2新增的属性和废弃的属性</span></h4><ul><li><p><strong>新增表单相关的属性</strong></p><ul><li>autofocus  (元素input[type=”tetx”],select,textarea,button)</li><li>placeholder（元素inout[type=”tetx”],textarea）</li><li>form() （元素input,output,select,textarea,button,fieldset）</li><li>required （元素inout[type=”tetx”],textarea）</li><li>autocomplete,min,max,multiple,pattern,step<br>新的list元素与datalist元素配合使用。datalist元素与autocomplete属性配合使用。<br>multiple属性允许在上传文件时一次上传多个文件。</li><li>formaction、formenctype、formmethod、formnovalidate、formtarget (元素input,button)<br>为fieldset元素增加了disabled属性。</li><li>novalidate (元素input,button,form)</li><li>labels,属性值为一个NodeList对象</li><li>可以在标签（lable元素）内部放置一个表单元素，并且通过该标签的control属性访问该表单元素。</li><li>SelectionDirection (元素input,textarea)</li><li>indeterminate (元素checkbox)</li><li>对类型为image的input元素添加width和height属性指定图片按钮宽高</li><li>maxlength和wrap(元素textarea)</li></ul></li><li><p><strong>链接相关的属性</strong></p><ul><li>media,download,ping （元素a和area）</li><li>hreflang,rel （元素area）</li><li>sizes  (元素link)</li><li>target (元素base)</li></ul></li><li><p><strong>其他新增属性</strong></p><ul><li>start，reversed (元素ol)</li><li>charset (元素meta)</li><li>type，label（元素menu）</li><li>scoped （元素style）</li><li>async （元素script）</li><li>manifest （元素html）</li><li>sandbox,seamless,srcdoc（元素iframe）</li></ul></li><li><p><strong>废弃的元素</strong>（只列举部分HTML4常见的）</p><ul><li>charset (元素link,a)</li><li>target (元素link)</li><li>align (元素caption,input,div,h1-h6,p)</li><li>background，bgcolor （元素body）</li><li>align,bgcolor,border,cellpadding,cellspacing,frame,rules,width (元素table)</li><li>等等</li></ul></li></ul><h4><span id="33全局属性">3.3全局属性</span></h4><ul><li><strong>contentEditable：</strong>为true时，该元素变成可编辑的了</li><li><strong>designMode：</strong>on或off，指定整个页面是否可编辑</li><li><strong>hidden</strong></li><li><strong>spellcheck：</strong>true或false，不可缺省。 (针对元素input[input=text],textarea),功能是对用户输入的文本内容进行拼写和语法检查</li><li><strong>tableindex：</strong>设为负数，通常为-1，按下TAB键该元素就不能获得焦点。</li></ul><h4><span id="34新增的事件">3.4新增的事件</span></h4><ul><li><strong>window对象body元素：</strong>beforeprint,afterprint,resize,error,offline,online,pageshow,beforeunload,hashchange</li><li><strong>任何元素：</strong>mousewheel(当用户鼠标指针悬停在元素上并滚动鼠标时触发)</li><li><strong>任何容器元素：</strong>scoll</li><li><strong>input和textarea元素</strong>：input<br><code>&lt;input type=text oninput=&quot;alert(&quot;元素内容被修改&quot;)&quot;&gt;</code><br>当用户修改文本框内容时触发input事件，input事件和change事件的区别是input事件在元素尚未失去焦点时已触发，change事件只在元素失去焦点时触发</li><li><strong>form元素：</strong>reset</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1html5的目标和解决的问题&quot;&gt;1.HTML5的目标和解决的问题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2html5主要的新特性&quot;&gt;2.HTML5主要的新特性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3html5和html4的区别&quot;&gt;3.HTML5和HTML4的区别&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#31新增的元素和废弃的元素&quot;&gt;3.1新增的元素和废弃的元素&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#32新增的属性和废弃的属性&quot;&gt;3.2新增的属性和废弃的属性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#33全局属性&quot;&gt;3.3全局属性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#34新增的事件&quot;&gt;3.4新增的事件&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h3 id=&quot;1-HTML5的目标和解决的问题&quot;&gt;&lt;a href=&quot;#1-HTML5的目标和解决的问题&quot; class=&quot;headerlink&quot; title=&quot;1.HTML5的目标和解决的问题&quot;&gt;&lt;/a&gt;1.HTML5的目标和解决的问题&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;目标：&lt;/strong&gt;能够创建更简单的Web程序，书写出更简洁的HTML代码。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解决的问题：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Web浏览器之间的兼容性很低。&lt;/li&gt;
&lt;li&gt;文档结构不够明确。&lt;/li&gt;
&lt;li&gt;Web应用程序的功能受到了限制。&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="HTML5" scheme="https://wtlemoney.github.io/categories/HTML5/"/>
    
      <category term="HTML4" scheme="https://wtlemoney.github.io/categories/HTML5/HTML4/"/>
    
      <category term="表单" scheme="https://wtlemoney.github.io/categories/HTML5/HTML4/%E8%A1%A8%E5%8D%95/"/>
    
      <category term="事件" scheme="https://wtlemoney.github.io/categories/HTML5/HTML4/%E8%A1%A8%E5%8D%95/%E4%BA%8B%E4%BB%B6/"/>
    
    
      <category term="HTML5" scheme="https://wtlemoney.github.io/tags/HTML5/"/>
    
      <category term="HTML4" scheme="https://wtlemoney.github.io/tags/HTML4/"/>
    
      <category term="表单" scheme="https://wtlemoney.github.io/tags/%E8%A1%A8%E5%8D%95/"/>
    
      <category term="事件" scheme="https://wtlemoney.github.io/tags/%E4%BA%8B%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>Canvas常用API总结</title>
    <link href="https://wtlemoney.github.io/2018/05/02/Canvas%E5%B8%B8%E7%94%A8API/"/>
    <id>https://wtlemoney.github.io/2018/05/02/Canvas常用API/</id>
    <published>2018-05-02T14:50:56.000Z</published>
    <updated>2018-05-06T12:50:18.686Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1绘制线条">1.绘制线条</a></li><li><a href="#2线条样式">2.线条样式</a></li><li><a href="#3绘制曲线">3.绘制曲线</a></li><li><a href="#4绘制矩形及填充">4.绘制矩形及填充</a></li><li><a href="#5绘制阴影">5.绘制阴影</a></li><li><a href="#6绘制渐变">6.绘制渐变</a></li><li><a href="#7填充背景">7.填充背景</a></li><li><a href="#8变换">8.变换</a></li><li><a href="#9其他相关api">9.其他相关API</a></li></ul><!-- tocstop --><a id="more"></a><p>绘画的时候canvas相当于画布，而context相当于画笔。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"drawing"</span> width=<span class="string">"200"</span> height=<span class="string">"200"</span>&gt;Your browser doesn<span class="string">'t support the canvas tag.&lt;/canvas&gt;</span></span><br><span class="line"><span class="string">//js</span></span><br><span class="line"><span class="string">var draw=document.getElementById("drawing");</span></span><br><span class="line"><span class="string">var context=draw.getContext("2d");</span></span><br></pre></td></tr></table></figure></p><h4><span id="1绘制线条">1.绘制线条</span></h4><ul><li><p>moveTo(x0,y0)：把当前画笔（draw）移动到（x0,y0）这个位置。</p></li><li><p>lineTo(x1,y1):从当前位置(x0,y0)处到（x1，y1）画一条直线。</p></li><li><p>beginPath()：开启一条路径或者重置当前路径。</p></li><li><p>closePath():从当前点回到路径起始点，也就是上一个beginPath的位置。</p></li><li><p>stroke():绘制。必须加了这个函数才会画图，所以这个一定要放在最后。</p></li></ul><p>注意：closePath()放在stroke函数后面，则不会绘制成一个闭合的线条，因为在闭合前，已经绘制了。beginPath()和closePath()可以不成对出现，closePath()是用来闭合终点和起始点画一条闭合路径的。</p><h4><span id="2线条样式">2.线条样式</span></h4><ul><li><p>lineCap：线条端点样式（butt，round，square）-(平头，圆头，方头)。</p></li><li><p>lineJoin：两线条相交时的拐点样式（round，bevel，mitr）-(圆交，斜交，斜接)。其中设置为miter时还可以通过miterLimet设置拐点交界处的最大长度。</p></li><li><p>lineWidth：线条宽度</p></li><li><p>strokeStyle： 线条颜色、渐变(定义好的渐变对象)、模式。 context.strokeStyle=”#333”;</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">context.beginPath();</span><br><span class="line">context.strokeStyle=<span class="string">"#0000ff"</span>;</span><br><span class="line">context.lineWidth=<span class="number">20</span>;</span><br><span class="line">context.lineCap=<span class="string">"round"</span>;</span><br><span class="line">context.moveTo(<span class="number">10</span>,<span class="number">10</span>);</span><br><span class="line">context.lineTo(<span class="number">80</span>,<span class="number">80</span>);</span><br><span class="line">context.stroke();</span><br></pre></td></tr></table></figure><h4><span id="3绘制曲线">3.绘制曲线</span></h4><ul><li>arc(x,y,radius,startAngle,endAngle,anticlockwise):绘制曲线。radius是曲线半径，startAngle,endAngle开始角度和结束角度，用的是弧度(Math.PI/180)*角度值，anticlockwise绘制方向（false为顺时针）；</li></ul><h4><span id="4绘制矩形及填充">4.绘制矩形及填充</span></h4><ul><li><p>rect():创建矩形；</p></li><li><p>fillStyle:设置填充颜色，<code>context.fillStyle=&quot;#0000ff&quot;;</code></p></li><li><p>fillRect(x,y,width,height):绘制被填充的矩形，(x,y)起始点，width，height为矩形宽高</p></li><li><p>strokeRect()：绘制矩形线框</p></li><li><p>clearRect():清除掉矩形。</p></li></ul><h4><span id="5绘制阴影">5.绘制阴影</span></h4><ul><li><p>shadowColor：阴影颜色</p></li><li><p>shadowBlur:模糊级别</p></li><li><p>shadowOffsetX：阴影的水平距离</p></li><li><p>shadowOffsetY：阴影的垂直距离</p></li></ul><p>注意：要先设置阴影再画矩形</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">context.shadowBlur=<span class="number">20</span>;</span><br><span class="line">context.shadowColor=<span class="string">"#456"</span>;</span><br><span class="line">context.shadowOffsetX=<span class="number">-10</span>;</span><br><span class="line">context.shadowOffsetY=<span class="number">30</span>;<span class="comment">//先设置阴影再画矩形</span></span><br><span class="line">context.fillStyle=<span class="string">"#108997"</span>;</span><br><span class="line">context.fillRect(<span class="number">20</span>,<span class="number">20</span>,<span class="number">100</span>,<span class="number">80</span>);</span><br><span class="line">context.stroke();</span><br></pre></td></tr></table></figure><p><img src="/2018/05/02/Canvas常用API/shadow.png" alt="img"></p><h4><span id="6绘制渐变">6.绘制渐变</span></h4><ul><li><p>createLinearGradient(x1,y1,x2,y2):绘制线性渐变，(x1,y1)是渐变的起始点，（x2,y2）是渐变的终点，位置不同可以制作出垂直或者水平渐变。</p></li><li><p>createRadialGradient(x1,y1,r1,x2,y2,r2)：径向渐变，(x1,y1)是渐变的起始点圆心，r1是半径，（x2,y2）是渐变的终点，r2是结束点半径;</p></li><li><p>addColorStop(stop,color)来设置渐变过程，stop是0.0到1.0的值。（两种渐变都需要使用）</p></li></ul><h4><span id="7填充背景">7.填充背景</span></h4><ul><li>createPattern(image,”repeat|repeat-x|repeat-y|no-repeat”):image是一个图片对象，后面的参数是用来设定图片的重复方式。 </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> image = <span class="built_in">document</span>.images[<span class="number">0</span>],</span><br><span class="line"><span class="keyword">var</span> pattern = context.createPattern(image, <span class="string">"repeat"</span>);</span><br><span class="line"></span><br><span class="line">context.fillStyle = pattern;</span><br><span class="line">context.fillRect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">150</span>, <span class="number">150</span>);</span><br></pre></td></tr></table></figure><h4><span id="8变换">8.变换</span></h4><ul><li><p>rotate(angle):围绕原点旋转图像angle弧度</p></li><li><p>scale(scaleX,scaleY):缩放</p></li><li><p>translate(x,y）:将坐标原点移动到(x,y)</p></li></ul><h4><span id="9其他相关api">9.其他相关API</span></h4><ul><li><p>fill():填充当前路径。</p></li><li><p>clip():从画布中剪裁任意形状和尺寸的画布，之后所有的绘图都会被限制在剪裁的区域内。</p></li><li><p>isPointInPath():<code>context.isPointInPath(x,y)</code>判断这个点是否位于当前路径</p></li><li><p>清除画布方法：获取画布的宽高，<code>draw.height,draw.width</code>，然后使用clearRect();</p></li><li><p>修改画布的宽高：<code>draw.width=&#39;200&#39;，draw.width=&#39;300&#39;</code></p></li><li><p>globalAlpha:设置透明度，只能是0~1的数字，如果透明度不一样，在画第二幅之前重新设置即可。</p></li><li><p>toDataURL:<code>draw.toDataURL(type,encoderOptions)</code>，这个函数返回一个image的base64的URI，参数都是可选的，type可以设置图片类型如image/jpeg,image/webp，默认是image/png；encoderOptions是一个0~1的数字，用来设置image/jpeg,image/webp的图片质量，其他格式的type设置这个参数无效。</p></li><li><p>想操作外部的画布，使用save()函数保存。想要回到之前保存的设置，再使用restore()函数恢复，中间做的操作不会消失。可连续调用restore()，实现一级一级返回。</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1绘制线条&quot;&gt;1.绘制线条&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2线条样式&quot;&gt;2.线条样式&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3绘制曲线&quot;&gt;3.绘制曲线&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4绘制矩形及填充&quot;&gt;4.绘制矩形及填充&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5绘制阴影&quot;&gt;5.绘制阴影&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#6绘制渐变&quot;&gt;6.绘制渐变&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#7填充背景&quot;&gt;7.填充背景&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#8变换&quot;&gt;8.变换&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#9其他相关api&quot;&gt;9.其他相关API&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="HTML5" scheme="https://wtlemoney.github.io/categories/HTML5/"/>
    
      <category term="Canvas画布，API" scheme="https://wtlemoney.github.io/categories/HTML5/Canvas%E7%94%BB%E5%B8%83%EF%BC%8CAPI/"/>
    
      <category term="JavaScript" scheme="https://wtlemoney.github.io/categories/HTML5/Canvas%E7%94%BB%E5%B8%83%EF%BC%8CAPI/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://wtlemoney.github.io/tags/JavaScript/"/>
    
      <category term="Canvas" scheme="https://wtlemoney.github.io/tags/Canvas/"/>
    
      <category term="前端画图" scheme="https://wtlemoney.github.io/tags/%E5%89%8D%E7%AB%AF%E7%94%BB%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>DOM事件</title>
    <link href="https://wtlemoney.github.io/2018/04/24/DOM%E4%BA%8B%E4%BB%B6/"/>
    <id>https://wtlemoney.github.io/2018/04/24/DOM事件/</id>
    <published>2018-04-24T05:24:27.158Z</published>
    <updated>2018-04-24T05:36:22.563Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1事件流">1.事件流</a></li><li><a href="#2事件处理程序">2.事件处理程序</a><ul><li><a href="#21-html事件处理程序">2.1 HTML事件处理程序</a></li><li><a href="#22-dom0级事件处理程序">2.2 DOM0级事件处理程序</a></li><li><a href="#23-dom2级事件处理程序">2.3 DOM2级事件处理程序</a></li><li><a href="#24-ie事件处理程序">2.4 IE事件处理程序</a></li><li><a href="#25-跨浏览器的事件处理程序">2.5 跨浏览器的事件处理程序</a></li></ul></li><li><a href="#3事件对象">3.事件对象</a><ul><li><a href="#31-dom中的事件对象">3.1 DOM中的事件对象</a></li><li><a href="#32-ie中的事件对象">3.2 IE中的事件对象</a></li><li><a href="#33-跨浏览器的事件对象">3.3 跨浏览器的事件对象</a></li></ul></li></ul><!-- tocstop --><a id="more"></a><h3><span id="1事件流">1.事件流</span></h3><ul><li>描述：从页面中接收事件的顺序。</li><li>方式：<ul><li>事件冒泡（IE事件流）</li><li>事件捕获（Netscape）</li><li>DOM事件流：事件捕获阶段、处于目标阶段、事件冒泡阶段</li></ul></li></ul><h3><span id="2事件处理程序">2.事件处理程序</span></h3><h4><span id="21-html事件处理程序">2.1 HTML事件处理程序</span></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  &lt;input type=<span class="string">"button"</span> value=<span class="string">"Click me"</span> onclick=<span class="string">"showMessage()"</span>/&gt;</span><br><span class="line"></span><br><span class="line">  &lt;input type=<span class="string">"button"</span> value=<span class="string">"Click me"</span> onclick=<span class="string">"alert(event.type)"</span>/&gt;<span class="comment">//输出:"click"</span></span><br><span class="line">  &lt;input type=<span class="string">"button"</span> value=<span class="string">"Click me"</span> onclick=<span class="string">"alert(this.value)"</span>/&gt;<span class="comment">//输出:"Click me",this.value也可以写成value</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//无需引用表单元素就能访问其他表单字段</span></span><br><span class="line">&lt;form method=<span class="string">"post"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span> value=<span class="string">""</span>/&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> value=<span class="string">"hhh"</span> onclick=<span class="string">"alert(username.value)"</span>/&gt;</span><br><span class="line">&lt;<span class="regexp">/form&gt;</span></span><br></pre></td></tr></table></figure><p>&emsp;缺点：时差问题，用户可能会在HTML元素一出现就触发了事件，这时候事件尚不具备执行条件。HTML和Js代码紧密耦合，不方便更改代码。</p><h4><span id="22-dom0级事件处理程序">2.2 DOM0级事件处理程序</span></h4><p>我不喜欢多打字，直接上代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementById(<span class="string">"myBtn"</span>);</span><br><span class="line">btn.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">alert(<span class="keyword">this</span>.id);  <span class="comment">//"myBtn"</span></span><br><span class="line"></span><br><span class="line">btn.onclick=<span class="literal">null</span>;<span class="comment">//删除事件处理程序</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4><span id="23-dom2级事件处理程序">2.3 DOM2级事件处理程序</span></h4><p>两个方法：<code>addEventListener()</code>和<code>removeEventListener()</code><br>参数：要处理的事件名，作为事件处理程序的函数，一个布尔值（true:捕获，false:冒泡）<br>好处：可以添加多个事件程序，按顺序触发<br>注意：移除时，传入的参数与添加函数处理程序使用的参数相同，匿名函数无法移除</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementById(<span class="string">"myBtn"</span>);</span><br><span class="line"> <span class="keyword">var</span> handler=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.id);</span><br><span class="line"> &#125;</span><br><span class="line"> btn.addEventListener(<span class="string">"click"</span>,handler,<span class="literal">false</span>);</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"> btn.removeEventListener(<span class="string">"click"</span>,handler,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure><h4><span id="24-ie事件处理程序">2.4 IE事件处理程序</span></h4><p>两个方法：<code>attachEvent()</code>和<code>detachEvent()</code>，（只有冒泡）<br>参数：要处理的事件名，作为事件处理程序的函数（作用域：全局，this指向全局）<br>注意：第一个参数如<code>onclick</code>,非DOM的<code>click</code>。<br>好处：也可以添加多个事件处理程序，但是是<code>以添加的相反的顺序触发</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementById(<span class="string">"myBtn"</span>);</span><br><span class="line"> <span class="keyword">var</span> handler=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"haha"</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> btn.attachEvent(<span class="string">"onclick"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     alert(<span class="keyword">this</span>==<span class="built_in">window</span>);<span class="comment">//true</span></span><br><span class="line"> &#125;)</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//删除</span></span><br><span class="line"> btn.attachEvent(<span class="string">"onclick"</span>,handler);</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"> btn.detachEvent(<span class="string">"onclick"</span>,handler);</span><br></pre></td></tr></table></figure><h4><span id="25-跨浏览器的事件处理程序">2.5 跨浏览器的事件处理程序</span></h4><p>EventUtil对象：处理浏览器间的差异<br>方法：<code>addHandler()</code>和<code>removeHandler()</code><br>参数：要操作的元素、事件名称、事件处理程序函数<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> EventUtil=&#123;</span><br><span class="line">    addHandler: <span class="function"><span class="keyword">function</span>(<span class="params">element, type, handler</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (element.addEventListener)&#123;</span><br><span class="line">            element.addEventListener(type, handler, <span class="literal">false</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.attachEvent)&#123;</span><br><span class="line">            element.attachEvent(<span class="string">"on"</span> + type, handler);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            element[<span class="string">"on"</span> + type] = handler;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    removeHandler: <span class="function"><span class="keyword">function</span>(<span class="params">element, type, handler</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (element.removeEventListener)&#123;</span><br><span class="line">            element.removeEventListener(type, handler, <span class="literal">false</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.detachEvent)&#123;</span><br><span class="line">            element.detachEvent(<span class="string">"on"</span> + type, handler);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            element[<span class="string">"on"</span> + type] = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>用法如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(btn,<span class="string">"click"</span>,handler);</span><br><span class="line"></span><br><span class="line">EventUtil.removeHandler(btn,<span class="string">"click"</span>,handler);</span><br></pre></td></tr></table></figure></p><h3><span id="3事件对象">3.事件对象</span></h3><h4><span id="31-dom中的事件对象">3.1 DOM中的事件对象</span></h4><p>event对象属性/方法：<code>type,target,eventPhase,preventDefault(),stopPropagation(),....</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//event对象</span></span><br><span class="line"> <span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementById(<span class="string">"myBtn"</span>);</span><br><span class="line"> btn.onclick=<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">     alert(event.type);<span class="comment">//"click"</span></span><br><span class="line"> &#125;</span><br><span class="line"> btn.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">     alert(event.type);<span class="comment">//"click"</span></span><br><span class="line"> &#125;,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure></p><h4><span id="32-ie中的事件对象">3.2 IE中的事件对象</span></h4><p>注意：DOM0级方法添加事件时，要<code>event=window.event</code><br>方法：</p><ul><li><code>cancelBubble</code>:默认为false，true为取消事件冒泡</li><li><code>returnValue</code>:默认为true，false为取消默认行为</li><li><code>srcElement</code>:事件的目标</li><li><code>type</code>:被触发的事件类型</li><li>作用域：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"myBtn"</span>);</span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//DOM0级，故window.event</span></span><br><span class="line">    alert(<span class="built_in">window</span>.event.srcElement === <span class="keyword">this</span>);      <span class="comment">//true</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    alert(event.srcElement === <span class="keyword">this</span>);             <span class="comment">//false</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h4><span id="33-跨浏览器的事件对象">3.3 跨浏览器的事件对象</span></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Eventil=&#123;</span><br><span class="line">    getEvent: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> event ? event : <span class="built_in">window</span>.event;</span><br><span class="line">    &#125;,</span><br><span class="line">    getTarget: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> event.target || event.srcElement;</span><br><span class="line">    &#125;,</span><br><span class="line">    preventDefault: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (event.preventDefault)&#123;</span><br><span class="line">            event.preventDefault();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            event.returnValue = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    stopPropagation: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (event.stopPropagation)&#123;</span><br><span class="line">            event.stopPropagation();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            event.cancelBubble = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如取消冒泡：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"myBtn"</span>);</span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"Clicked"</span>);</span><br><span class="line">    event = EventUtil.getEvent(event);</span><br><span class="line">    EventUtil.stopPropagation(event);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"Body clicked"</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1事件流&quot;&gt;1.事件流&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2事件处理程序&quot;&gt;2.事件处理程序&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#21-html事件处理程序&quot;&gt;2.1 HTML事件处理程序&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#22-dom0级事件处理程序&quot;&gt;2.2 DOM0级事件处理程序&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#23-dom2级事件处理程序&quot;&gt;2.3 DOM2级事件处理程序&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#24-ie事件处理程序&quot;&gt;2.4 IE事件处理程序&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#25-跨浏览器的事件处理程序&quot;&gt;2.5 跨浏览器的事件处理程序&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3事件对象&quot;&gt;3.事件对象&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#31-dom中的事件对象&quot;&gt;3.1 DOM中的事件对象&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#32-ie中的事件对象&quot;&gt;3.2 IE中的事件对象&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#33-跨浏览器的事件对象&quot;&gt;3.3 跨浏览器的事件对象&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="DOM操作" scheme="https://wtlemoney.github.io/categories/DOM%E6%93%8D%E4%BD%9C/"/>
    
      <category term="事件处理" scheme="https://wtlemoney.github.io/categories/DOM%E6%93%8D%E4%BD%9C/%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/"/>
    
      <category term="DOM选择器" scheme="https://wtlemoney.github.io/categories/DOM%E6%93%8D%E4%BD%9C/%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/DOM%E9%80%89%E6%8B%A9%E5%99%A8/"/>
    
    
      <category term="JavaScript" scheme="https://wtlemoney.github.io/tags/JavaScript/"/>
    
      <category term="DOM" scheme="https://wtlemoney.github.io/tags/DOM/"/>
    
      <category term="节点操作" scheme="https://wtlemoney.github.io/tags/%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C/"/>
    
      <category term="浏览器兼容" scheme="https://wtlemoney.github.io/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9/"/>
    
  </entry>
  
  <entry>
    <title>DOM基础知识梳理</title>
    <link href="https://wtlemoney.github.io/2018/04/22/DOM%E5%9F%BA%E7%A1%80/"/>
    <id>https://wtlemoney.github.io/2018/04/22/DOM基础/</id>
    <published>2018-04-22T04:27:39.000Z</published>
    <updated>2018-04-24T05:30:34.046Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;最近自己写项目的时候，DOM操作稍多，但是发现自己不是很熟悉，以前看过的知识不常用就忘了，用的时候也是要经常去官网或网上查找。所以想把DOM的知识点重新回顾一下，以下知识点来自“JavaScript高级程序设计”第10、11、12章节。另外，想自己练习DOM操作相关的题，推荐<a href="http://ife.baidu.com/college/detail/id/10" target="_blank" rel="noopener">百度前端技术学院</a>的斌斌学院，上面有很多可操作的题，看的再多不如自己多思考多敲代码，这点我深有体会，可是吃了大亏的啊。</p><!-- toc --><ul><li><a href="#1dom1">1.DOM1</a><ul><li><a href="#11node类型">1.1Node类型</a></li><li><a href="#12document类型">1.2Document类型</a></li><li><a href="#13element类型">1.3Element类型</a></li><li><a href="#14text类型">1.4Text类型</a></li></ul></li><li><a href="#2dom扩展">2.DOM扩展</a></li><li><a href="#3dom2和dom3">3.DOM2和DOM3</a></li></ul><!-- tocstop --><a id="more"></a><h3><span id="1dom1">1.DOM1</span></h3><p>1998年10月DOM1级规范成为W3C的推荐标准。</p><h4><span id="11node类型">1.1Node类型</span></h4><ul><li>除了IE，浏览器都可以访问这个类型</li><li>JS中的所有节点类型都继承自Node类型，所有的节点类型都共享着相同的基本属性和方法</li><li>someNode.nodeName保存标签名，someNode.nodeValue===null</li><li>每个节点都有一个nodeType属性，表示节点的类型（共12个数值常量）<br>&emsp;列举3个常用的节点类型数值常量：<br>&emsp;&emsp;&emsp;Node.ELEMENT_NODE(1)<br>&emsp;&emsp;&emsp;Node.ATTRIBUTE_NODE(2)<br>&emsp;&emsp;&emsp;Node.TEXT_NODE(3)<br>&emsp;用法：</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(someNode.nodeType == Node.ELEMENT_NODE)&#123;<span class="comment">//在IE中无效</span></span><br><span class="line">    alert(<span class="string">"Node is a an element."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(someNode.nodeType == <span class="number">1</span>)&#123;<span class="comment">//适用于所有浏览器</span></span><br><span class="line">    alert(<span class="string">"Node is a an element."</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>访问子节点：方括号和item()都可以</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> firstChild = someNode.childNodes[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> secondChild = someNode.childNodes.item(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><ul><li>通过<code>previousSibling</code>和<code>nextSibling</code>访问相邻的兄弟节点 </li><li>插入节点：<code>appendChild(node)</code>和<code>insertBefore(node，参照节点)</code></li><li>替换节点：<code>replaceChild(node，要替换的节点)</code></li><li>移除节点：<code>removeChild(node)</code></li></ul><h4><span id="12document类型">1.2Document类型</span></h4><ul><li>documentElement属性、childNodes[0]、firstChild都指向<code>&lt;html&gt;</code>元素</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="built_in">document</span>.documentElement;<span class="comment">//取得对&lt;html&gt;的引用</span></span><br><span class="line">alert(html ===<span class="built_in">document</span>.childNodes[<span class="number">0</span>]);<span class="comment">//true</span></span><br><span class="line">alert(html === <span class="built_in">document</span>.firstChild);<span class="comment">//true</span></span><br></pre></td></tr></table></figure><ul><li>body属性指向<code>&lt;body&gt;</code>元素</li><li>查找元素：<code>getElementById()</code>和<code>getElementsByTagName()</code><br>&emsp;如果页面中多个元素的ID值相同，<code>getElementById()</code>只返回第一次出现的元素</li><li>对<code>&lt;img src=&quot;..&quot; name=&quot;myImage&quot;&gt;</code>取得<img>元素，可以有几种方法：</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> images = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"img"</span>);</span><br><span class="line"><span class="keyword">var</span> myImage = images.namedItem(<span class="string">"myImage"</span>);<span class="comment">//方法1</span></span><br><span class="line"><span class="keyword">var</span> myImage = images[<span class="string">"myImage"</span>];<span class="comment">//方法2</span></span><br></pre></td></tr></table></figure><ul><li><code>getElementsByName</code>返回指定name特性的所有元素，常被使用情况：单选按钮</li><li><strong>特殊集合</strong><br>&emsp;document.anchors：包含文档中所有带name特性的<code>&lt;a&gt;</code>元素<br>&emsp;document.forms：所有<code>&lt;form&gt;</code>元素<br>&emsp;document.images：所有<code>&lt;img&gt;</code>元素<br>&emsp;document.links：所有带href特性的<code>&lt;a&gt;</code>元素</li><li><strong>文档写入</strong>：write()、writeln()、open()、close()<br>&emsp;write()会原样写入，writeln()会在字符串末尾添加一个换行符<br>&emsp;如果在文档结束后再调用document.write()，那么输出的内容将会重写整个页面</li><li><strong>DOM一致性检测</strong><br>&emsp;<code>var hasXmlDom=document.implementation.hasFeature(&quot;XML&quot;,&quot;1.0&quot;)</code>如果浏览器支持给定名称和版本的功能，返回true。</li></ul><h4><span id="13element类型">1.3Element类型</span></h4><ul><li><strong> 操作特性</strong>：getAttribute()、setAttribute()、removeAttribute()<br>&emsp;特性的名称不区分大小写，即“ID”和“id”代表同一特性<br>&emsp;根据HTML5规范，自定义特性应该加上data-前缀以便验证</li><li><strong>attributes属性</strong><br>取得元素的id属性，可以使用以下代码：</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//取得元素的id属性</span></span><br><span class="line"><span class="keyword">var</span> id=element.attributes.getNamedItem(<span class="string">"id"</span>).nodeValue;<span class="comment">//方法1</span></span><br><span class="line"><span class="keyword">var</span> id=element.attributes[<span class="string">"id"</span>].nodeValue;<span class="comment">//方法2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//设置id特性的值</span></span><br><span class="line">element.attributes[<span class="string">"id"</span>].nodeValue = <span class="string">"someOtherId"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除id特性,removeNamedItem()返回被删除特性的Attr节点，removeAttribute()彻底删除元素的特性</span></span><br><span class="line"><span class="keyword">var</span> oldAttr=element.attributes.removeNamedItem(<span class="string">"id"</span>);</span><br></pre></td></tr></table></figure><ul><li><strong>创建元素</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">div.id=<span class="string">"myNewDiv"</span>;</span><br><span class="line">div.className=<span class="string">"box"</span>;<span class="comment">//class为保留字，所以使用className</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(div);<span class="comment">//新创建的元素添加到文档</span></span><br></pre></td></tr></table></figure><ul><li><strong>元素的子节点</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul id=<span class="string">"myList"</span>&gt;</span><br><span class="line">    &lt;li&gt;Item <span class="number">1</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li&gt;Item 2&lt;/</span>li&gt;</span><br><span class="line">    &lt;li&gt;Item <span class="number">3</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;/u</span>l&gt;</span><br><span class="line"><span class="comment">//IE来解析，&lt;ul&gt;会有3个子节点&lt;li&gt;元素</span></span><br><span class="line"><span class="comment">//其他浏览器解析，&lt;ul&gt;会有7个子节点，3个&lt;li&gt;，4个文本节点（空白符）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历子节点</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,len=element.childNodes.length;i&lt;len;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(element.nodeType==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意：如ul含有更多层次的后代li元素，都会返回</span></span><br><span class="line"><span class="keyword">var</span> ul=<span class="built_in">document</span>.getElementById(<span class="string">"myList"</span>);</span><br><span class="line"><span class="keyword">var</span> items=ul.getElementsByTagName(<span class="string">"li"</span>);</span><br></pre></td></tr></table></figure><h4><span id="14text类型">1.4Text类型</span></h4><ul><li>parentNode是一个Element，nodeValue和data的值都为节点所包含的文本</li><li><strong>操作节点的方法</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">appendDate(text):将text添加到节点的末尾</span><br><span class="line">deleteData(offset,count):从offset指定的位置开始删除count个字符</span><br><span class="line">insertData(offset,text):从offset指定的位置插入text</span><br><span class="line">replaceData(offset,count,text):用text替换从offset指定的位置开始到offset+count为止处的文本</span><br><span class="line">splitText(offset):从offset指定的位置将当前文本节点分成两个文本节点</span><br><span class="line">substringData(offset,sount):提取从offset指定的位置开始到offset+count为止处的字符串</span><br><span class="line">nodeValue.length==data.length:保存文本节点字符的数目</span><br><span class="line"></span><br><span class="line"><span class="comment">//修改文本节点的值</span></span><br><span class="line">div.firstChild.nodeValue=<span class="string">"....."</span>;<span class="comment">//div.childNodes[0].nodeValue="..."</span></span><br><span class="line"><span class="comment">//添加文本</span></span><br><span class="line">div.firstChild.appendData(<span class="string">"...."</span>);</span><br></pre></td></tr></table></figure><ul><li><strong>创建文本节点creatTextNode()</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> element=<span class="built_in">document</span>.createElement(div);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> textNode=<span class="built_in">document</span>.createTextNode(<span class="string">"Hello"</span>);</span><br><span class="line">element.appendChild(textNode);</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(element);</span><br></pre></td></tr></table></figure><ul><li><strong>DoumentFragment类型</strong><br>&emsp;创建文本片段：<code>document.createDocumentFragment()</code>方法。避免浏览器反复渲染，可以把要创建的项先添加到文本片段，然后再添加至文档中</li></ul><h3><span id="2dom扩展">2.DOM扩展</span></h3><p>对DOM的两个主要扩展是Selectors API和HTML5。</p><ul><li><strong>选择符API</strong>:querySelector()和querySelectorAll()<br>&emsp;querySelector()返回与该模式匹配的第一个元素，document.querySelector()会在文档元素的范围内查找，element.querySelector()只会在该元素后代元素的范围内查找。<br>&emsp;querySelectorAll()返回的是所以匹配的元素</li><li><strong>元素遍历</strong><br>利用这些属性不必担心空白文本节点，更方便查找DOM元素</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">childElementCount:返回子元素（不包括文本节点和注释）的注释</span><br><span class="line">firstElementChild:指向第一个子元素；firstChild的元素版</span><br><span class="line">lastElementChild:指向最后一个子元素</span><br><span class="line">previousElementSibling:指向前一个同辈元素</span><br><span class="line">nextElementSibling:指向后一个同辈元素</span><br></pre></td></tr></table></figure><ul><li><p><strong>HTML5</strong></p><ul><li>getElementsByClassName()<br>&emsp;<code>document.getElementsByClassName(&quot;className1 className2&quot;)</code>取得所有类中包含“className1”和“className2”的元素</li><li>classList属性<br>&emsp;方法：add(value),contains(value),remove(value),toggle(value)<br>&emsp;如<code>div.classList.remove(&quot;className&quot;)</code></li><li><p>自定义数据属性<br>&emsp;如<code>&lt;div id=&quot;myDiv&quot; data-appId=&quot;123&quot; data-myname=&quot;wt&quot;&gt;&lt;/div&gt;</code>添加了自定义数据属性，可以通过元素的dataset属性来访问自定义属性的值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//取得自定义属性的值</span></span><br><span class="line"><span class="keyword">var</span> appId=div.dataset.appId;<span class="comment">//要去掉data-</span></span><br><span class="line"><span class="keyword">var</span> myname=div.dataset.myname;</span><br></pre></td></tr></table></figure></li><li><p>插入标记<br>&emsp;经常使用的：innerHTML和outerHTML属性(HTML5纳入标准)<br>&emsp;insertAdjacentHTML()方法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"beforebegin"</span>,在当前元素之前插入一个紧邻的同辈元素</span><br><span class="line"><span class="string">"afterbegin"</span>,在当前元素之下插入一个新的子元素（成为当前元素的第一个子元素）</span><br><span class="line"><span class="string">"beforeend"</span>,(成为当前元素的最后一个子元素)</span><br><span class="line"><span class="string">"afterend"</span>,在当前元素之后插入一个紧邻的同辈元素</span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">element.insertAdjacentElement(<span class="string">"beforebegin"</span>,<span class="string">"&lt;p&gt;text&lt;/p&gt;"</span>);</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>专业扩展</strong></p><ul><li>children属性，只包含元素节点，不考虑空白符<code>element.children[0]</code></li><li>contains()判断某个节点是不是另一个节点的后代，如<code>document.documentElement.contains(document.body)</code>返回true</li><li>innerText和outerText（HTML5未纳入标准）<br>&emsp;去掉div中的HTML标签可以：<code>div.innerText = div.innerText</code></li></ul></li></ul><h3><span id="3dom2和dom3">3.DOM2和DOM3</span></h3><p>&emsp;DOM1级主要定义的是HTML和XML文档的底层结构。DOM2和DOM3在于扩展DOM API，以满足操作XML的所有需求，同时提供更好的错误处理及特性检测能力。</p><ul><li><strong>DOM变化</strong><ul><li>针对XML命名空间的变化<br>&emsp;有了XML命名空间，不同XML文档的元素就可以混合在一起。</li><li>创建一个完整的HTML文档：<code>var htmldoc=document.implementation.createHTMLDocument(&quot;New Doc&quot;)</code>,只接受一个参数，为文档的标题。  </li></ul></li></ul><ul><li><p><strong>样式</strong></p><ul><li>JS访问样式的属性必须转换为驼峰式，如background-image得写成backgroundImage</li><li>float是JS保留字，访问float属性：cssFloat或styleFloat(IE)</li><li>DOM2级样式属性和方法（常用）：<code>cssText</code>，<code>length</code>，<code>item(index)</code>，<code>removeProperty(propertyName)</code><br>有：<code>myDiv.style.style[i]==myDiv.style.item(i)</code></li><li>偏移量：<code>offsetHeight</code>，<code>offsetWidth</code>，<code>offsetLeft</code>,<code>offsetTop</code><br><code>offsetHeight</code>，<code>offsetWidth</code>包括元素、滚动条、边框的高/宽<br>要想知道某个元素在页面上的偏移量，将这个元素的<code>offsetLeft</code>，<code>offsetTop</code>与其<code>offsetParent</code>的相同属性想加，如此循环直至根元素</li><li>客户区大小：<code>clientWidth</code>和<code>clientHeight</code>（内容区+内边距）  </li></ul></li></ul><ul><li><strong>遍历</strong><br>&emsp;完成顺序遍历DOM结构的类型：<code>NodeIterator</code>和<code>TreeWalker</code></li><li><strong>范围</strong><br>&emsp;通过范围可以选择文档中的一个区域，而不必考虑节点的界限。在常规的DOM操作不能更效地修改文档时，可以使用范围达到。但是目前来看，我还没有用到范围来操作文档内容，今后用到了再来翻阅。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;最近自己写项目的时候，DOM操作稍多，但是发现自己不是很熟悉，以前看过的知识不常用就忘了，用的时候也是要经常去官网或网上查找。所以想把DOM的知识点重新回顾一下，以下知识点来自“JavaScript高级程序设计”第10、11、12章节。另外，想自己练习DOM操作相关的题，推荐&lt;a href=&quot;http://ife.baidu.com/college/detail/id/10&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;百度前端技术学院&lt;/a&gt;的斌斌学院，上面有很多可操作的题，看的再多不如自己多思考多敲代码，这点我深有体会，可是吃了大亏的啊。&lt;/p&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1dom1&quot;&gt;1.DOM1&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#11node类型&quot;&gt;1.1Node类型&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#12document类型&quot;&gt;1.2Document类型&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#13element类型&quot;&gt;1.3Element类型&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#14text类型&quot;&gt;1.4Text类型&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2dom扩展&quot;&gt;2.DOM扩展&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3dom2和dom3&quot;&gt;3.DOM2和DOM3&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
    
    </summary>
    
      <category term="DOM操作" scheme="https://wtlemoney.github.io/categories/DOM%E6%93%8D%E4%BD%9C/"/>
    
      <category term="DOM选择器" scheme="https://wtlemoney.github.io/categories/DOM%E6%93%8D%E4%BD%9C/DOM%E9%80%89%E6%8B%A9%E5%99%A8/"/>
    
    
      <category term="JavaScript" scheme="https://wtlemoney.github.io/tags/JavaScript/"/>
    
      <category term="DOM" scheme="https://wtlemoney.github.io/tags/DOM/"/>
    
      <category term="节点操作" scheme="https://wtlemoney.github.io/tags/%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C/"/>
    
      <category term="浏览器兼容" scheme="https://wtlemoney.github.io/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9/"/>
    
  </entry>
  
  <entry>
    <title>VScode常用快捷键</title>
    <link href="https://wtlemoney.github.io/2018/04/18/VScode%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    <id>https://wtlemoney.github.io/2018/04/18/VScode快捷键/</id>
    <published>2018-04-18T09:11:30.000Z</published>
    <updated>2018-04-22T12:59:59.090Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1编辑器与窗口管理">1.编辑器与窗口管理</a></li><li><a href="#2代码编辑">2.代码编辑</a><ul><li><a href="#格式调整">格式调整</a></li><li><a href="#光标相关">光标相关</a></li><li><a href="#查找替换">查找替换</a></li><li><a href="#显示相关">显示相关</a></li><li><a href="#重构代码">重构代码</a></li></ul></li></ul><!-- tocstop --><h3><span id="1编辑器与窗口管理">1.编辑器与窗口管理</span></h3><ul><li>新建文件：<code>Ctrl+N</code></li><li>打开一个新窗口：<code>Ctrl+Shift+N</code></li><li>关闭本窗口所有文件：<code>Ctrl+Shift+W</code><a id="more"></a></li><li>文件之间切换：<code>Ctrl+Tab</code></li><li>拆分编辑器：<code>Ctrl+\</code></li><li>左中右 3 个编辑器的快捷键：<code>Ctrl+1 Ctrl+2 Ctrl+3</code></li><li>编辑器换位置， <code>Ctrl+k</code>然后按 Left或 Right</li></ul><h3><span id="2代码编辑">2.代码编辑</span></h3><h4><span id="格式调整">格式调整</span></h4><ul><li>代码行缩进：<code>Ctrl+[</code>，<code>Ctrl+]</code></li><li>上下移动一行：<code>Alt+Up</code>，<code>Alt+Down</code></li><li>向上向下复制一行： <code>Shift+Alt+Up</code>,<code>Shift+Alt+Down</code></li><li>在当前行下边插入一行 ：<code>Ctrl+Enter</code></li><li>在当前行上方插入一行 ：<code>Ctrl+Shift+Enter</code></li></ul><h4><span id="光标相关">光标相关</span></h4><ul><li>移动到行首：<code>Home</code></li><li>移动到行尾：<code>End</code></li><li>选中当前行：<code>Ctrl+i</code></li><li>删除光标所在行:<code>Ctrl+Shift+K</code></li><li>删除光标右侧的所有字：<code>Ctrl+Delete</code></li><li>移动到文件结尾：<code>Ctrl+End</code></li><li>移动到文件开头：<code>Ctrl+Home</code></li><li>移动到定义处：<code>F12</code></li><li>定义处缩略图：只看一眼而不跳转过去 <code>Alt+F12</code></li><li>跳到匹配的括号：<code>Ctrl+Shift+\</code></li><li>选择从光标到行尾： <code>Shift+End</code></li><li>选择从行首到光标处：<code>Shift+Home</code></li><li>扩展/缩小选取范围： <code>Shift+Alt+Left</code> 和 <code>Shift+Alt+Right</code></li><li>多行编辑(列编辑)：<code>Alt+Shift+鼠标左键</code>，<code>Ctrl+Alt+Down/Up</code></li><li>选择当前字的所有出现：<code>Ctrl + F2</code></li><li>同时选中所有匹配： <code>Ctrl+Shift+L</code></li><li>下一个匹配的也被选中：<code>Ctrl+D</code></li><li>回退上一个光标操作：<code>Ctrl+U</code></li><li>切出块注释<code>/* */</code>：<code>Shift+Alt+A</code></li><li>切出上/下一个操作的文件：<code>Alt + ←/→</code></li></ul><h4><span id="查找替换">查找替换</span></h4><ul><li>查找：<code>Ctrl+F</code></li><li>查找下一个/上一个：<code>F3 / Shift + F3</code></li><li>查找替换：<code>Ctrl+H</code></li><li>整个文件夹中查找：<code>Ctrl+Shift+F</code></li></ul><h4><span id="显示相关">显示相关</span></h4><ul><li>全屏：<code>F11</code></li><li>侧边栏显/隐：<code>Ctrl+B</code></li><li>显示 Debug：<code>Ctrl+Shift+D</code></li><li>显示 Output：<code>Ctrl+Shift+U</code></li><li>显示/关闭终端：Ctrl+`</li></ul><h4><span id="重构代码">重构代码</span></h4><ul><li>找到所有的引用：<code>Shift+F12</code></li><li>同时修改本文件中所有匹配的：<code>Ctrl+F12</code></li><li>重命名：比如要修改一个方法名，可以选中后按 F2，输入新的名字，回车，会发现所有的文件都修改了</li><li>跳转到下一个 Error 或 Warning：<code>F8</code></li><li>跳转到上一个 Error 或 Warning：<code>Shift+F8</code></li><li>查看 diff： 在 explorer 里选择文件右键 Set file to compare，然后需要对比的文件上右键选择 Compare with file_name_you_chose</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1编辑器与窗口管理&quot;&gt;1.编辑器与窗口管理&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2代码编辑&quot;&gt;2.代码编辑&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#格式调整&quot;&gt;格式调整&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#光标相关&quot;&gt;光标相关&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#查找替换&quot;&gt;查找替换&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#显示相关&quot;&gt;显示相关&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#重构代码&quot;&gt;重构代码&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h3 id=&quot;1-编辑器与窗口管理&quot;&gt;&lt;a href=&quot;#1-编辑器与窗口管理&quot; class=&quot;headerlink&quot; title=&quot;1.编辑器与窗口管理&quot;&gt;&lt;/a&gt;1.编辑器与窗口管理&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;新建文件：&lt;code&gt;Ctrl+N&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;打开一个新窗口：&lt;code&gt;Ctrl+Shift+N&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;关闭本窗口所有文件：&lt;code&gt;Ctrl+Shift+W&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="VScode编辑器" scheme="https://wtlemoney.github.io/categories/VScode%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    
    
      <category term="工具" scheme="https://wtlemoney.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="VScode" scheme="https://wtlemoney.github.io/tags/VScode/"/>
    
      <category term="编辑器" scheme="https://wtlemoney.github.io/tags/%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>ajax知识总结</title>
    <link href="https://wtlemoney.github.io/2018/04/15/ajax/"/>
    <id>https://wtlemoney.github.io/2018/04/15/ajax/</id>
    <published>2018-04-15T14:04:38.000Z</published>
    <updated>2018-05-06T12:36:56.844Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1onload和onreadychange的不同">1.onload和onreadychange的不同</a><ul><li><a href="#11-onload">1.1 onload</a></li><li><a href="#12-onreadychange">1.2 onreadychange</a></li></ul></li><li><a href="#2服务器返回的数据类型对比">2.服务器返回的数据类型对比</a></li><li><a href="#3把字符串转化为json对象">3.把字符串转化为JSON对象</a></li><li><a href="#4原生js实现ajax">4.原生JS实现ajax</a></li><li><a href="#5jquery中的ajax">5.jQuery中的ajax</a><ul><li><a href="#51-load方法">5.1 load方法</a></li><li><a href="#52-getpost方法">5.2 get/post方法</a></li><li><a href="#53-getjson方法">5.3 getJSON方法</a></li></ul></li></ul><!-- tocstop --><h4><span id="1onload和onreadychange的不同">1.onload和onreadychange的不同</span></h4><p>首先需要知道几个状态码的小知识。<br>&emsp;&emsp;readyState 状态码：</p><p>&emsp;&emsp;&emsp;&emsp;0 - 请求未初始化。还没有调用open方法</p><p>&emsp;&emsp;&emsp;&emsp;1 - 服务器连接已建立。open方法已被调用，但send方法还没有被调用</p><p>&emsp;&emsp;&emsp;&emsp;2 - 请求已接受。send方法以及被调用<a id="more"></a></p><p>&emsp;&emsp;&emsp;&emsp;3 - 请求处理中。服务器正在发送响应</p><p>&emsp;&emsp;&emsp;&emsp;4 - 请求已完成，响应发送完毕</p><p>&emsp;&emsp;HTTP 状态码(status)：</p><p>&emsp;&emsp;&emsp;&emsp;200 - 服务器成功返回网页</p><p>&emsp;&emsp;&emsp;&emsp;304 - 客户端已经执行了GET，但文件未变化。</p><p>&emsp;&emsp;&emsp;&emsp;403 - 禁止访问</p><p>&emsp;&emsp;&emsp;&emsp;404 - 请求的网页不存在</p><p>&emsp;&emsp;&emsp;&emsp;500 - 内部服务器出错</p><p>&emsp;&emsp;&emsp;&emsp;503 - 服务器暂时不可用<br>然后建立一个loadtest.txt文件作为ajax请求的测试url，注意一定要在本地服务器里面打开测试，不然请求文件会报跨域错误。</p><h5><span id="11-onload">1.1 onload</span></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'button'</span>).addEventListener(<span class="string">"click"</span>,loadText);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadText</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.open(<span class="string">'GET'</span>,<span class="string">"loadtext.txt"</span>,<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Readystate："</span>,xhr.readyState);</span><br><span class="line"></span><br><span class="line">    xhr.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//readystate==4时才会进入onload,监听不到2和3</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"Readystate："</span>,xhr.readyState);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText);</span><br><span class="line">    &#125;</span><br><span class="line">    xhr.send();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试结果如下：</p><p><div align="center"><br>    <img src="/2018/04/15/ajax/11.png" width="320" height="100" alt="onload状态码结果"><br></div><br>如果要监听readystate为3的值，需要用到onprogress方法<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"Readystate："</span>,xhr.readyState);</span><br><span class="line">   xhr.onprogress=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//监听3</span></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"测试Readystate："</span>,xhr.readyState);</span><br><span class="line">   &#125;</span><br><span class="line">   xhr.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//readystate==4时才会进入onload,监听不到2和3</span></span><br></pre></td></tr></table></figure></p><p>测试结果如下：</p><p><div align="center"><br>    <img src="/2018/04/15/ajax/2.png" width="320" height="100" alt="onload状态码结果"><br></div></p><h5><span id="12-onreadychange">1.2 onreadychange</span></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadText</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.open(<span class="string">'GET'</span>,<span class="string">"loadtext.txt"</span>,<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Readystate："</span>,xhr.readyState);</span><br><span class="line"></span><br><span class="line">    xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//可以监听到所有的状态码2,3,4</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"Readystate："</span>,xhr.readyState);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText);<span class="comment">//在readyState=2和3的时候都打印responseText</span></span><br><span class="line">    &#125;</span><br><span class="line">    xhr.send();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试结果：</p><p><div align="center"><br>    <img src="/2018/04/15/ajax/3.png" width="320" height="150" alt="onreadystate状态码结果"><br></div><br>看出onreadychange和onload方法的区别了昂。想要在readyState==4的时候再打印responseText，可以加一个条件判断：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//可以监听到所有的状态码2,3,4</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Readystate："</span>,xhr.readyState);</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.status==<span class="number">200</span>&amp;&amp;<span class="keyword">this</span>.readyState==<span class="number">4</span>)&#123;<span class="comment">//监听到4时再执行</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>测试结果：</p><p><div align="center"><br>    <img src="/2018/04/15/ajax/4.png" width="320" height="125" alt="onreadystate状态码结果"><br></div><br>一般在用ajax请求数据时，还会设置返回失败时的值。这时候把loadtest.txt改为loadtest1.txt，然后<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>.status==<span class="number">200</span>&amp;&amp;<span class="keyword">this</span>.readyState==<span class="number">4</span>)&#123;<span class="comment">//监听4时再执行</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.status==<span class="number">404</span>)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"请求的网页不存在"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>测试结果：</p><p><div align="center"><br>    <img src="/2018/04/15/ajax/5.png" width="320" height="180" alt="404结果"><br></div><br>注意：如果用POST请求向服务器发送数据，需要将“Content-type”的首部设置为“application/x-www-form-urlencoded”,它会告知服务器正在发送数据，并且数据已经符合URL编码了。<br>即：<code>xhr.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;)</code>,该方法必须在open()之后才能调用。</p><h4><span id="2服务器返回的数据类型对比">2.服务器返回的数据类型对比</span></h4><p>HTML片段：</p><ul><li>从服务器端发送的HTML代码在浏览器端不需要用JavaScript进行解析</li><li>HTML可读性好</li><li>HTML代码块与innerHTML属性搭配，效率高</li></ul><ul><li>若需要通过ajax更新一篇文档的多个部分，HTML不合适，可重用性低</li><li>innerHTML并非DOM标准</li></ul><p>XML文档：</p><ul><li>可移植性是其他数据格式无法比拟的，重用性高</li><li>通用的数据交换格式</li></ul><ul><li>实现过程较HTML片段要复杂许多</li><li>XML文件体积大，笨重。</li></ul><p>JSON文件：</p><ul><li>作为一种数据传输格式，JSON与XML相似，但是JSON更加灵巧</li><li>可重用</li><li>JSON不需要从服务器端发送含有特定内容类型的首部信息</li></ul><ul><li>语法过于严谨</li><li>代码不易读</li><li>eval函数存在风险</li></ul><p>对比：<br>若应用程序不需要与其他应用程序共享数据的时候，使用HTML片段来返回数据时是最简单的<br>如果数据需要重用，JSON文件是个不错的选择，它在性能和文件大小方面有有事（90%情况使用JSON）<br>当远程应用程序未知时，XML文档是首选，因为听说XML是“世界语”</p><h4><span id="3把字符串转化为json对象">3.把字符串转化为JSON对象</span></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonStr=<span class="string">'&#123;"name":"hhhhhaaaaa"&#125;'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(jsonStr.name);<span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用eval()方法,它可以把一个字符串转化为本地的JS代码来执行</span></span><br><span class="line"><span class="keyword">var</span> testStr=<span class="built_in">eval</span>(<span class="string">"("</span>+jsonStr+<span class="string">")"</span>);<span class="comment">//注意要加括号！把JSON对象转化为JSON字符串</span></span><br><span class="line"><span class="built_in">console</span>.log(testStr.name);<span class="comment">//hhhhhaaaaa</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(jsonStr))；<span class="comment">//&#123;name: "hhhhhaaaaa"&#125;</span></span><br></pre></td></tr></table></figure><h4><span id="4原生js实现ajax">4.原生JS实现ajax</span></h4><p>下面这段代码是做项目写ajax请求时，经常使用的代码段，非常好用！<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">type,url,param,callback</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr=<span class="keyword">new</span> XMLHttpRequest();<span class="comment">//新建连接</span></span><br><span class="line"></span><br><span class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//监听连接</span></span><br><span class="line">        <span class="keyword">if</span>(xhr.readyState===<span class="number">4</span>&amp;&amp;xhr.status===<span class="number">200</span>)&#123;</span><br><span class="line">            <span class="comment">//do something</span></span><br><span class="line">            callback(<span class="built_in">JSON</span>.parse(xhr.responseText));</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//console.log(xhr.status)//打印状态</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> reg=<span class="regexp">/\?$/</span>;</span><br><span class="line">    <span class="keyword">if</span>(type===<span class="string">"GET"</span>)&#123;<span class="comment">//GET方法</span></span><br><span class="line">        xhr.open(<span class="string">'GET'</span>,reg.test(url)?url+param:url+<span class="string">'?'</span>+param,<span class="literal">true</span>);</span><br><span class="line">        xhr.send();</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type===<span class="string">"POST"</span>)&#123;<span class="comment">//POST方法</span></span><br><span class="line">        xhr.open(<span class="string">'POST'</span>,url,<span class="literal">true</span>);</span><br><span class="line">        xhr.setRequestHeader(<span class="string">"Content-type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</span><br><span class="line">        xhr.send(param);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4><span id="5jquery中的ajax">5.jQuery中的ajax</span></h4><h5><span id="51-load方法">5.1 load方法</span></h5><p>jQury最简单和最常用的方法，结构是：<code>load(url[,data][,callback])</code>。data这个参数有/无，决定了ajax请求方式是POST/GET。注意下例请求的是html文件。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         $(<span class="string">"a"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             <span class="keyword">var</span> url=<span class="keyword">this</span>.href;<span class="comment">//内容为:&lt;h2&gt;我是Andy的文档&lt;/h2&gt;</span></span><br><span class="line">                                     <span class="comment">//&lt;a href="wting.top"&gt;wting.top&lt;/a&gt;</span></span><br><span class="line">             <span class="comment">//var args=&#123;"time":new Date()&#125;;//去掉缓存</span></span><br><span class="line">             <span class="comment">//$("#details").load(url,args);//加参数为POST方法，不加参数为GET方法</span></span><br><span class="line">             $(<span class="string">"#details"</span>).load(url);</span><br><span class="line">             <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//取消a节点的默认行为</span></span><br><span class="line">         &#125;)</span><br><span class="line">     &#125;)</span><br><span class="line"> &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"> &lt;h1&gt;People&lt;/</span>h1&gt;</span><br><span class="line"> &lt;ul&gt;</span><br><span class="line">         &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"andy.html"</span>&gt;</span>Andy<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">         &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Richard<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">         &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Jeremy<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"> &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp"> &lt;div id="details"&gt;&lt;/</span>div&gt;</span><br></pre></td></tr></table></figure><p>点击Andy，看测试结果：</p><p><div align="center"><br>    <img src="/2018/04/15/ajax/6.png" width="200" height="200" alt="404结果"><br></div></p><ul><li>load方法一般用来请求html代码。</li><li>如果只需要加载目标HTML页面内的某些元素，可以通过URL参数指定选择符，可以方便的从加载过来的HTML文档中选出最需要的内容，URL参数的语法结构为<code>url selector</code>(注意中间有个空格)。如上例中，可以只选andy.html中的h2标签，如<code>url=this.href+&quot; h2 &quot;;</code></li><li>对于必须在加载完才能继续的操作，load()方法提供了callback这个回调函数。callback有三个参数：代表请求返回内容的data；代表请求状态的textStatus；XMLHTTPRequest对象；</li><li>任何一个html都可以使用load方法来加载ajax,结果将直接插入html节点中。</li></ul><h5><span id="52-getpost方法">5.2 get/post方法</span></h5><p>只需要把load方法的那一条语句改成下面这样，get/post通用，注意这里请求的url为xml格式（三种数据格式都可以）：<code>&lt;name&gt;我是Andy&lt;/name&gt;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$.post(url,args,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name=$(data).find(<span class="string">"name"</span>).text();</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">"#details"</span>).empty().append(<span class="string">"&lt;h2&gt;"</span>+name+<span class="string">"&lt;/h2&gt;"</span>);</span><br></pre></td></tr></table></figure><h5><span id="53-getjson方法">5.3 getJSON方法</span></h5><p>请求的数据格式为JSON格式。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$.getJSON(url,args,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name=data.person.name;<span class="comment">//&#123;"person":&#123;"name":"wt"&#125;&#125;</span></span><br><span class="line">&#125;);</span><br><span class="line">$(<span class="string">"#details"</span>).empty().append(<span class="string">"&lt;h2&gt;"</span>+name+<span class="string">"&lt;/h2&gt;"</span>);</span><br></pre></td></tr></table></figure><p>如果把getJSON写成get,是解析不到数据的，因为我们得告诉jQuery我们请求的数据类型是JSON。可以这样改：<code>$.get(url,args,function(data){...},&quot;JSON&quot;)</code>。</p>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1onload和onreadychange的不同&quot;&gt;1.onload和onreadychange的不同&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#11-onload&quot;&gt;1.1 onload&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#12-onreadychange&quot;&gt;1.2 onreadychange&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2服务器返回的数据类型对比&quot;&gt;2.服务器返回的数据类型对比&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3把字符串转化为json对象&quot;&gt;3.把字符串转化为JSON对象&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4原生js实现ajax&quot;&gt;4.原生JS实现ajax&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5jquery中的ajax&quot;&gt;5.jQuery中的ajax&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#51-load方法&quot;&gt;5.1 load方法&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#52-getpost方法&quot;&gt;5.2 get/post方法&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#53-getjson方法&quot;&gt;5.3 getJSON方法&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h4 id=&quot;1-onload和onreadychange的不同&quot;&gt;&lt;a href=&quot;#1-onload和onreadychange的不同&quot; class=&quot;headerlink&quot; title=&quot;1.onload和onreadychange的不同&quot;&gt;&lt;/a&gt;1.onload和onreadychange的不同&lt;/h4&gt;&lt;p&gt;首先需要知道几个状态码的小知识。&lt;br&gt;&amp;emsp;&amp;emsp;readyState 状态码：&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;0 - 请求未初始化。还没有调用open方法&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;1 - 服务器连接已建立。open方法已被调用，但send方法还没有被调用&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;2 - 请求已接受。send方法以及被调用&lt;/p&gt;
    
    </summary>
    
      <category term="Ajax请求" scheme="https://wtlemoney.github.io/categories/Ajax%E8%AF%B7%E6%B1%82/"/>
    
      <category term="HTTP" scheme="https://wtlemoney.github.io/categories/Ajax%E8%AF%B7%E6%B1%82/HTTP/"/>
    
      <category term="状态码" scheme="https://wtlemoney.github.io/categories/Ajax%E8%AF%B7%E6%B1%82/HTTP/%E7%8A%B6%E6%80%81%E7%A0%81/"/>
    
      <category term="JavaScript" scheme="https://wtlemoney.github.io/categories/Ajax%E8%AF%B7%E6%B1%82/HTTP/%E7%8A%B6%E6%80%81%E7%A0%81/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://wtlemoney.github.io/tags/JavaScript/"/>
    
      <category term="ajax" scheme="https://wtlemoney.github.io/tags/ajax/"/>
    
      <category term="JSON" scheme="https://wtlemoney.github.io/tags/JSON/"/>
    
      <category term="XML" scheme="https://wtlemoney.github.io/tags/XML/"/>
    
  </entry>
  
  <entry>
    <title>令人迷惑的“构造函数”</title>
    <link href="https://wtlemoney.github.io/2018/04/14/%E5%8E%9F%E5%9E%8B/"/>
    <id>https://wtlemoney.github.io/2018/04/14/原型/</id>
    <published>2018-04-14T15:55:54.000Z</published>
    <updated>2018-04-14T15:57:53.053Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">//...</span></span><br><span class="line">        &#125;</span><br><span class="line">   Foo.prototype.constructor === Foo;<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> a=<span class="keyword">new</span> Foo();</span><br><span class="line">   a.constructor === Foo;<span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>&emsp;&emsp;Foo.prototype默认有一个公有并且不可枚举的属性.constructor,但a.constructor === Foo不意味着a有一个指向Foo的.constructor属性。实际上,.constructor引用同样被委托给了Foo.prototype,而Foo.prototype.constructor默认指向Foo。<br>&emsp;&emsp;如果创建了一个新对象并替换了函数默认的.prototype对象引用,那么新对象并不会自动获得.constructor属性：<a id="more"></a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>)</span>&#123;<span class="comment">/* .. */</span>&#125;</span><br><span class="line">Foo.prototype =&#123;<span class="comment">/* .. */</span>&#125;<span class="comment">//创建一个新原型对象。丢失了.constructor属性</span></span><br><span class="line">Foo.prototype.constructor === Foo;<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a1=<span class="keyword">new</span> Foo();</span><br><span class="line">a1.constructor === Foo;<span class="comment">//false</span></span><br><span class="line">a1.constructor === <span class="built_in">Object</span>;<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p><p>&emsp;&emsp;可以手动添加一个符合正常行为的不可枚举属性.constructor,修复.constructor需要很多收到操作，所有这些都源于把“constructor”错误地理解为“有……构造”。手动添加.constructor属性：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>)</span>&#123;<span class="comment">/* .. */</span>&#125;</span><br><span class="line">Foo.prototype =&#123;<span class="comment">/* .. */</span>&#125;<span class="comment">//创建一个新原型对象。丢失了.constructor属性</span></span><br><span class="line"><span class="comment">//需要在Foo.prototype“修复”丢失的.constructor属性</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(Foo.prototype,<span class="string">"constructor"</span>,&#123;</span><br><span class="line">    enumerable:<span class="literal">false</span>,</span><br><span class="line">    writable:<span class="literal">true</span>,</span><br><span class="line">    configurable:<span class="literal">true</span>,</span><br><span class="line">    value:Foo <span class="comment">//让.constructor指向Foo</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   Foo.prototype.constructor === Foo;&lt;span class=&quot;comment&quot;&gt;//true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Foo();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   a.constructor === Foo;&lt;span class=&quot;comment&quot;&gt;//true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;Foo.prototype默认有一个公有并且不可枚举的属性.constructor,但a.constructor === Foo不意味着a有一个指向Foo的.constructor属性。实际上,.constructor引用同样被委托给了Foo.prototype,而Foo.prototype.constructor默认指向Foo。&lt;br&gt;&amp;emsp;&amp;emsp;如果创建了一个新对象并替换了函数默认的.prototype对象引用,那么新对象并不会自动获得.constructor属性：&lt;/p&gt;
    
    </summary>
    
      <category term="构造函数" scheme="https://wtlemoney.github.io/categories/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"/>
    
      <category term="你不知道的JavaScript" scheme="https://wtlemoney.github.io/categories/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://wtlemoney.github.io/tags/JavaScript/"/>
    
      <category term="blogs" scheme="https://wtlemoney.github.io/tags/blogs/"/>
    
      <category term="原型" scheme="https://wtlemoney.github.io/tags/%E5%8E%9F%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>腾讯IMWeb前端训练营作业——经典面试题2</title>
    <link href="https://wtlemoney.github.io/2018/04/07/%E8%85%BE%E8%AE%AF%E9%9D%A2%E8%AF%95%E9%A2%982/"/>
    <id>https://wtlemoney.github.io/2018/04/07/腾讯面试题2/</id>
    <published>2018-04-07T12:59:48.000Z</published>
    <updated>2018-04-19T11:32:13.546Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1-box-sizing常用的属性有哪些分别有什么作用">1. box-sizing常用的属性有哪些？分别有什么作用？</a></li><li><a href="#2-doctype作用标准模式和兼容模式各有什么区别">2. Doctype作用？标准模式和兼容模式各有什么区别？</a></li><li><a href="#3-html5为什么只需要写doctype-html">3. HTML5为什么只需要写&lt;!DOCTYPE html&gt;？</a></li><li><a href="#4-页面导入样式时使用link和import有什么区别">4. 页面导入样式时，使用link和@import有什么区别？</a></li><li><a href="#5-介绍一下你对浏览器内核的理解">5. 介绍一下你对浏览器内核的理解？</a></li><li><a href="#6-ie和dom事件流的区别">6. IE和DOM事件流的区别？</a></li><li><a href="#7-哪些地方会出现css阻塞或js阻塞">7. 哪些地方会出现CSS阻塞或js阻塞？</a></li><li><a href="#8-说说你对svg的理解">8. 说说你对SVG的理解？</a></li><li><a href="#9-如何视觉隐藏网页内容只让他们在屏幕阅读器中可用">9. 如何视觉隐藏网页内容，只让他们在屏幕阅读器中可用？</a></li><li><a href="#10-你如何对网站的文件和资源进行优化">10. 你如何对网站的文件和资源进行优化？</a></li><li><a href="#11web前端密码加密是否有意义">11.web前端密码加密是否有意义？</a></li><li><a href="#12平时如何管理你的项目">12.平时如何管理你的项目？</a></li></ul><!-- tocstop --><h4><span id="1-box-sizing常用的属性有哪些分别有什么作用">1. box-sizing常用的属性有哪些？分别有什么作用？</span></h4><p><strong>属性值</strong></p><ul><li>box-sizing：content-box</li><li>box-sizing：border-box</li><li>box-sizing：inherit</li></ul><p><strong>content-box</strong></p><ul><li>这是box-sizing的默认属性值<a id="more"></a> </li><li>是CSS2.1中规定的宽度高度的显示行为</li><li>在CSS中定义的宽度和高度就对应到元素的内容框</li><li>在CSS中定义的宽度和高度之外绘制元素的内边距和边框</li></ul><p><strong>border-box</strong></p><ul><li>在CSS中微元素设定的宽度和高度就决定了元素的边框盒</li><li>即为元素在设置内边距和边框是在已经设定好的宽度和高度之内进行绘制</li><li>CSS中设定的宽度和高度减去边框和内间距才能得到元素内容所占的实际宽度和高度</li></ul><p><strong>inherit</strong></p><ul><li>规定元素是从父元素那里继承box-sizing的属性值</li></ul><h4><span id="2-doctype作用标准模式和兼容模式各有什么区别">2. Doctype作用？标准模式和兼容模式各有什么区别？</span></h4><p><strong>作用</strong></p><ul><li>告知浏览器的解析器用什么文档标准解析这个文档。DOCTYPE不存在或格式不正确会导致文档以兼容模式（怪异模式）呈现。</li></ul><p><strong>语法</strong></p><ul><li>HTML 顶级元素 可用性 “注册//组织//类型 标签//定义 语言””URL”；</li></ul><p><strong>举例</strong></p><ul><li>&lt;!DOCTYPE HTML PUBLIC “-//W3C//DTD HTML 4.0//EN”&gt; </li><li>&lt;!DOCTYPE HTML PUBLIC “-//W3C//DTD HTML 4.0 Strict//EN”&gt;<br>&emsp;&emsp;其中，DTD的是W3C所发布的一个文档类型定义，简单的说，就是告诉浏览器你的这个HTML，是根据哪个标准写的，解析的时候用哪个标准解析。</li></ul><p><strong>标准模式与兼容模式（怪异模式）各有什么区别?</strong></p><ul><li>标准模式的排版和JS运作模式都是以该浏览器支持的最高标准运行。</li><li>在兼容模式中，页面以宽松的向后兼容的方式显示,模拟老式浏览器的行为以防止站点无法工作。简单的说，就是尽可能的显示能显示的东西给用户看。</li></ul><p><strong>具体区别</strong></p><ul><li><p>width不同<br>&emsp;&emsp;在严格模式中 ：width是内容宽度 ，元素真正的宽度 = margin-left + border-left-width + padding-left + width + padding-right + border-right- width +  margin-right;<br>&emsp;&emsp;在兼容模式中 ：width则是元素的实际宽度 ，内容宽度 = width - ( padding-left + padding-right + border-left-width + border-right-width);</p></li><li><p>兼容模式下可设置百分比的高度和行内元素的高宽<br>&emsp;&emsp;在Standards模式下，给span等行内元素设置wdith和height都不会生效，而在兼容模式下，则会生效。<br>&emsp;&emsp;在standards模式下，一个元素的高度是由其包含的内容来决定的，如果父元素没有设置高度，子元素设置一个百分比的高度是无效的。</p></li><li><p>用margin:0 auto设置水平居中在IE下会失效<br>&emsp;&emsp;使用margin:0 auto在standards模式下可以使元素水平居中，但在兼容模式下却会失效（用text-align属性解决）</p></li><li><p>兼容模式下Table中的字体属性不能继承上层的设置，white-space:pre会失效，设置图片的padding会失效</p></li></ul><h4><span id="3-html5为什么只需要写ltdoctype-htmlgt">3. HTML5为什么只需要写&lt;!DOCTYPE html&gt;？</span></h4><p>&emsp;&emsp;html5不基于SGML(标准通用标记语言)，因此不需要对DTD进行引用，但是需要doctype来规范浏览器的行为（让浏览器按照他们应该的方式来运行）。而HTML4.01基于SGML，所以需要对DTD进行引用，才能告知浏览器文档所使用的文档类型。</p><h4><span id="4-页面导入样式时使用link和import有什么区别">4. 页面导入样式时，使用link和@import有什么区别？</span></h4><p>外部样式表另一种写法：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type=”text/css”&gt;</span><br><span class="line">    @<span class="keyword">import</span> url（“a.css”）；</span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br></pre></td></tr></table></figure></p><p><strong>与link区别</strong>:</p><ul><li><p>老祖宗的差别。link属于XHTML标签，而@import完全是CSS提供的一种方式。link标签除了可以加载CSS外，还可以做很多其它的事情，比如定义RSS，定义rel连接属性等，@import就只能加载CSS了。 　</p></li><li><p>加载顺序的差别。当一个页面被加载的时候（就是被浏览者浏览的时候），link引用的CSS会同时被加载，而@import引用的CSS会等到页面全部被下载完再被加载。所以有时候浏览@import加载CSS的页面时开始会没有样式（就是闪烁），网速慢的时候还挺明显（梦之都加载CSS 的方式就是使用@import，一边下载一边浏览梦之都网页时，就会出现上述问题）。 　　</p></li><li><p>兼容性的差别。由于@import是CSS2.1提出的，所以老的浏览器不支持，@import只有在IE5以上的才能识别，而link标签无此问题。 　　</p></li></ul><ul><li>使用dom控制样式时的差别。当使用javascript控制dom去改变样式的时候，只能使用link标签，因为@import不是dom可以控制的。</li></ul><h4><span id="5-介绍一下你对浏览器内核的理解">5. 介绍一下你对浏览器内核的理解？</span></h4><p>&emsp;&emsp;主要分成两个部分：渲染引擎(Render Engine)和JS引擎。最开始渲染引擎和JS引擎并没有区分的很明确，后来JS引擎越来越独立，内核就倾向与只指渲染引擎。</p><ul><li><p><strong>渲染引擎</strong>：负责取得网页的内容(html,xml和图像等)，整理讯息(例如假如css)，以及计算网页的显示方式，然后输出到显示器或打印机。浏览器的内核的不同对于网页的语法解释会有不同，所以渲染的效果也不同，这也是网页编写者需要在不同内核的浏览器中测试网页显示效果的原因。所有网页浏览器、电子邮件客户端以及它需要编辑、显示网络内容的应用程序都需要内核。</p></li><li><p><strong>JS引擎</strong>：解析和执行JavaScript来实现网页的动态效果。</p></li><li><p><strong>常见的浏览器内核有哪些？</strong><br>Trident内核：IE，360，搜狗浏览器，百度浏览器（早期版本）；<br>Gecko内核：Netscape6及以上版本，Firefox<br>Presto内核：Opera前内核（已废弃）<br>Blink内核：Opera<br>Webkit内核：Safari，Chrome，Android默认浏览器</p></li><li><p><strong>常见的JS引擎有哪些？</strong><br>现今比较出名的有Chorme浏览器的V8引擎、Safari浏览器的Chakra（查克拉）、JSCore(FF4.0+)。</p></li></ul><h4><span id="6-ie和dom事件流的区别">6. IE和DOM事件流的区别？</span></h4><ul><li><p><strong>事件流的区别 </strong></p><p>IE采用冒泡型事件<br>Netscape使用捕获型事件<br>DOM使用先捕获后冒泡型事件 </p></li></ul><p>示例：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt; </span><br><span class="line">&lt;div&gt; </span><br><span class="line">&lt;button&gt;点击这里&lt;<span class="regexp">/button&gt; </span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt; </span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure></p><p>冒泡型事件模型： button-&gt;div-&gt;body (IE事件流) </p><p>捕获型事件模型： body-&gt;div-&gt;button (Netscape事件流) </p><p>DOM事件模型： body-&gt;div-&gt;button-&gt;button-&gt;div-&gt;body (先捕获后冒泡)</p><ul><li><p><strong>事件侦听函数的区别 </strong></p><p>IE使用: </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="built_in">Object</span>].attachEvent(<span class="string">"name_of_event_handler"</span>, fnHandler); <span class="comment">//绑定函数 </span></span><br><span class="line">[<span class="built_in">Object</span>].detachEvent(<span class="string">"name_of_event_handler"</span>, fnHandler); <span class="comment">//移除绑定</span></span><br></pre></td></tr></table></figure><p>DOM使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="built_in">Object</span>].addEventListener(<span class="string">"name_of_event"</span>, fnHandler, bCapture); <span class="comment">//绑定函数 </span></span><br><span class="line">[<span class="built_in">Object</span>].removeEventListener(<span class="string">"name_of_event"</span>, fnHandler, bCapture); <span class="comment">//移除绑定</span></span><br></pre></td></tr></table></figure><p>bCapture参数用于设置事件绑定的阶段，true为捕获阶段，false为冒泡阶段。</p></li><li><p><strong>阻止事件的传播的区别</strong></p><p>无论是事件冒泡还是事件捕获都是可以阻止的。</p><p>（1）阻止事件的传播方法：在W3C标准中，<code>stopPropagation()</code>。在IE中，通过设置<code>cancelBubble = true</code>;<br>（2）阻止事件的默认行为：在W3C标准中，使用<code>preventDefault()</code>。在IE中通过设置<code>window.event.returnValue = false</code>;</p></li></ul><h4><span id="7-哪些地方会出现css阻塞或js阻塞">7. 哪些地方会出现CSS阻塞或js阻塞？</span></h4><p><strong>CSS怎么会阻塞加载了？</strong><br>&emsp;&emsp;CSS本来是可以并行下载的，在什么情况下会出现阻塞加载？(在测试观察中,IE6下CSS都是阻塞加载）。当CSS后面跟着嵌入的JS的时候,该CSS就会出现阻塞后面资源下载的情况，而当把嵌入JS放到CSS前面,就不会出现阻塞的情况了。<br>根本原因？<br>&emsp;&emsp;因为浏览器会维持html中css和js的顺序,样式表必须在嵌入的JS执行前先加载、解析完。<br>&emsp;&emsp;而嵌入的JS会阻塞后面的资源加载,所以就会出现上面CSS阻塞下载的情况。<br>嵌入JS应该放在什么位置？<br>&emsp;&emsp;1）放在底部,虽然放在底部照样会阻塞所有呈现,但不会阻塞资源下载。<br>&emsp;&emsp;2）如果嵌入JS放在head中,请把嵌入JS放在CSS头部。<br>&emsp;&emsp;3）使用defer（只支持IE）<br>&emsp;&emsp;4）不要在嵌入的JS中调用运行时间较长的函数,如果一定要用,可以用<code>setTimeout</code>来调用<br><strong>js的阻塞特性</strong>：<br>&emsp;&emsp;所有浏览器在下载JS的时候,会阻止一切其他活动,比如其他资源的下载,内容的呈现等等。直到JS下载、解析、执行完毕后才开始继续并行下载其他资源并呈现内容。为了提高用户体验,新一代浏览器都支持并行下载JS,但是JS下载仍然会阻塞其它资源的下载（例如.图片,css文件等）。<br>&emsp;&emsp;由于浏览器为了防止出现JS修改DOM树,需要重新构建DOM树的情况,所以就会阻塞其他的下载和呈现。嵌入JS会阻塞所有内容的呈现,而外部JS只会阻塞其后内容的显示,2种方式都会阻塞其后资源的下载。也就是说外部样式不会阻塞外部脚本的加载,但会阻塞外部脚本的执行。</p><h4><span id="8-说说你对svg的理解">8. 说说你对SVG的理解？</span></h4><ul><li>SVG 指可伸缩矢量图形 (Scalable Vector Graphics)</li><li>SVG 使用 XML 格式定义用于网络的基于矢量的图形</li><li>SVG 图像在放大或改变尺寸的情况下其图形质量不会有所损失，图像可在任何的分辨率下被高质量地打印</li><li>SVG 是万维网联盟的标准，与诸如 DOM 和 XSL 之类的 W3C 标准是一个整体</li><li>SVG 图像中的文本是可选的，同时也是可搜索的（很适合制作地图）</li></ul><h4><span id="9-如何视觉隐藏网页内容只让他们在屏幕阅读器中可用">9. 如何视觉隐藏网页内容，只让他们在屏幕阅读器中可用？</span></h4><ul><li><p>display:none;的缺陷搜索引擎可能认为被隐藏的文字属于垃圾信息而被忽略屏幕阅读器（是为视觉上有障碍的人设计的读取屏幕内容的程序）会忽略被隐藏的文字。</p></li><li><p>visibility:hidden;的缺陷这个大家应该比较熟悉就是隐藏的内容会占据他所应该占据物理空间</p></li><li><p>overflow:hidden;一个比较合理的方法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.texthidden&#123;<span class="attr">display</span>:block;<span class="comment">/*统一转化为块级元素*/</span></span><br><span class="line">overflow:hidden;width:<span class="number">0</span>;height:<span class="number">0</span>;&#125;</span><br></pre></td></tr></table></figure><p>就像上面的一段CSS所展示的方法，将宽度和高度设定为0，然后超过部分隐藏，就会弥补上述一、二方法中的缺陷，也达到了隐藏内容的目的。</p></li></ul><h4><span id="10-你如何对网站的文件和资源进行优化">10. 你如何对网站的文件和资源进行优化？</span></h4><ul><li><p>文件合并（目的是减少http请求）：使用css sprites合并图片，一个网站经常使用小图标和小图片进行美化，但是很遗憾这些小图片占用了大量的HTTP请求，因此可以采用sprites的方式把所有的图片合并成一张图片 ，可以通过相关工具在线合并，也可以在ps中合并。</p></li><li><p>使用CDN（内容分发网络）加速，降低通信距离。</p></li><li><p>缓存的使用，添加Expire/Cache-Control头。</p></li><li><p>启用Gzip压缩文件。</p></li><li><p>将css放在页面最上面,将script放在页面最下面,避免在css中使用表达式。</p></li><li><p>将css, js都放在外部文件中。</p></li><li><p>减少DNS查询。</p></li><li><p>文件压缩：最小化css, js，减小文件体积。</p></li><li><p>使用AJAX缓存，让网站内容分批加载，局部更新。</p></li></ul><h4><span id="11web前端密码加密是否有意义">11.web前端密码加密是否有意义？</span></h4><ul><li><p><strong>前端加密的意义</strong> </p><p>1）在 HTTP 协议下，数据是明文传输，传输过程中网络嗅探可直接获取其中的数据。如用户的密码和信用卡相关的资料，一旦被中间人获取，会给用户带来极大的安全隐患。<br>2）前端使用哈希算法，不仅可以帮助后端分担部分计算压力，还可以增加撞库成本。<br>3）另一方面，在非加密的传输过程中，攻击者可更改数据或插入恶意的代码等。HTTPS 的诞生就是为了解决中间人攻击的问题，但如今 HTTPS 的使用情况在国内并不乐观，基本是因为成本或者性能的考量。</p></li><li><p>那么问题来了，如果仍然使用 HTTP 协议，怎么样一定程度保证用户的数据安全？ </p><p>前端加密，即在数据发送前，将数据进行哈希或使用公钥加密。如果数据被中间人获取，拿到的则不再是明文。</p></li><li><p><strong>传md5和传明文一样？</strong><br>绝对不一样啊。链路被监听的时候，攻击人直接就拿到明文密码了，有很多人都习惯用一个密码的。明文的话，相当于直接把用户n多个网站的密码爆了，拿到md5的话，只有自己的网站密码被爆。对用户的危害范围明显缩小了好么。多少次用户icloud艳照泄露，最后都不是苹果的锅。。是别的网站被脱了好么。</p><p>有一种有效实践是发送用户密码+时间戳的md5值。这样可以有效避免被监听。当然还要做一点客户端和服务器端时间差计算的工作量。哪怕被监听。攻击人拿到的加密后密码也很快失效。在做一点单帐号单登录的措施，用户密码安全性还是可以得到很大的保证的。</p></li><li><p>前端 hash 的好处 </p><p>（1）避免明文密码在传输中被获取<br>（2）保证后端日志等不会记录明文密码（也可以防止内鬼盗窃）<br>（3）保证后端内存中无用户明文密码，在 dump 等情况发生时不会出现泄露问题 </p></li></ul><h4><span id="12平时如何管理你的项目">12.平时如何管理你的项目？</span></h4><ul><li>先期团队必须确定好全局样式（globe.css），编码模式(utf-8) 等</li><li>编写习惯必须一致（例如都是采用继承式的写法，单样式都写成一行）</li><li>标注样式编写人，各模块都及时标注（标注关键样式调用的地方）</li><li>页面进行标注（例如 页面 模块 开始和结束）</li><li>CSS 跟 HTML 分文件夹并行存放，命名都得统一，如index.css和index.html</li><li>JS 分文件夹存放，命名以该 JS 功能为准的英文翻译</li><li>图片采用整合的png8格式，尽量整合在一起使用，方便将来的管理。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-box-sizing常用的属性有哪些分别有什么作用&quot;&gt;1. box-sizing常用的属性有哪些？分别有什么作用？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-doctype作用标准模式和兼容模式各有什么区别&quot;&gt;2. Doctype作用？标准模式和兼容模式各有什么区别？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3-html5为什么只需要写doctype-html&quot;&gt;3. HTML5为什么只需要写&amp;lt;!DOCTYPE html&amp;gt;？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4-页面导入样式时使用link和import有什么区别&quot;&gt;4. 页面导入样式时，使用link和@import有什么区别？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5-介绍一下你对浏览器内核的理解&quot;&gt;5. 介绍一下你对浏览器内核的理解？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#6-ie和dom事件流的区别&quot;&gt;6. IE和DOM事件流的区别？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#7-哪些地方会出现css阻塞或js阻塞&quot;&gt;7. 哪些地方会出现CSS阻塞或js阻塞？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#8-说说你对svg的理解&quot;&gt;8. 说说你对SVG的理解？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#9-如何视觉隐藏网页内容只让他们在屏幕阅读器中可用&quot;&gt;9. 如何视觉隐藏网页内容，只让他们在屏幕阅读器中可用？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#10-你如何对网站的文件和资源进行优化&quot;&gt;10. 你如何对网站的文件和资源进行优化？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#11web前端密码加密是否有意义&quot;&gt;11.web前端密码加密是否有意义？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#12平时如何管理你的项目&quot;&gt;12.平时如何管理你的项目？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h4 id=&quot;1-box-sizing常用的属性有哪些？分别有什么作用？&quot;&gt;&lt;a href=&quot;#1-box-sizing常用的属性有哪些？分别有什么作用？&quot; class=&quot;headerlink&quot; title=&quot;1. box-sizing常用的属性有哪些？分别有什么作用？&quot;&gt;&lt;/a&gt;1. box-sizing常用的属性有哪些？分别有什么作用？&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;属性值&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;box-sizing：content-box&lt;/li&gt;
&lt;li&gt;box-sizing：border-box&lt;/li&gt;
&lt;li&gt;box-sizing：inherit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;content-box&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这是box-sizing的默认属性值&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="腾讯训练营" scheme="https://wtlemoney.github.io/categories/%E8%85%BE%E8%AE%AF%E8%AE%AD%E7%BB%83%E8%90%A5/"/>
    
      <category term="面试" scheme="https://wtlemoney.github.io/categories/%E8%85%BE%E8%AE%AF%E8%AE%AD%E7%BB%83%E8%90%A5/%E9%9D%A2%E8%AF%95/"/>
    
      <category term="总结" scheme="https://wtlemoney.github.io/categories/%E8%85%BE%E8%AE%AF%E8%AE%AD%E7%BB%83%E8%90%A5/%E9%9D%A2%E8%AF%95/%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="blogs" scheme="https://wtlemoney.github.io/tags/blogs/"/>
    
      <category term="interview" scheme="https://wtlemoney.github.io/tags/interview/"/>
    
  </entry>
  
  <entry>
    <title>腾讯IMWeb前端训练营作业——经典面试题1</title>
    <link href="https://wtlemoney.github.io/2018/04/03/%E8%85%BE%E8%AE%AF%E9%9D%A2%E8%AF%95%E9%A2%981/"/>
    <id>https://wtlemoney.github.io/2018/04/03/腾讯面试题1/</id>
    <published>2018-04-03T14:05:53.000Z</published>
    <updated>2018-04-07T13:10:33.830Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;这些面试题是我之前参加腾讯前端训练营的时候，每天的一些面试题作业。最近自己参加暑期实习生面试的时候，也被问到过一些类似的问题。所以我整理总结了以前的面试题，通过自己搜索资料学习总结。答案有些是结合自己的理解，有些是网络上一些回答的比较好的答案，仅供参考。</p><!-- toc --><ul><li><a href="#1什么是盒子模型">1.什么是盒子模型？</a></li><li><a href="#2简述一下src与href的区别">2.简述一下src与href的区别？</a></li><li><a href="#3怎样添加-移除-移动-复制-创建和查找节点">3.怎样添加、移除、移动、复制、创建和查找节点？</a></li><li><a href="#4一次完整的http事务是怎样的一个过程">4.一次完整的HTTP事务是怎样的一个过程？</a></li><li><a href="#5你所了解的web攻击技术">5.你所了解的web攻击技术？</a></li><li><a href="#6ajax是什么ajax的交互原理同步和异步的区别">6.ajax是什么？ajax的交互原理？同步和异步的区别？</a></li><li><a href="#4什么叫优雅降级和渐进增强">4.什么叫优雅降级和渐进增强？</a></li><li><a href="#5在javascript中什么是伪数组如何将伪数组转化为标准数组">5.在JavaScript中什么是伪数组？如何将伪数组转化为标准数组？</a></li><li><a href="#6浏览器本地储存">6.浏览器本地储存？</a></li><li><a href="#7线程和进程的区别">7.线程和进程的区别？</a></li><li><a href="#8请说出三种减少页面加载时间的方法">8.请说出三种减少页面加载时间的方法？</a></li><li><a href="#9http状态码">9.HTTP状态码？</a></li><li><a href="#10请解释javascript的同源策略">10.请解释JavaScript的同源策略？</a></li><li><a href="#11get和post的区别何时使用post">11.get和post的区别，何时使用post？</a></li><li><a href="#12-对前端工程师这个职位是怎么样理解的">12. 对前端工程师这个职位是怎么样理解的？</a></li></ul><!-- tocstop --><h4><span id="1什么是盒子模型">1.什么是盒子模型？</span></h4><p><strong>两种</strong>：IE盒子模型、标准W3C盒子模型，包括content、padding、margin、border。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">IE8的width=border-left+padding-left+内容宽度+padding-right+border-right;  </span><br><span class="line">IE8的height=border-top+padding-top+内容高度+padding-bottom+border-bottom; </span><br><span class="line">w3c规定的width=内容宽度; </span><br><span class="line">w3c规定的height=内容高度;</span><br></pre></td></tr></table></figure></p><p>这样有可能导致不同浏览器下获取的width或height的值不同,幸好jquery提供了另外两个方法:<a id="more"></a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">innerWidth():padding-left+内容宽度+padding-right; </span><br><span class="line">outerWidth():border-left+padding-left+内容宽度+padding-right+border-right; </span><br><span class="line">outerWidth(<span class="literal">true</span>):margin-left+border-left+padding-left+内容宽度+padding-right+border-right+margin-right;</span><br></pre></td></tr></table></figure></p><h4><span id="2简述一下src与href的区别">2.简述一下src与href的区别？</span></h4><p><strong>src</strong>指向外部资源的位置，指向的内容将会嵌入到文档中当前标签所在位置；在请求src资源时会将其指向的资源下载并应用到文档内，例如js脚本，img图片和frame等元素。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src =<span class="string">"js.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>当浏览器解析到该元素时，会暂停其他资源的下载和处理，直到将该资源加载、编译、执行完毕，图片和框架等元素也如此，类似于将所指向资源嵌入当前标签内。这也是为什么将js脚本放在底部而不是头部。<br><strong>href</strong>指向网络资源所在位置，建立和当前元素（锚点）或当前文档（链接）之间的链接，如果我们在文档中添加<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link href=<span class="string">"common.css"</span> rel=<span class="string">"stylesheet"</span>/&gt;</span><br></pre></td></tr></table></figure></p><p>那么浏览器会识别该文档为css文件，就会并行下载资源并且不会停止对当前文档的处理。这也是为什么建议使用link方式来加载css，而不是使用@import方式。</p><h4><span id="3怎样添加-移除-移动-复制-创建和查找节点">3.怎样添加、移除、移动、复制、创建和查找节点？</span></h4><p>&emsp;1）创建新节点<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">createDocumentFragment() <span class="comment">//创建一个DOM片段</span></span><br><span class="line">createElement() <span class="comment">//创建一个具体的元素</span></span><br><span class="line">createTextNode() <span class="comment">//创建一个文本节点</span></span><br></pre></td></tr></table></figure></p><p>&emsp;2）添加、移除、替换、插入<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">appendChild() <span class="comment">//添加</span></span><br><span class="line">removeChild() <span class="comment">//移除</span></span><br><span class="line">replaceChild() <span class="comment">//替换</span></span><br><span class="line">insertBefore() <span class="comment">//之前插入</span></span><br><span class="line">insertAfter() <span class="comment">//之后插入</span></span><br><span class="line">cloneNode() <span class="comment">//复制</span></span><br></pre></td></tr></table></figure></p><p>&emsp;3）查找<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">getElementsByTagName() <span class="comment">//通过标签名称</span></span><br><span class="line">getElementsByName() <span class="comment">//通过元素的Name属性的值</span></span><br><span class="line">getElementById() <span class="comment">//通过元素Id，唯一性</span></span><br><span class="line"><span class="built_in">document</span>.getElementsByClassName(<span class="string">""</span>)  <span class="comment">//通过类查找</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">""</span>)</span><br></pre></td></tr></table></figure></p><h4><span id="4一次完整的http事务是怎样的一个过程">4.一次完整的HTTP事务是怎样的一个过程？</span></h4><p>&emsp;&emsp;当我们在浏览器的地址栏输入URL ，然后回车，回车这一瞬间到看到页面到底发生了什么呢？<br>&emsp;&emsp;域名解析 –&gt; 发起TCP的3次握手 –&gt; 建立TCP连接后发起http请求 –&gt; 服务器响应http请求，浏览器得到html代码 –&gt; 浏览器解析html代码，并请求html代码中的资源（如js、css、图片等） –&gt; 浏览器对页面进行渲染呈现给用户  </p><h4><span id="5你所了解的web攻击技术">5.你所了解的web攻击技术？</span></h4><p>&emsp;&emsp;<strong>XSS：跨站脚本攻击</strong>（Cross Site Scripting）<br>攻击者通过注入非法的html标签或者javascript代码，从而当用户浏览该网页时，控制用户浏览器。本质：内容没有过滤导致浏览器将攻击者的输入当代码执行。<br>&emsp;&emsp;<strong>CSRF：跨站点请求伪造</strong>（Cross-Site Request Forgeries）<br>冒充用户发起请求，完成一些违背用户意愿的事情（如修改用户信息，删除评论等）。本质：浏览器在发送HTTP请求时自动带上cookie，而一般网站的session都存在cookie里面。防御：get/post、验证码、请求来源限制、token等。<br>&emsp;&emsp;<strong>clickjacking：点击劫持</strong><br>利用透明的按钮或连接做成陷阱，覆盖在Web网页之上。防御：X-FRAME-OPTIONS(用来给浏览器指示允许一个页面可否在<code>&lt;frame&gt;、&lt;object&gt;</code>等中展现的标记。网站可使用此功能，确保自己网站没有被嵌到别人网站中去)</p><h4><span id="6ajax是什么ajax的交互原理同步和异步的区别">6.ajax是什么？ajax的交互原理？同步和异步的区别？</span></h4><p>&emsp;&emsp;<strong>AJAX</strong> = 异步 JavaScript 和 XML，是一种用于创建快速动态网页的技术。通过在后台与服务器进行少量数据交换，AJAX 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。<br>&emsp;&emsp;<strong>缺点</strong>：ajax用XHR对象做出的请求不会记录在浏览器的历史中。如果你的用户习惯使用浏览器的”后退”按钮在web应用中进行导航，就可能会产生问题。另外，ajax也难以避免一些已知的安全弱点，诸如跨站点脚步攻击、SQL注入攻击和基于credentials的安全漏洞等。</p><p>&emsp;&emsp;<strong>交互原理</strong>：通过XmlHttpRequest对象来向服务器发异步请求，从服务器获得数据，然后用javascript来操作DOM而更新页面。XMLHttpRequest这个对象的属性：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">onreadystatechange 每次状态改变所触发事件的事件处理程序。</span><br><span class="line">  　　responseText       从服务器进程返回数据的字符串形式。</span><br><span class="line">  　　responseXML        从服务器进程返回的DOM兼容的文档数据对象。</span><br><span class="line">  　　status             从服务器返回的数字代码，比如常见的<span class="number">404</span>（未找到）和<span class="number">200</span>（已就绪）</span><br><span class="line">  　　status Text        伴随状态码的字符串信息</span><br><span class="line">  　　readyState         对象状态值</span><br><span class="line">　　　　<span class="number">0</span> (未初始化)      对象已建立，但是尚未初始化（尚未调用open方法）</span><br><span class="line">　　　　<span class="number">1</span> (初始化)        对象已建立，尚未调用send方法</span><br><span class="line">　　　　<span class="number">2</span> (发送数据)     send方法已调用，但是当前的状态及http头未知</span><br><span class="line">　　　　<span class="number">3</span> (数据传送中)    已接收部分数据，因为响应及http头不全，这时通过responseBody和responseText获取部分数据会出现错误</span><br><span class="line">　　　　<span class="number">4</span> (完成)         数据接收完毕,此时可以通过通过responseXml和responseText获取完整的回应数据</span><br></pre></td></tr></table></figure></p><p>&emsp;&emsp;<strong>异步传输</strong>：是面向字符的传输，它的单位是字符；异步传输是将比特分成小组来进行传送。一般每个小组是一个8位字符，在每个小组的头部和尾部都有一个开始位和一个停止位，它在传送过程中接收方和发送方的时钟不要求一致，也就是说，发送方可以在任何时刻发送这些小组，而接收方并不知道它什么时候到达。<br>&emsp;&emsp;<strong>同步传输</strong>：是面向比特的传输，它的单位是桢，它传输的时候要求接受方和发送方的时钟是保持一致的。同步传输的比特分组要大得多。它不是独立地发送每个字符，每个字符都有自己的开始位和停止位，而是把它们组合起来一起发送。同步传输通常要比异步传输快速得多。接收方不必对每个字符进行开始和停止的操作。一旦检测到帧同步字符，它就在接下来的数据到达时接收它们。另外，同步传输的开销也比较少。   </p><h4><span id="4什么叫优雅降级和渐进增强">4.什么叫优雅降级和渐进增强？</span></h4><p>&emsp;&emsp;<strong>优雅降级</strong>：Web站点在所有新式浏览器中都能正常工作，如果用户使用的是老式浏览器，则代码会检查以确认它们是否能正常工作。由于IE独特的盒模型布局问题，针对不同版本的IE的hack实践过优雅降级了,为那些无法支持功能的浏览器增加候选方案，使之在旧式浏览器上以某种形式降级体验却不至于完全失效.<br>&emsp;&emsp;<strong>渐进增强</strong>：从被所有浏览器支持的基本功能开始，逐步地添加那些只有新式浏览器才支持的功能,向页面增加无害于基础浏览器的额外样式和功能的。当浏览器支持时，它们会自动地呈现出来并发挥作用。</p><h4><span id="5在javascript中什么是伪数组如何将伪数组转化为标准数组">5.在JavaScript中什么是伪数组？如何将伪数组转化为标准数组？</span></h4><p>&emsp;&emsp;<strong>伪数组</strong>（类数组）：无法直接调用数组方法或期望length属性有什么特殊的行为，但仍可以用真正数组的遍历方法遍历它们。典型的是函数的argument参数，还有像调用<code>getElementByTagName</code>,<code>document.childNodes</code>之类的，它们都返回NodeList对象都属于伪数组。<br>&emsp;&emsp;可以通过Array.prototype.slice.call(fakeArray)将伪数组转化为真正的Array对象。</p><h4><span id="6浏览器本地储存">6.浏览器本地储存？</span></h4><p>&emsp;&emsp;在 HTML5 中提供了 sessionStorage 和 localStorage 。<br>&emsp;&emsp;<strong>sessionStorage</strong>：用于本地存储一个会话（ session ）中的数据，这些数据只有在同一个会话中的页面才能访问，会话结束后数据随之销毁。因此它不是一种持久化的本地存储，仅仅是会话级别的存储。<br>&emsp;&emsp;<strong>localStorage</strong>：用于持久化的本地存储，除非主动删除数据，否则数据是永远不会过期的。IE8及以上都兼容。<br>&emsp;&emsp;<strong>cookie</strong>：当用户访问了某个网站（网页）时，我们就可通过cookie来向访问者电脑上存储数据。或者，某些网站为了辨别用户身份，进行session跟踪而存储在用户本地终端上的数据（加密）。cookie值既可以设置，也可以读取。如何工作：1）当网页要发http请求时，浏览器会先检查是否有相应的cookie，有则自动添加在request header中的字段中。2）对于那种设置“每次请求都要携带的信息”（最典型：身份认证信息）特别适合放在cookie中，其他类型的数据就不适合了。</p><h4><span id="7线程和进程的区别">7.线程和进程的区别？</span></h4><p>&emsp;&emsp;进程有独立的地址空间，一个进程崩溃后，在保护模式下不会对其它进程产生影响，而线程只是一个进程中的不同执行路径。以多进程形式，允许多个任务同时运行；以多线程形式，允许单个任务分成不同的部分运行；</p><h4><span id="8请说出三种减少页面加载时间的方法">8.请说出三种减少页面加载时间的方法？</span></h4><p>&emsp;&emsp;1）优化图片<br>&emsp;&emsp;2）图像格式的选择（GIF：提供的颜色较少，可用在一些对颜色要求不高的地方）<br>&emsp;&emsp;3）优化CSS（压缩合并css，如 margin-top, margin-left…)<br>&emsp;&emsp;4）网址后加斜杠（如<a href="http://www.campr.com/目录，会判断这个目录是什么文件类型，或者是目录。）" target="_blank" rel="noopener">www.campr.com/目录，会判断这个目录是什么文件类型，或者是目录。）</a><br>&emsp;&emsp;5）标明高度和宽度（如果浏览器没有找到这两个参数，它需要一边下载图片一边计算大小，如果图片很多，浏览器需要不断地调整页面。这不但影响速度，也影响浏览体验。当浏览器知道了高度和宽度参数后，即使图片暂时无法显示，页面上也会腾出图片的空位，然后继续加载后面的内容。从而加载时间快了，浏览体验也更好了）<br>&emsp;&emsp;6）减少http请求（合并文件，合并图片）CSS精灵，将JS代码写在body后面</p><h4><span id="9http状态码">9.HTTP状态码？</span></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>xx: 信息性状态码，表示服务器接收到请求正在处理。</span><br><span class="line"><span class="number">2</span>xx: 成功状态码，表示服务器正确处理完请求。</span><br><span class="line"><span class="number">3</span>xx: 重定向状态码，表示请求的资源位置发生改变，需要重新请求。<span class="number">301</span>永久重定向，<span class="number">302</span>临时重定向。</span><br><span class="line"><span class="number">4</span>xx: 客户端错误状态码，服务器无法处理该请求。 <span class="number">404</span> not found</span><br><span class="line"><span class="number">5</span>xx: 服务器错误状态码，服务器处理请求出错。</span><br><span class="line"></span><br><span class="line"><span class="number">100</span> Continue 继续，一般在发送post请求时，已发送了http header之后服务端将返回此信息，表示确认，之后发送具体参数信息</span><br><span class="line"><span class="number">200</span> OK 正常返回信息</span><br><span class="line"><span class="number">201</span> Created 请求成功并且服务器创建了新的资源</span><br><span class="line"><span class="number">202</span> Accepted 服务器已接受请求，但尚未处理</span><br><span class="line"><span class="number">301</span> Moved Permanently 请求的网页已永久移动到新位置</span><br><span class="line"><span class="number">302</span> Found 临时性重定向</span><br><span class="line"><span class="number">303</span> See Other 临时性重定向，且总是使用 GET 请求新的 URI</span><br><span class="line"><span class="number">304</span> Not Modified 自从上次请求后，请求的网页未修改过</span><br><span class="line"><span class="number">400</span> Bad Request 服务器无法理解请求的格式，客户端不应当尝试再次使用相同的内容发起请求</span><br><span class="line"><span class="number">401</span> Unauthorized 请求未授权</span><br><span class="line"><span class="number">403</span> Forbidden 禁止访问</span><br><span class="line"><span class="number">404</span> Not Found 找不到如何与 URI 相匹配的资源</span><br><span class="line"><span class="number">500</span> Internal Server <span class="built_in">Error</span> 最常见的服务器端错误</span><br><span class="line"><span class="number">503</span> Service Unavailable 服务器端暂时无法处理请求（可能是过载或维护）</span><br></pre></td></tr></table></figure><h4><span id="10请解释javascript的同源策略">10.请解释JavaScript的同源策略？</span></h4><p>&emsp;&emsp;<strong>同源策略</strong>是客户端脚本（尤其是Javascript）的重要的安全度量标准，目的是防止某个文档或脚本从多个不同源装载。同源策略：协议，域名，端口相同，它是一种安全协议，指一段脚本只能读取来自同一来源的窗口和文档的属性，无法访问其它域的资源。</p><h4><span id="11get和post的区别何时使用post">11.get和post的区别，何时使用post？</span></h4><p>&emsp;&emsp;<strong>GET</strong>：一般用于信息获取，使用URL传递参数，对所发送信息的数量也有限制，一般在2000个字符<br>&emsp;&emsp;<strong>POST</strong>：一般用于修改服务器上的资源，对所发送的信息没有限制<br>&emsp;&emsp;HTTP中的GET，POST，PUT，DELETE就对应着对这个资源的查，改，增，删4个操作。GET一般用于获取/查询资源信息，而POST一般用于更新资源信息。<br>&emsp;&emsp;在以下情况中，请使用 POST 请求：<br>&emsp;&emsp;1）无法使用缓存文件（更新服务器上的文件或数据库）<br>&emsp;&emsp;2）向服务器发送大量数据（POST 没有数据量限制）<br>&emsp;&emsp;3）发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠<br>&emsp;&emsp;安全性：<br>&emsp;&emsp;1）GET不会修改服务端数据，POST可以修改数据<br>&emsp;&emsp;2）URL方式发起GET请求，参数会明文暴露<br>&emsp;&emsp;3）使用GET提交数据还可能会造成Cross-site request forgery攻击<br>&emsp;&emsp;4）本质上安全性无区别</p><h4><span id="12-对前端工程师这个职位是怎么样理解的">12. 对前端工程师这个职位是怎么样理解的？</span></h4><p>前端是最贴近用户的程序员，比后端、数据库、产品经理、运营、安全都近。</p><ul><li><p>实现界面交互</p></li><li><p>提升用户体验</p></li><li><p>有了Node.js，前端可以实现服务端的一些事情</p></li><li><p>前端是最贴近用户的程序员，前端的能力就是能让产品从 90分进化到 100 分，甚至更好</p></li><li><p>参与项目，快速高质量完成实现效果图，精确到1px</p></li><li><p>与团队成员，UI设计，产品经理的沟通</p></li><li><p>做好的页面结构，页面重构和用户体验</p></li><li><p>处理hack，兼容、写出优美的代码格式</p></li><li><p>针对服务器的优化、拥抱最新前端技术</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;这些面试题是我之前参加腾讯前端训练营的时候，每天的一些面试题作业。最近自己参加暑期实习生面试的时候，也被问到过一些类似的问题。所以我整理总结了以前的面试题，通过自己搜索资料学习总结。答案有些是结合自己的理解，有些是网络上一些回答的比较好的答案，仅供参考。&lt;/p&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1什么是盒子模型&quot;&gt;1.什么是盒子模型？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2简述一下src与href的区别&quot;&gt;2.简述一下src与href的区别？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3怎样添加-移除-移动-复制-创建和查找节点&quot;&gt;3.怎样添加、移除、移动、复制、创建和查找节点？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4一次完整的http事务是怎样的一个过程&quot;&gt;4.一次完整的HTTP事务是怎样的一个过程？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5你所了解的web攻击技术&quot;&gt;5.你所了解的web攻击技术？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#6ajax是什么ajax的交互原理同步和异步的区别&quot;&gt;6.ajax是什么？ajax的交互原理？同步和异步的区别？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4什么叫优雅降级和渐进增强&quot;&gt;4.什么叫优雅降级和渐进增强？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5在javascript中什么是伪数组如何将伪数组转化为标准数组&quot;&gt;5.在JavaScript中什么是伪数组？如何将伪数组转化为标准数组？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#6浏览器本地储存&quot;&gt;6.浏览器本地储存？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#7线程和进程的区别&quot;&gt;7.线程和进程的区别？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#8请说出三种减少页面加载时间的方法&quot;&gt;8.请说出三种减少页面加载时间的方法？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#9http状态码&quot;&gt;9.HTTP状态码？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#10请解释javascript的同源策略&quot;&gt;10.请解释JavaScript的同源策略？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#11get和post的区别何时使用post&quot;&gt;11.get和post的区别，何时使用post？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#12-对前端工程师这个职位是怎么样理解的&quot;&gt;12. 对前端工程师这个职位是怎么样理解的？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h4 id=&quot;1-什么是盒子模型？&quot;&gt;&lt;a href=&quot;#1-什么是盒子模型？&quot; class=&quot;headerlink&quot; title=&quot;1.什么是盒子模型？&quot;&gt;&lt;/a&gt;1.什么是盒子模型？&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;两种&lt;/strong&gt;：IE盒子模型、标准W3C盒子模型，包括content、padding、margin、border。&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;IE8的width=border-left+padding-left+内容宽度+padding-right+border-right;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;IE8的height=border-top+padding-top+内容高度+padding-bottom+border-bottom; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;w3c规定的width=内容宽度; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;w3c规定的height=内容高度;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这样有可能导致不同浏览器下获取的width或height的值不同,幸好jquery提供了另外两个方法:&lt;/p&gt;
    
    </summary>
    
      <category term="腾讯训练营" scheme="https://wtlemoney.github.io/categories/%E8%85%BE%E8%AE%AF%E8%AE%AD%E7%BB%83%E8%90%A5/"/>
    
      <category term="面试" scheme="https://wtlemoney.github.io/categories/%E8%85%BE%E8%AE%AF%E8%AE%AD%E7%BB%83%E8%90%A5/%E9%9D%A2%E8%AF%95/"/>
    
      <category term="总结" scheme="https://wtlemoney.github.io/categories/%E8%85%BE%E8%AE%AF%E8%AE%AD%E7%BB%83%E8%90%A5/%E9%9D%A2%E8%AF%95/%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="blogs" scheme="https://wtlemoney.github.io/tags/blogs/"/>
    
      <category term="interview" scheme="https://wtlemoney.github.io/tags/interview/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript之处理数组</title>
    <link href="https://wtlemoney.github.io/2018/04/02/%E6%95%B0%E7%BB%84/"/>
    <id>https://wtlemoney.github.io/2018/04/02/数组/</id>
    <published>2018-04-01T16:38:49.000Z</published>
    <updated>2018-05-22T03:44:08.259Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;哈哈，看似是些简单的处理数组的函数，但是由于平时码的少，实习生笔试的时候走了弯路吃了亏啊，写的很慢呀。。。有些是忘记了，有些是参数和返回值记忆模糊了，所以多码码，总结总结。持续更新中…<a id="more"></a></p><!-- toc --><ul><li><a href="#1数组的创建">1.数组的创建</a></li><li><a href="#2数组的检测">2.数组的检测</a></li><li><a href="#3数组的方法">3.数组的方法</a><ul><li><a href="#splice">splice()</a></li><li><a href="#slice">slice()</a></li><li><a href="#filter">filter()</a></li><li><a href="#map">map()</a></li><li><a href="#reduce">reduce()</a></li><li><a href="#reduceright">reduceRight()</a></li><li><a href="#every">every()</a></li><li><a href="#some">some()</a></li><li><a href="#pop">pop()</a></li><li><a href="#shift">shift()</a></li><li><a href="#unshift">unshift()</a></li><li><a href="#push">push()</a></li><li><a href="#reverse">reverse()</a></li><li><a href="#sort">sort()</a></li><li><a href="#tostring">toString()</a></li><li><a href="#concat">concat()</a></li><li><a href="#join">join()</a></li><li><a href="#indexoflastindexof">indexOf(),lastIndexOf()</a></li><li><a href="#foreach">forEach()</a></li><li><a href="#fill">fill()</a></li><li><a href="#findfindindex">find()/findIndex()</a></li><li><a href="#copywithin">copyWithin()</a></li><li><a href="#includes">includes()</a></li><li><a href="#entries">entries()</a></li></ul></li><li><a href="#4构造函数的方法">4.构造函数的方法</a><ul><li><a href="#arrayfrom">Array.from()</a></li></ul></li></ul><!-- tocstop --><h3><span id="1数组的创建">1.数组的创建</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造函数方式，new可以省略</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(); <span class="comment">// 创建空数组</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>); <span class="comment">// 创建长度为10的数组</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'a'</span>); <span class="comment">// ['a']</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>, <span class="string">'a'</span>); <span class="comment">// [10,'a']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//字面量方式</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">10</span>, <span class="string">'a'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//Array.of(),ES6新增</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>.of(<span class="number">1</span>); <span class="comment">// [1]</span></span><br><span class="line"><span class="keyword">let</span> arr1 = <span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="string">'a'</span>, <span class="literal">true</span>, <span class="literal">null</span>, <span class="literal">undefined</span>, &#123;<span class="attr">name</span>: <span class="string">"zhangsan"</span>&#125;, [<span class="number">45</span>]); <span class="comment">// [ 1, 'a', true, null, undefined, &#123; name: 'zhangsan' &#125;, [ 45 ] ]</span></span><br></pre></td></tr></table></figure><h3><span id="2数组的检测">2.数组的检测</span></h3><ul><li>toString()<br>  <code>Object.prototype.toString.call([])===&quot;object Array&quot;;//true</code></li><li>Array.isArray()<br>  <code>Array,isArray([1,&#39;a&#39;,null]);//true</code>;</li></ul><h3><span id="3数组的方法">3.数组的方法</span></h3><h4><span id="splice">splice()</span></h4><p>返回值：被删除的元素数组<br>原数组是否改变：是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">'d'</span>];</span><br><span class="line">arr.splice(<span class="number">1</span>,<span class="number">2</span>,<span class="string">'b'</span>,<span class="string">'c'</span>);<span class="comment">//[4,5]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//["a", "b", "c", "d"]</span></span><br></pre></td></tr></table></figure></p><h4><span id="slice">slice()</span></h4><p>返回值：截取的元素组成的数组<br>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>];</span><br><span class="line">arr.slice(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//['b']</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//["a", "b", "c", "d"]</span></span><br></pre></td></tr></table></figure></p><!-- more -->    <h4><span id="filter">filter()</span></h4><p>返回值：新的数组<br>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBigEnough</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value&gt;=<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">12</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">130</span>,<span class="number">44</span>];</span><br><span class="line">arr.filter(isBigEnough);<span class="comment">//[12,130,44]</span></span><br></pre></td></tr></table></figure></p><h4><span id="map">map()</span></h4><p>返回值：新的数组<br>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> res=arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x*x;</span><br><span class="line">&#125;);<span class="comment">//res=[1,4,9]</span></span><br></pre></td></tr></table></figure></p><h4><span id="reduce">reduce()</span></h4><p>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> res=arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;);<span class="comment">//res=15</span></span><br></pre></td></tr></table></figure></p><h4><span id="reduceright">reduceRight()</span></h4><p>从数组的最后一项开始，逐步遍历到第一项，迭代数组的所有项<br>返回值：数组迭代后，整体的迭代结果<br>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拼接字符串,从后向前迭代数组进行拼接</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'h'</span>, <span class="string">'e'</span>, <span class="string">'l'</span>, <span class="string">'l'</span>, <span class="string">'o'</span>];</span><br><span class="line"><span class="keyword">let</span> str = arr.reduceRight(<span class="function">(<span class="params">prev, cur, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> prev + cur;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr, str); <span class="comment">// [ 'h', 'e', 'l', 'l', 'o' ] 'olleh'</span></span><br></pre></td></tr></table></figure></p><h4><span id="every">every()</span></h4><p>判断arr是否都满足x&gt;=18的条件<br>返回值：true或false<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> arr=[<span class="number">12</span>,<span class="number">34</span>,<span class="number">56</span>];</span><br><span class="line">    <span class="keyword">var</span> res=arr.every(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x&gt;=<span class="number">18</span>;</span><br><span class="line">    &#125;);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法的第二个参数可选，作用是设定第一个参数中的this指向，如果使用第二个参数，注意callback不能是箭头函数</span></span><br><span class="line"><span class="comment">// 迭代方法涉及此参数的，用法相同</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.every(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item &gt; <span class="keyword">this</span>.id;</span><br><span class="line">&#125;, &#123;<span class="attr">id</span>: <span class="number">2</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [ 1, 2, 3, 4 ] false</span></span><br></pre></td></tr></table></figure></p><h4><span id="some">some()</span></h4><p>判断是否有满足条件的<br>返回值：true或false<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">12</span>,<span class="number">34</span>,<span class="number">56</span>];</span><br><span class="line"><span class="keyword">var</span> res=arr.some(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">18</span>;</span><br><span class="line">&#125;);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p><h4><span id="pop">pop()</span></h4><p>返回值：最后一个元素(栈顶元素)<br>原数组是否改变：是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.pop();<span class="comment">//3</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//[1,2]</span></span><br></pre></td></tr></table></figure></p><h4><span id="shift">shift()</span></h4><p>返回值：第一个元素(栈底元素)<br>原数组是否改变：是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.shift();<span class="comment">//1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//[2,3]</span></span><br></pre></td></tr></table></figure></p><h4><span id="unshift">unshift()</span></h4><p>返回值：添加元素后数组的长度<br>原数组是否改变：是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.unshift(<span class="string">'a'</span>);<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//['a',1,2,3]</span></span><br></pre></td></tr></table></figure></p><h4><span id="push">push()</span></h4><p>返回值：添加元素后数组的长度<br>原数组是否改变：是</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr=[<span class="number">2</span>,<span class="string">'a'</span>,<span class="string">'b'</span>];</span><br><span class="line"><span class="keyword">let</span> temp=arr.push(<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr,temp);<span class="comment">//[2,'a','b',3,4] 5</span></span><br></pre></td></tr></table></figure><h4><span id="reverse">reverse()</span></h4><p>返回值：翻转后的数组<br>原数组是否改变：是  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.reverse();</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [ 3, 2, 1 ] [ 3, 2, 1 ]</span></span><br></pre></td></tr></table></figure><h4><span id="sort">sort()</span></h4><p>返回值：排序后的数组<br>原数组是否改变：是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 数组从小到大排序</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [ 1, 2, 3, 4, 6, 7, 8 ] [ 1, 2, 3, 4, 6, 7, 8 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个实用的数组排序的例子，根据对象元素的排序，排序对象在数组中的位置</span></span><br><span class="line"><span class="keyword">let</span> objArr = [&#123;<span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">"lilei"</span>&#125;,&#123;<span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">"hanmeimei"</span>&#125;,&#123;<span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">"yimi"</span>&#125;];</span><br><span class="line"><span class="keyword">let</span> tempArr = objArr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 按照id从小到大的顺序，对数组中的对象进行排序</span></span><br><span class="line">    <span class="comment">// 这个示例说明回调函数的形参a,b实际就是数组中当前进行比对的两个元素</span></span><br><span class="line">    <span class="keyword">return</span> a.id - b.id;</span><br><span class="line">&#125;); </span><br><span class="line"><span class="built_in">console</span>.log(objArr); <span class="comment">//  [&#123;id: 1, name: 'hanmeimei'&#125;, &#123;id: 2, name: 'yimi'&#125;, &#123; id: 3, name: 'lilei' &#125;]</span></span><br><span class="line"><span class="built_in">console</span>.log(tempArr); <span class="comment">// [&#123;id: 1, name: 'hanmeimei'&#125;, &#123;id: 2, name: 'yimi'&#125;, &#123; id: 3, name: 'lilei'&#125;]</span></span><br></pre></td></tr></table></figure></p><h4><span id="tostring">toString()</span></h4><p>返回值：以逗号分隔de字符串</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].toString();<span class="comment">//"1,2,3"</span></span><br><span class="line">[<span class="number">1</span>, [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">4</span>]], &#123;<span class="attr">name</span>: <span class="string">"zhangsan"</span>&#125;, <span class="number">3</span>].toString();<span class="comment">//'1,1,2,4,[object Object],3'</span></span><br></pre></td></tr></table></figure><h4><span id="concat">concat()</span></h4><p>返回值：拼接后的数组<br>原数组是否改变：否</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.concat(<span class="string">'a'</span>, &#123;<span class="attr">id</span>:<span class="number">1</span>&#125;, [<span class="string">'lilei'</span>, <span class="string">'hanmeimei'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [ 1, 2 ] [ 1, 2, 'a', &#123; id: 1 &#125;, 'lilei', 'hanmeimei']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用于复制数组</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.concat();</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp);  <span class="comment">// [ 1, 2 ] [ 1, 2 ]</span></span><br></pre></td></tr></table></figure><h4><span id="join">join()</span></h4><p>返回值：拼接后的字符串<br>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">4</span>]], &#123;<span class="attr">name</span>: <span class="string">"zhangsan"</span>&#125;, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.join();</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// '1,1,2,4,[object Object],3'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组求和</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(arr1.join(<span class="string">'+'</span>))); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure></p><h4><span id="indexoflastindexof">indexOf(),lastIndexOf()</span></h4><p>返回值：找到返回索引值，否则返回-1<br>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>];</span><br><span class="line"><span class="comment">// 从数组开头开始查找</span></span><br><span class="line"><span class="keyword">let</span> temp = arr.indexOf(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [ 1, 2, 3, 4, 5, 6, 2 ] 1</span></span><br><span class="line"><span class="comment">// 从指定的位置开始查找</span></span><br><span class="line"><span class="keyword">let</span> temp1 = arr.indexOf(<span class="number">2</span>,<span class="number">3</span>); <span class="comment">// 从索引3(包括)的位置向后查找元素2</span></span><br><span class="line"><span class="built_in">console</span>.log(arr, temp1); <span class="comment">// [ 1, 2, 3, 4, 5, 6, 2 ] 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>];</span><br><span class="line"><span class="comment">// 从数组末尾开始查找</span></span><br><span class="line"><span class="keyword">let</span> temp = arr.lastIndexOf(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [ 1, 2, 3, 4, 5, 6, 2 ] 6</span></span><br><span class="line"><span class="comment">// 从指定的位置开始查找</span></span><br><span class="line"><span class="keyword">let</span> temp1 = arr.lastIndexOf(<span class="number">2</span>,<span class="number">3</span>); <span class="comment">// 从索引3(包括)的位置向前查找元素2</span></span><br><span class="line"><span class="built_in">console</span>.log(arr, temp1); <span class="comment">// [ 1, 2, 3, 4, 5, 6, 2 ] 1</span></span><br></pre></td></tr></table></figure></p><h4><span id="foreach">forEach()</span></h4><p>forEach在所有项都遍历完成之前，无法像for循环一样提前终止循环<br>返回值：无<br>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.forEach(<span class="function">(<span class="params">item, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 不会有返回值，但可在这里执行某些操作</span></span><br><span class="line">    <span class="keyword">return</span> item * item;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [ 1, 2, 3, 4 ] undefined</span></span><br></pre></td></tr></table></figure></p><h4><span id="fill">fill()</span></h4><p>ES6新增<br>作用：用指定元素，填充数组从start(包括)到end（不包括）之间的元素，如果该区间内已经有元素，直接替换掉（ES6新增）<br>参数：value[, start[, end]]<br>返回值：填充后的数组<br>原数组是否改变：是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.fill(<span class="string">'a'</span>, <span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [1, 2, 'a', 'a', 5] [1, 2, 'a', 'a', 5]</span></span><br></pre></td></tr></table></figure></p><h4><span id="findfindindex">find()/findIndex()</span></h4><p>find()为ES6新增<br>作用：查找数组中第一个符合条件的元素所在位置的索引，并返回该索引值<br>参数：callback[, thisArg]<br>参数说明：参数的使用同forEach、every、map、some、filter方法一致<br>返回值：找到返回该索引值，没找到返回undefined/-1<br>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.findIndex(<span class="function">(<span class="params">item, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item &gt; <span class="number">2</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [1, 2, 3, 4, 5] 2</span></span><br></pre></td></tr></table></figure></p><h4><span id="copywithin">copyWithin()</span></h4><p>ES6新增<br>作用：在数组长度的范围内，复制start(包括)到end(不包括)范围内的元素，换掉从target（包括）开始到数组结尾的元素，能替换多少就替换多少<br>参数说明：target[,start[,end]]</p><ul><li>target: 复制的目标位置（包括），即要被替换的元素开始的位置</li><li>start: 要copy的元素的开始位置，默认0</li><li>end: 要copy的元素的结束位置，默认为数组最后一个元素<br>返回值：复制替换之后的数组<br>原数组是否改变：是  </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.copyWithin(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">//  [1, 2, 3, 1, 2] [1, 2, 3, 1, 2]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> temp1 = arr1.copyWithin(<span class="number">3</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1, temp1); <span class="comment">// [1, 2, 3, 3, 4] [1, 2, 3, 3, 4]</span></span><br></pre></td></tr></table></figure><h4><span id="includes">includes()</span></h4><p>ES7新增<br>返回值：true或false<br>原数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> temp = arr.includes(<span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr, temp); <span class="comment">// [1, 2, 3, 4, 5] true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这个方法弥补了indexOf查看元素时的一个不足，即查找NaN的误差</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="literal">NaN</span>, <span class="string">'a'</span>];</span><br><span class="line"><span class="keyword">let</span> temp1 = arr1.includes(<span class="literal">NaN</span>);</span><br><span class="line"><span class="keyword">let</span> temp2 = arr1.indexOf(<span class="literal">NaN</span>);</span><br><span class="line"><span class="built_in">console</span>.log(temp1, temp2); <span class="comment">//true -1</span></span><br></pre></td></tr></table></figure></p><h4><span id="entries">entries()</span></h4><p>ES6新增<br>作用：对数组键值对的遍历。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">"w"</span>,<span class="string">"b"</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> a <span class="keyword">of</span> arr.entries())&#123;</span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//[0,w],[1,b]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3><span id="4构造函数的方法">4.构造函数的方法</span></h3><h4><span id="arrayfrom">Array.from()</span></h4><p>Array.from() 等价于 <code>Array.prototype.slice.call(arguments,0)</code><br>返回值：转化后的数组<br>原类数组是否改变：否<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'hello'</span>;</span><br><span class="line"><span class="keyword">let</span> temp = <span class="built_in">Array</span>.from(str);</span><br><span class="line"><span class="built_in">console</span>.log(str, temp); <span class="comment">// hello [ 'h', 'e', 'l', 'l', 'o' ]</span></span><br><span class="line"><span class="keyword">let</span> temp1 = <span class="built_in">Array</span>.from(str, (item, index, arr) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> item.toUpperCase();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(str, temp1); <span class="comment">// hello [ 'H', 'E', 'L', 'L', 'O' ]</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;哈哈，看似是些简单的处理数组的函数，但是由于平时码的少，实习生笔试的时候走了弯路吃了亏啊，写的很慢呀。。。有些是忘记了，有些是参数和返回值记忆模糊了，所以多码码，总结总结。持续更新中…&lt;/p&gt;
    
    </summary>
    
      <category term="数组" scheme="https://wtlemoney.github.io/categories/%E6%95%B0%E7%BB%84/"/>
    
      <category term="函数" scheme="https://wtlemoney.github.io/categories/%E6%95%B0%E7%BB%84/%E5%87%BD%E6%95%B0/"/>
    
      <category term="ES6" scheme="https://wtlemoney.github.io/categories/%E6%95%B0%E7%BB%84/%E5%87%BD%E6%95%B0/ES6/"/>
    
    
      <category term="JavaScript" scheme="https://wtlemoney.github.io/tags/JavaScript/"/>
    
      <category term="array" scheme="https://wtlemoney.github.io/tags/array/"/>
    
      <category term="function" scheme="https://wtlemoney.github.io/tags/function/"/>
    
  </entry>
  
  <entry>
    <title>作用域闭包</title>
    <link href="https://wtlemoney.github.io/2018/03/30/%E9%97%AD%E5%8C%85/"/>
    <id>https://wtlemoney.github.io/2018/03/30/闭包/</id>
    <published>2018-03-30T12:48:11.000Z</published>
    <updated>2018-04-19T11:33:43.556Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1-什么是闭包">1. 什么是闭包？</a></li><li><a href="#2-循环和闭包">2. 循环和闭包</a></li><li><a href="#3-闭包的好处">3. 闭包的好处</a><ul><li><a href="#31-减少局部变量">3.1 减少局部变量</a></li><li><a href="#32-减少传递给函数的参数变量">3.2 减少传递给函数的参数变量</a></li><li><a href="#33-封装">3.3 封装</a></li></ul></li></ul><!-- tocstop --><h4><span id="1-什么是闭包">1. 什么是闭包？</span></h4><p>&emsp;&emsp;OK,来看下面一段能清晰展示闭包的代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz=foo();</span><br><span class="line">baz();<span class="comment">//2</span></span><br></pre></td></tr></table></figure></p><a id="more"></a><p>&emsp;&emsp;闭包使得函数bar()可以继续访问定义时的词法作用域。函数能被外部调用到，则该作用域链上的所有变量都会被保存下来。  </p><blockquote><ul><li>定义：包就是能够读取其他函数内部变量的函数。由于在JavaScript语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解为“定义在一个函数内部的函数”。</li><li>本质：闭包是将函数内部和外部连接起来的桥梁。</li><li>用处：一是可以读取函数内部的变量；二是让这些变量的值始终保持在内存中。</li><li>注意点：<br>&emsp;&emsp;&emsp;1）不能滥用闭包<br>&emsp;&emsp;由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能会导致内存泄漏。<br>&emsp;&emsp;解决方法：在退出函数之前，将不使用的局部变量全部删除。<br>&emsp;&emsp;&emsp;2）不要随便改变父函数内部变量的值。<br>&emsp;&emsp;把父函数当作对象使用，闭包当作它的公有方法，内部变量当作它的私有属性，闭包会在父函数外部，改变父函数变量的值，所以要注意。  </li></ul></blockquote><h4><span id="2-循环和闭包">2. 循环和闭包</span></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;,i*<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;正常情况下，这段代码预期会分别输出数字1-5，每秒一次，每次一个(注意是i*1000,不是1000)。但实际上，这段代码会以每秒一次的频率输出五次6(如果是1000，五个6会同一时间输出)！这是因为：循环的终止条件是i=6，而延迟函数的回调会在循坏结束时在执行。<br>&emsp;&emsp;试一下这样可以输出预期的1-5吗：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">      (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(i);</span><br><span class="line">      &#125;,i*<span class="number">1000</span>);</span><br><span class="line">&#125;)();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>&emsp;&emsp;答案是不行！这样每个延迟函数确实将立即执行函数在每次迭代中创建的作用域封闭起来，但是作用域是空的，所以它需要有自己的变量，用来在迭代中储存i的值。像下面这样：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">      (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> j=i;</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(j);</span><br><span class="line">      &#125;,j*<span class="number">1000</span>);</span><br><span class="line">&#125;)();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>&emsp;&emsp;可以对上面的代码进行改进：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">      (<span class="function"><span class="keyword">function</span>(<span class="params">j</span>)</span>&#123;<span class="comment">//将i传递进来，将变量名定为j，当然也可以还叫作i</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(j);</span><br><span class="line">      &#125;,j*<span class="number">1000</span>);</span><br><span class="line">&#125;)(i);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>&emsp;&emsp;块作用域和闭包联手，听说天下无敌，不信你看：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(j);</span><br><span class="line">   &#125;,j*<span class="number">1000</span>);<span class="comment">//程序员的快乐</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4><span id="3-闭包的好处">3. 闭包的好处</span></h4><h5><span id="31-减少局部变量">3.1 减少局部变量</span></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;a++;alert(a);&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result=f();</span><br><span class="line">result();<span class="comment">//1</span></span><br><span class="line">result();<span class="comment">//2</span></span><br></pre></td></tr></table></figure><h5><span id="32-减少传递给函数的参数变量">3.2 减少传递给函数的参数变量</span></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calFactory</span>(<span class="params">base</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">max</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> total=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=max;i++)&#123;</span><br><span class="line">            total+=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> total+base;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> adder=calFactory(<span class="number">2</span>);</span><br><span class="line">adder(<span class="number">3</span>);<span class="comment">//8</span></span><br></pre></td></tr></table></figure><h5><span id="33-封装">3.3 封装</span></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> m=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getM</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> m;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">setM</span>(<span class="params">val</span>)</span>&#123;m=val;&#125;</span><br><span class="line">    <span class="built_in">window</span>.g=getM;</span><br><span class="line">    <span class="built_in">window</span>.f=setM;</span><br><span class="line">&#125;)();</span><br><span class="line">f(<span class="number">12</span>);</span><br><span class="line">alert(g());<span class="comment">//12</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-什么是闭包&quot;&gt;1. 什么是闭包？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-循环和闭包&quot;&gt;2. 循环和闭包&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3-闭包的好处&quot;&gt;3. 闭包的好处&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#31-减少局部变量&quot;&gt;3.1 减少局部变量&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#32-减少传递给函数的参数变量&quot;&gt;3.2 减少传递给函数的参数变量&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#33-封装&quot;&gt;3.3 封装&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h4 id=&quot;1-什么是闭包？&quot;&gt;&lt;a href=&quot;#1-什么是闭包？&quot; class=&quot;headerlink&quot; title=&quot;1. 什么是闭包？&quot;&gt;&lt;/a&gt;1. 什么是闭包？&lt;/h4&gt;&lt;p&gt;&amp;emsp;&amp;emsp;OK,来看下面一段能清晰展示闭包的代码：&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a=&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;bar&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(a);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; bar;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; baz=foo();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;baz();&lt;span class=&quot;comment&quot;&gt;//2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="闭包" scheme="https://wtlemoney.github.io/categories/%E9%97%AD%E5%8C%85/"/>
    
      <category term="你不知道的JavaScript" scheme="https://wtlemoney.github.io/categories/%E9%97%AD%E5%8C%85/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://wtlemoney.github.io/tags/JavaScript/"/>
    
      <category term="blogs" scheme="https://wtlemoney.github.io/tags/blogs/"/>
    
      <category term="闭包" scheme="https://wtlemoney.github.io/tags/%E9%97%AD%E5%8C%85/"/>
    
  </entry>
  
</feed>
